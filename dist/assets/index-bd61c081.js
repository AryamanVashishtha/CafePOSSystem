function XA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(t,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var ve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function YA(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),n}var _E={exports:{}},Bf={},wE={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bl=Symbol.for("react.element"),QA=Symbol.for("react.portal"),ZA=Symbol.for("react.fragment"),JA=Symbol.for("react.strict_mode"),e5=Symbol.for("react.profiler"),t5=Symbol.for("react.provider"),n5=Symbol.for("react.context"),r5=Symbol.for("react.forward_ref"),o5=Symbol.for("react.suspense"),i5=Symbol.for("react.memo"),s5=Symbol.for("react.lazy"),ov=Symbol.iterator;function a5(t){return t===null||typeof t!="object"?null:(t=ov&&t[ov]||t["@@iterator"],typeof t=="function"?t:null)}var EE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xE=Object.assign,CE={};function Ia(t,e,n){this.props=t,this.context=e,this.refs=CE,this.updater=n||EE}Ia.prototype.isReactComponent={};Ia.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ia.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function AE(){}AE.prototype=Ia.prototype;function K2(t,e,n){this.props=t,this.context=e,this.refs=CE,this.updater=n||EE}var X2=K2.prototype=new AE;X2.constructor=K2;xE(X2,Ia.prototype);X2.isPureReactComponent=!0;var iv=Array.isArray,IE=Object.prototype.hasOwnProperty,Y2={current:null},TE={key:!0,ref:!0,__self:!0,__source:!0};function SE(t,e,n){var r,o={},i=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)IE.call(e,r)&&!TE.hasOwnProperty(r)&&(o[r]=e[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];o.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:Bl,type:t,key:i,ref:s,props:o,_owner:Y2.current}}function u5(t,e){return{$$typeof:Bl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Q2(t){return typeof t=="object"&&t!==null&&t.$$typeof===Bl}function l5(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var sv=/\/+/g;function ph(t,e){return typeof t=="object"&&t!==null&&t.key!=null?l5(""+t.key):e.toString(36)}function t0(t,e,n,r,o){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Bl:case QA:s=!0}}if(s)return s=t,o=o(s),t=r===""?"."+ph(s,0):r,iv(o)?(n="",t!=null&&(n=t.replace(sv,"$&/")+"/"),t0(o,e,n,"",function(l){return l})):o!=null&&(Q2(o)&&(o=u5(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(sv,"$&/")+"/")+t)),e.push(o)),1;if(s=0,r=r===""?".":r+":",iv(t))for(var a=0;a<t.length;a++){i=t[a];var u=r+ph(i,a);s+=t0(i,e,n,u,o)}else if(u=a5(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=r+ph(i,a++),s+=t0(i,e,n,u,o);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function xc(t,e,n){if(t==null)return t;var r=[],o=0;return t0(t,r,"","",function(i){return e.call(n,i,o++)}),r}function c5(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pn={current:null},n0={transition:null},f5={ReactCurrentDispatcher:pn,ReactCurrentBatchConfig:n0,ReactCurrentOwner:Y2};we.Children={map:xc,forEach:function(t,e,n){xc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xc(t,function(){e++}),e},toArray:function(t){return xc(t,function(e){return e})||[]},only:function(t){if(!Q2(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};we.Component=Ia;we.Fragment=ZA;we.Profiler=e5;we.PureComponent=K2;we.StrictMode=JA;we.Suspense=o5;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f5;we.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=xE({},t.props),o=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=Y2.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)IE.call(e,u)&&!TE.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:Bl,type:t.type,key:o,ref:i,props:r,_owner:s}};we.createContext=function(t){return t={$$typeof:n5,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:t5,_context:t},t.Consumer=t};we.createElement=SE;we.createFactory=function(t){var e=SE.bind(null,t);return e.type=t,e};we.createRef=function(){return{current:null}};we.forwardRef=function(t){return{$$typeof:r5,render:t}};we.isValidElement=Q2;we.lazy=function(t){return{$$typeof:s5,_payload:{_status:-1,_result:t},_init:c5}};we.memo=function(t,e){return{$$typeof:i5,type:t,compare:e===void 0?null:e}};we.startTransition=function(t){var e=n0.transition;n0.transition={};try{t()}finally{n0.transition=e}};we.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};we.useCallback=function(t,e){return pn.current.useCallback(t,e)};we.useContext=function(t){return pn.current.useContext(t)};we.useDebugValue=function(){};we.useDeferredValue=function(t){return pn.current.useDeferredValue(t)};we.useEffect=function(t,e){return pn.current.useEffect(t,e)};we.useId=function(){return pn.current.useId()};we.useImperativeHandle=function(t,e,n){return pn.current.useImperativeHandle(t,e,n)};we.useInsertionEffect=function(t,e){return pn.current.useInsertionEffect(t,e)};we.useLayoutEffect=function(t,e){return pn.current.useLayoutEffect(t,e)};we.useMemo=function(t,e){return pn.current.useMemo(t,e)};we.useReducer=function(t,e,n){return pn.current.useReducer(t,e,n)};we.useRef=function(t){return pn.current.useRef(t)};we.useState=function(t){return pn.current.useState(t)};we.useSyncExternalStore=function(t,e,n){return pn.current.useSyncExternalStore(t,e,n)};we.useTransition=function(){return pn.current.useTransition()};we.version="18.2.0";wE.exports=we;var B=wE.exports;const ne=vE(B),R0=XA({__proto__:null,default:ne},[B]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d5=B,h5=Symbol.for("react.element"),p5=Symbol.for("react.fragment"),m5=Object.prototype.hasOwnProperty,g5=d5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,y5={key:!0,ref:!0,__self:!0,__source:!0};function bE(t,e,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)m5.call(e,r)&&!y5.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:h5,type:t,key:i,ref:s,props:o,_owner:g5.current}}Bf.Fragment=p5;Bf.jsx=bE;Bf.jsxs=bE;_E.exports=Bf;var S=_E.exports,tp={},RE={exports:{}},jn={},PE={exports:{}},DE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,Y){var ee=$.length;$.push(Y);e:for(;0<ee;){var V=ee-1>>>1,H=$[V];if(0<o(H,Y))$[V]=Y,$[ee]=H,ee=V;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var Y=$[0],ee=$.pop();if(ee!==Y){$[0]=ee;e:for(var V=0,H=$.length,G=H>>>1;V<G;){var W=2*(V+1)-1,ye=$[W],fe=W+1,Pe=$[fe];if(0>o(ye,ee))fe<H&&0>o(Pe,ye)?($[V]=Pe,$[fe]=ee,V=fe):($[V]=ye,$[W]=ee,V=W);else if(fe<H&&0>o(Pe,ee))$[V]=Pe,$[fe]=ee,V=fe;else break e}}return Y}function o($,Y){var ee=$.sortIndex-Y.sortIndex;return ee!==0?ee:$.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var u=[],l=[],c=1,f=null,d=3,p=!1,m=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E($){for(var Y=n(l);Y!==null;){if(Y.callback===null)r(l);else if(Y.startTime<=$)r(l),Y.sortIndex=Y.expirationTime,e(u,Y);else break;Y=n(l)}}function x($){if(y=!1,E($),!m)if(n(u)!==null)m=!0,te(P);else{var Y=n(l);Y!==null&&re(x,Y.startTime-$)}}function P($,Y){m=!1,y&&(y=!1,v(C),C=-1),p=!0;var ee=d;try{for(E(Y),f=n(u);f!==null&&(!(f.expirationTime>Y)||$&&!R());){var V=f.callback;if(typeof V=="function"){f.callback=null,d=f.priorityLevel;var H=V(f.expirationTime<=Y);Y=t.unstable_now(),typeof H=="function"?f.callback=H:f===n(u)&&r(u),E(Y)}else r(u);f=n(u)}if(f!==null)var G=!0;else{var W=n(l);W!==null&&re(x,W.startTime-Y),G=!1}return G}finally{f=null,d=ee,p=!1}}var N=!1,I=null,C=-1,D=5,T=-1;function R(){return!(t.unstable_now()-T<D)}function k(){if(I!==null){var $=t.unstable_now();T=$;var Y=!0;try{Y=I(!0,$)}finally{Y?b():(N=!1,I=null)}}else N=!1}var b;if(typeof g=="function")b=function(){g(k)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,K=U.port2;U.port1.onmessage=k,b=function(){K.postMessage(null)}}else b=function(){_(k,0)};function te($){I=$,N||(N=!0,b())}function re($,Y){C=_(function(){$(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,te(P))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function($){switch(d){case 1:case 2:case 3:var Y=3;break;default:Y=d}var ee=d;d=Y;try{return $()}finally{d=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,Y){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ee=d;d=$;try{return Y()}finally{d=ee}},t.unstable_scheduleCallback=function($,Y,ee){var V=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?V+ee:V):ee=V,$){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=ee+H,$={id:c++,callback:Y,priorityLevel:$,startTime:ee,expirationTime:H,sortIndex:-1},ee>V?($.sortIndex=ee,e(l,$),n(u)===null&&$===n(l)&&(y?(v(C),C=-1):y=!0,re(x,ee-V))):($.sortIndex=H,e(u,$),m||p||(m=!0,te(P))),$},t.unstable_shouldYield=R,t.unstable_wrapCallback=function($){var Y=d;return function(){var ee=d;d=Y;try{return $.apply(this,arguments)}finally{d=ee}}}})(DE);PE.exports=DE;var v5=PE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE=B,Ln=v5;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var OE=new Set,nl={};function fs(t,e){sa(t,e),sa(t+"Capture",e)}function sa(t,e){for(nl[t]=e,t=0;t<e.length;t++)OE.add(e[t])}var Xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),np=Object.prototype.hasOwnProperty,_5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,av={},uv={};function w5(t){return np.call(uv,t)?!0:np.call(av,t)?!1:_5.test(t)?uv[t]=!0:(av[t]=!0,!1)}function E5(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function x5(t,e,n,r){if(e===null||typeof e>"u"||E5(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mn(t,e,n,r,o,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zt[t]=new mn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zt[e]=new mn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zt[t]=new mn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zt[t]=new mn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zt[t]=new mn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zt[t]=new mn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zt[t]=new mn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zt[t]=new mn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zt[t]=new mn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Z2=/[\-:]([a-z])/g;function J2(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Z2,J2);zt[e]=new mn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Z2,J2);zt[e]=new mn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Z2,J2);zt[e]=new mn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zt[t]=new mn(t,1,!1,t.toLowerCase(),null,!1,!1)});zt.xlinkHref=new mn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zt[t]=new mn(t,1,!1,t.toLowerCase(),null,!0,!0)});function em(t,e,n,r){var o=zt.hasOwnProperty(e)?zt[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(x5(e,n,o,r)&&(n=null),r||o===null?w5(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var io=NE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cc=Symbol.for("react.element"),Ps=Symbol.for("react.portal"),Ds=Symbol.for("react.fragment"),tm=Symbol.for("react.strict_mode"),rp=Symbol.for("react.profiler"),kE=Symbol.for("react.provider"),BE=Symbol.for("react.context"),nm=Symbol.for("react.forward_ref"),op=Symbol.for("react.suspense"),ip=Symbol.for("react.suspense_list"),rm=Symbol.for("react.memo"),Ao=Symbol.for("react.lazy"),ME=Symbol.for("react.offscreen"),lv=Symbol.iterator;function uu(t){return t===null||typeof t!="object"?null:(t=lv&&t[lv]||t["@@iterator"],typeof t=="function"?t:null)}var nt=Object.assign,mh;function xu(t){if(mh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);mh=e&&e[1]||""}return`
`+mh+t}var gh=!1;function yh(t,e){if(!t||gh)return"";gh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var o=l.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var u=`
`+o[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=a);break}}}finally{gh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?xu(t):""}function C5(t){switch(t.tag){case 5:return xu(t.type);case 16:return xu("Lazy");case 13:return xu("Suspense");case 19:return xu("SuspenseList");case 0:case 2:case 15:return t=yh(t.type,!1),t;case 11:return t=yh(t.type.render,!1),t;case 1:return t=yh(t.type,!0),t;default:return""}}function sp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ds:return"Fragment";case Ps:return"Portal";case rp:return"Profiler";case tm:return"StrictMode";case op:return"Suspense";case ip:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case BE:return(t.displayName||"Context")+".Consumer";case kE:return(t._context.displayName||"Context")+".Provider";case nm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rm:return e=t.displayName||null,e!==null?e:sp(t.type)||"Memo";case Ao:e=t._payload,t=t._init;try{return sp(t(e))}catch{}}return null}function A5(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sp(e);case 8:return e===tm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function oi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function FE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function I5(t){var e=FE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ac(t){t._valueTracker||(t._valueTracker=I5(t))}function LE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=FE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function P0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ap(t,e){var n=e.checked;return nt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function cv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=oi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function VE(t,e){e=e.checked,e!=null&&em(t,"checked",e,!1)}function up(t,e){VE(t,e);var n=oi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?lp(t,e.type,n):e.hasOwnProperty("defaultValue")&&lp(t,e.type,oi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function fv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function lp(t,e,n){(e!=="number"||P0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Cu=Array.isArray;function qs(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+oi(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function cp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return nt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function dv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(Cu(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:oi(n)}}function jE(t,e){var n=oi(e.value),r=oi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function hv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function UE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?UE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ic,$E=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ic=Ic||document.createElement("div"),Ic.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ic.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function rl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Fu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},T5=["Webkit","ms","Moz","O"];Object.keys(Fu).forEach(function(t){T5.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Fu[e]=Fu[t]})});function HE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Fu.hasOwnProperty(t)&&Fu[t]?(""+e).trim():e+"px"}function zE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=HE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var S5=nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dp(t,e){if(e){if(S5[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function hp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pp=null;function om(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mp=null,Ks=null,Xs=null;function pv(t){if(t=Ll(t)){if(typeof mp!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=jf(e),mp(t.stateNode,t.type,e))}}function WE(t){Ks?Xs?Xs.push(t):Xs=[t]:Ks=t}function GE(){if(Ks){var t=Ks,e=Xs;if(Xs=Ks=null,pv(t),e)for(t=0;t<e.length;t++)pv(e[t])}}function qE(t,e){return t(e)}function KE(){}var vh=!1;function XE(t,e,n){if(vh)return t(e,n);vh=!0;try{return qE(t,e,n)}finally{vh=!1,(Ks!==null||Xs!==null)&&(KE(),GE())}}function ol(t,e){var n=t.stateNode;if(n===null)return null;var r=jf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var gp=!1;if(Xr)try{var lu={};Object.defineProperty(lu,"passive",{get:function(){gp=!0}}),window.addEventListener("test",lu,lu),window.removeEventListener("test",lu,lu)}catch{gp=!1}function b5(t,e,n,r,o,i,s,a,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var Lu=!1,D0=null,N0=!1,yp=null,R5={onError:function(t){Lu=!0,D0=t}};function P5(t,e,n,r,o,i,s,a,u){Lu=!1,D0=null,b5.apply(R5,arguments)}function D5(t,e,n,r,o,i,s,a,u){if(P5.apply(this,arguments),Lu){if(Lu){var l=D0;Lu=!1,D0=null}else throw Error(Q(198));N0||(N0=!0,yp=l)}}function ds(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function YE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function mv(t){if(ds(t)!==t)throw Error(Q(188))}function N5(t){var e=t.alternate;if(!e){if(e=ds(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return mv(o),t;if(i===r)return mv(o),e;i=i.sibling}throw Error(Q(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function QE(t){return t=N5(t),t!==null?ZE(t):null}function ZE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ZE(t);if(e!==null)return e;t=t.sibling}return null}var JE=Ln.unstable_scheduleCallback,gv=Ln.unstable_cancelCallback,O5=Ln.unstable_shouldYield,k5=Ln.unstable_requestPaint,ft=Ln.unstable_now,B5=Ln.unstable_getCurrentPriorityLevel,im=Ln.unstable_ImmediatePriority,ex=Ln.unstable_UserBlockingPriority,O0=Ln.unstable_NormalPriority,M5=Ln.unstable_LowPriority,tx=Ln.unstable_IdlePriority,Mf=null,Ar=null;function F5(t){if(Ar&&typeof Ar.onCommitFiberRoot=="function")try{Ar.onCommitFiberRoot(Mf,t,void 0,(t.current.flags&128)===128)}catch{}}var fr=Math.clz32?Math.clz32:j5,L5=Math.log,V5=Math.LN2;function j5(t){return t>>>=0,t===0?32:31-(L5(t)/V5|0)|0}var Tc=64,Sc=4194304;function Au(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function k0(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,i=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=Au(a):(i&=s,i!==0&&(r=Au(i)))}else s=n&~o,s!==0?r=Au(s):i!==0&&(r=Au(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,i=e&-e,o>=i||o===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-fr(e),o=1<<n,r|=t[n],e&=~o;return r}function U5(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $5(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-fr(i),a=1<<s,u=o[s];u===-1?(!(a&n)||a&r)&&(o[s]=U5(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function vp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function nx(){var t=Tc;return Tc<<=1,!(Tc&4194240)&&(Tc=64),t}function _h(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ml(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fr(e),t[e]=n}function H5(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-fr(n),i=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~i}}function sm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-fr(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var ke=0;function rx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ox,am,ix,sx,ax,_p=!1,bc=[],jo=null,Uo=null,$o=null,il=new Map,sl=new Map,To=[],z5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yv(t,e){switch(t){case"focusin":case"focusout":jo=null;break;case"dragenter":case"dragleave":Uo=null;break;case"mouseover":case"mouseout":$o=null;break;case"pointerover":case"pointerout":il.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":sl.delete(e.pointerId)}}function cu(t,e,n,r,o,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},e!==null&&(e=Ll(e),e!==null&&am(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function W5(t,e,n,r,o){switch(e){case"focusin":return jo=cu(jo,t,e,n,r,o),!0;case"dragenter":return Uo=cu(Uo,t,e,n,r,o),!0;case"mouseover":return $o=cu($o,t,e,n,r,o),!0;case"pointerover":var i=o.pointerId;return il.set(i,cu(il.get(i)||null,t,e,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,sl.set(i,cu(sl.get(i)||null,t,e,n,r,o)),!0}return!1}function ux(t){var e=Ui(t.target);if(e!==null){var n=ds(e);if(n!==null){if(e=n.tag,e===13){if(e=YE(n),e!==null){t.blockedOn=e,ax(t.priority,function(){ix(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function r0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=wp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);pp=r,n.target.dispatchEvent(r),pp=null}else return e=Ll(n),e!==null&&am(e),t.blockedOn=n,!1;e.shift()}return!0}function vv(t,e,n){r0(t)&&n.delete(e)}function G5(){_p=!1,jo!==null&&r0(jo)&&(jo=null),Uo!==null&&r0(Uo)&&(Uo=null),$o!==null&&r0($o)&&($o=null),il.forEach(vv),sl.forEach(vv)}function fu(t,e){t.blockedOn===e&&(t.blockedOn=null,_p||(_p=!0,Ln.unstable_scheduleCallback(Ln.unstable_NormalPriority,G5)))}function al(t){function e(o){return fu(o,t)}if(0<bc.length){fu(bc[0],t);for(var n=1;n<bc.length;n++){var r=bc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(jo!==null&&fu(jo,t),Uo!==null&&fu(Uo,t),$o!==null&&fu($o,t),il.forEach(e),sl.forEach(e),n=0;n<To.length;n++)r=To[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<To.length&&(n=To[0],n.blockedOn===null);)ux(n),n.blockedOn===null&&To.shift()}var Ys=io.ReactCurrentBatchConfig,B0=!0;function q5(t,e,n,r){var o=ke,i=Ys.transition;Ys.transition=null;try{ke=1,um(t,e,n,r)}finally{ke=o,Ys.transition=i}}function K5(t,e,n,r){var o=ke,i=Ys.transition;Ys.transition=null;try{ke=4,um(t,e,n,r)}finally{ke=o,Ys.transition=i}}function um(t,e,n,r){if(B0){var o=wp(t,e,n,r);if(o===null)Rh(t,e,r,M0,n),yv(t,r);else if(W5(o,t,e,n,r))r.stopPropagation();else if(yv(t,r),e&4&&-1<z5.indexOf(t)){for(;o!==null;){var i=Ll(o);if(i!==null&&ox(i),i=wp(t,e,n,r),i===null&&Rh(t,e,r,M0,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Rh(t,e,r,null,n)}}var M0=null;function wp(t,e,n,r){if(M0=null,t=om(r),t=Ui(t),t!==null)if(e=ds(t),e===null)t=null;else if(n=e.tag,n===13){if(t=YE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return M0=t,null}function lx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(B5()){case im:return 1;case ex:return 4;case O0:case M5:return 16;case tx:return 536870912;default:return 16}default:return 16}}var ko=null,lm=null,o0=null;function cx(){if(o0)return o0;var t,e=lm,n=e.length,r,o="value"in ko?ko.value:ko.textContent,i=o.length;for(t=0;t<n&&e[t]===o[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===o[i-r];r++);return o0=o.slice(t,1<r?1-r:void 0)}function i0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Rc(){return!0}function _v(){return!1}function Un(t){function e(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Rc:_v,this.isPropagationStopped=_v,this}return nt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rc)},persist:function(){},isPersistent:Rc}),e}var Ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cm=Un(Ta),Fl=nt({},Ta,{view:0,detail:0}),X5=Un(Fl),wh,Eh,du,Ff=nt({},Fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==du&&(du&&t.type==="mousemove"?(wh=t.screenX-du.screenX,Eh=t.screenY-du.screenY):Eh=wh=0,du=t),wh)},movementY:function(t){return"movementY"in t?t.movementY:Eh}}),wv=Un(Ff),Y5=nt({},Ff,{dataTransfer:0}),Q5=Un(Y5),Z5=nt({},Fl,{relatedTarget:0}),xh=Un(Z5),J5=nt({},Ta,{animationName:0,elapsedTime:0,pseudoElement:0}),eI=Un(J5),tI=nt({},Ta,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nI=Un(tI),rI=nt({},Ta,{data:0}),Ev=Un(rI),oI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=sI[t])?!!e[t]:!1}function fm(){return aI}var uI=nt({},Fl,{key:function(t){if(t.key){var e=oI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=i0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fm,charCode:function(t){return t.type==="keypress"?i0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?i0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lI=Un(uI),cI=nt({},Ff,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xv=Un(cI),fI=nt({},Fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fm}),dI=Un(fI),hI=nt({},Ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),pI=Un(hI),mI=nt({},Ff,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),gI=Un(mI),yI=[9,13,27,32],dm=Xr&&"CompositionEvent"in window,Vu=null;Xr&&"documentMode"in document&&(Vu=document.documentMode);var vI=Xr&&"TextEvent"in window&&!Vu,fx=Xr&&(!dm||Vu&&8<Vu&&11>=Vu),Cv=String.fromCharCode(32),Av=!1;function dx(t,e){switch(t){case"keyup":return yI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ns=!1;function _I(t,e){switch(t){case"compositionend":return hx(e);case"keypress":return e.which!==32?null:(Av=!0,Cv);case"textInput":return t=e.data,t===Cv&&Av?null:t;default:return null}}function wI(t,e){if(Ns)return t==="compositionend"||!dm&&dx(t,e)?(t=cx(),o0=lm=ko=null,Ns=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fx&&e.locale!=="ko"?null:e.data;default:return null}}var EI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Iv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!EI[t.type]:e==="textarea"}function px(t,e,n,r){WE(r),e=F0(e,"onChange"),0<e.length&&(n=new cm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ju=null,ul=null;function xI(t){Ix(t,0)}function Lf(t){var e=Bs(t);if(LE(e))return t}function CI(t,e){if(t==="change")return e}var mx=!1;if(Xr){var Ch;if(Xr){var Ah="oninput"in document;if(!Ah){var Tv=document.createElement("div");Tv.setAttribute("oninput","return;"),Ah=typeof Tv.oninput=="function"}Ch=Ah}else Ch=!1;mx=Ch&&(!document.documentMode||9<document.documentMode)}function Sv(){ju&&(ju.detachEvent("onpropertychange",gx),ul=ju=null)}function gx(t){if(t.propertyName==="value"&&Lf(ul)){var e=[];px(e,ul,t,om(t)),XE(xI,e)}}function AI(t,e,n){t==="focusin"?(Sv(),ju=e,ul=n,ju.attachEvent("onpropertychange",gx)):t==="focusout"&&Sv()}function II(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lf(ul)}function TI(t,e){if(t==="click")return Lf(e)}function SI(t,e){if(t==="input"||t==="change")return Lf(e)}function bI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hr=typeof Object.is=="function"?Object.is:bI;function ll(t,e){if(hr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!np.call(e,o)||!hr(t[o],e[o]))return!1}return!0}function bv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rv(t,e){var n=bv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bv(n)}}function yx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?yx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vx(){for(var t=window,e=P0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=P0(t.document)}return e}function hm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function RI(t){var e=vx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&yx(n.ownerDocument.documentElement,n)){if(r!==null&&hm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!t.extend&&i>r&&(o=r,r=i,i=o),o=Rv(n,i);var s=Rv(n,r);o&&s&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var PI=Xr&&"documentMode"in document&&11>=document.documentMode,Os=null,Ep=null,Uu=null,xp=!1;function Pv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xp||Os==null||Os!==P0(r)||(r=Os,"selectionStart"in r&&hm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Uu&&ll(Uu,r)||(Uu=r,r=F0(Ep,"onSelect"),0<r.length&&(e=new cm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Os)))}function Pc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ks={animationend:Pc("Animation","AnimationEnd"),animationiteration:Pc("Animation","AnimationIteration"),animationstart:Pc("Animation","AnimationStart"),transitionend:Pc("Transition","TransitionEnd")},Ih={},_x={};Xr&&(_x=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);function Vf(t){if(Ih[t])return Ih[t];if(!ks[t])return t;var e=ks[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _x)return Ih[t]=e[n];return t}var wx=Vf("animationend"),Ex=Vf("animationiteration"),xx=Vf("animationstart"),Cx=Vf("transitionend"),Ax=new Map,Dv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function di(t,e){Ax.set(t,e),fs(e,[t])}for(var Th=0;Th<Dv.length;Th++){var Sh=Dv[Th],DI=Sh.toLowerCase(),NI=Sh[0].toUpperCase()+Sh.slice(1);di(DI,"on"+NI)}di(wx,"onAnimationEnd");di(Ex,"onAnimationIteration");di(xx,"onAnimationStart");di("dblclick","onDoubleClick");di("focusin","onFocus");di("focusout","onBlur");di(Cx,"onTransitionEnd");sa("onMouseEnter",["mouseout","mouseover"]);sa("onMouseLeave",["mouseout","mouseover"]);sa("onPointerEnter",["pointerout","pointerover"]);sa("onPointerLeave",["pointerout","pointerover"]);fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fs("onBeforeInput",["compositionend","keypress","textInput","paste"]);fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Iu));function Nv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,D5(r,e,void 0,t),t.currentTarget=null}function Ix(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==i&&o.isPropagationStopped())break e;Nv(o,a,l),i=u}else for(s=0;s<r.length;s++){if(a=r[s],u=a.instance,l=a.currentTarget,a=a.listener,u!==i&&o.isPropagationStopped())break e;Nv(o,a,l),i=u}}}if(N0)throw t=yp,N0=!1,yp=null,t}function We(t,e){var n=e[Sp];n===void 0&&(n=e[Sp]=new Set);var r=t+"__bubble";n.has(r)||(Tx(e,t,2,!1),n.add(r))}function bh(t,e,n){var r=0;e&&(r|=4),Tx(n,t,r,e)}var Dc="_reactListening"+Math.random().toString(36).slice(2);function cl(t){if(!t[Dc]){t[Dc]=!0,OE.forEach(function(n){n!=="selectionchange"&&(OI.has(n)||bh(n,!1,t),bh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Dc]||(e[Dc]=!0,bh("selectionchange",!1,e))}}function Tx(t,e,n,r){switch(lx(e)){case 1:var o=q5;break;case 4:o=K5;break;default:o=um}n=o.bind(null,e,n,t),o=void 0,!gp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function Rh(t,e,n,r,o){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===o||u.nodeType===8&&u.parentNode===o))return;s=s.return}for(;a!==null;){if(s=Ui(a),s===null)return;if(u=s.tag,u===5||u===6){r=i=s;continue e}a=a.parentNode}}r=r.return}XE(function(){var l=i,c=om(n),f=[];e:{var d=Ax.get(t);if(d!==void 0){var p=cm,m=t;switch(t){case"keypress":if(i0(n)===0)break e;case"keydown":case"keyup":p=lI;break;case"focusin":m="focus",p=xh;break;case"focusout":m="blur",p=xh;break;case"beforeblur":case"afterblur":p=xh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=wv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Q5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=dI;break;case wx:case Ex:case xx:p=eI;break;case Cx:p=pI;break;case"scroll":p=X5;break;case"wheel":p=gI;break;case"copy":case"cut":case"paste":p=nI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=xv}var y=(e&4)!==0,_=!y&&t==="scroll",v=y?d!==null?d+"Capture":null:d;y=[];for(var g=l,E;g!==null;){E=g;var x=E.stateNode;if(E.tag===5&&x!==null&&(E=x,v!==null&&(x=ol(g,v),x!=null&&y.push(fl(g,x,E)))),_)break;g=g.return}0<y.length&&(d=new p(d,m,null,n,c),f.push({event:d,listeners:y}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==pp&&(m=n.relatedTarget||n.fromElement)&&(Ui(m)||m[Yr]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=l,m=m?Ui(m):null,m!==null&&(_=ds(m),m!==_||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=l),p!==m)){if(y=wv,x="onMouseLeave",v="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(y=xv,x="onPointerLeave",v="onPointerEnter",g="pointer"),_=p==null?d:Bs(p),E=m==null?d:Bs(m),d=new y(x,g+"leave",p,n,c),d.target=_,d.relatedTarget=E,x=null,Ui(c)===l&&(y=new y(v,g+"enter",m,n,c),y.target=E,y.relatedTarget=_,x=y),_=x,p&&m)t:{for(y=p,v=m,g=0,E=y;E;E=Ts(E))g++;for(E=0,x=v;x;x=Ts(x))E++;for(;0<g-E;)y=Ts(y),g--;for(;0<E-g;)v=Ts(v),E--;for(;g--;){if(y===v||v!==null&&y===v.alternate)break t;y=Ts(y),v=Ts(v)}y=null}else y=null;p!==null&&Ov(f,d,p,y,!1),m!==null&&_!==null&&Ov(f,_,m,y,!0)}}e:{if(d=l?Bs(l):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var P=CI;else if(Iv(d))if(mx)P=SI;else{P=II;var N=AI}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(P=TI);if(P&&(P=P(t,l))){px(f,P,n,c);break e}N&&N(t,d,l),t==="focusout"&&(N=d._wrapperState)&&N.controlled&&d.type==="number"&&lp(d,"number",d.value)}switch(N=l?Bs(l):window,t){case"focusin":(Iv(N)||N.contentEditable==="true")&&(Os=N,Ep=l,Uu=null);break;case"focusout":Uu=Ep=Os=null;break;case"mousedown":xp=!0;break;case"contextmenu":case"mouseup":case"dragend":xp=!1,Pv(f,n,c);break;case"selectionchange":if(PI)break;case"keydown":case"keyup":Pv(f,n,c)}var I;if(dm)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ns?dx(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(fx&&n.locale!=="ko"&&(Ns||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ns&&(I=cx()):(ko=c,lm="value"in ko?ko.value:ko.textContent,Ns=!0)),N=F0(l,C),0<N.length&&(C=new Ev(C,t,null,n,c),f.push({event:C,listeners:N}),I?C.data=I:(I=hx(n),I!==null&&(C.data=I)))),(I=vI?_I(t,n):wI(t,n))&&(l=F0(l,"onBeforeInput"),0<l.length&&(c=new Ev("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:l}),c.data=I))}Ix(f,e)})}function fl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function F0(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=ol(t,n),i!=null&&r.unshift(fl(t,i,o)),i=ol(t,e),i!=null&&r.push(fl(t,i,o))),t=t.return}return r}function Ts(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ov(t,e,n,r,o){for(var i=e._reactName,s=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,o?(u=ol(n,i),u!=null&&s.unshift(fl(n,u,a))):o||(u=ol(n,i),u!=null&&s.push(fl(n,u,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var kI=/\r\n?/g,BI=/\u0000|\uFFFD/g;function kv(t){return(typeof t=="string"?t:""+t).replace(kI,`
`).replace(BI,"")}function Nc(t,e,n){if(e=kv(e),kv(t)!==e&&n)throw Error(Q(425))}function L0(){}var Cp=null,Ap=null;function Ip(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Tp=typeof setTimeout=="function"?setTimeout:void 0,MI=typeof clearTimeout=="function"?clearTimeout:void 0,Bv=typeof Promise=="function"?Promise:void 0,FI=typeof queueMicrotask=="function"?queueMicrotask:typeof Bv<"u"?function(t){return Bv.resolve(null).then(t).catch(LI)}:Tp;function LI(t){setTimeout(function(){throw t})}function Ph(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),al(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);al(e)}function Ho(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Mv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Sa=Math.random().toString(36).slice(2),xr="__reactFiber$"+Sa,dl="__reactProps$"+Sa,Yr="__reactContainer$"+Sa,Sp="__reactEvents$"+Sa,VI="__reactListeners$"+Sa,jI="__reactHandles$"+Sa;function Ui(t){var e=t[xr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Yr]||n[xr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Mv(t);t!==null;){if(n=t[xr])return n;t=Mv(t)}return e}t=n,n=t.parentNode}return null}function Ll(t){return t=t[xr]||t[Yr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Bs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function jf(t){return t[dl]||null}var bp=[],Ms=-1;function hi(t){return{current:t}}function qe(t){0>Ms||(t.current=bp[Ms],bp[Ms]=null,Ms--)}function $e(t,e){Ms++,bp[Ms]=t.current,t.current=e}var ii={},on=hi(ii),An=hi(!1),Ji=ii;function aa(t,e){var n=t.type.contextTypes;if(!n)return ii;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function In(t){return t=t.childContextTypes,t!=null}function V0(){qe(An),qe(on)}function Fv(t,e,n){if(on.current!==ii)throw Error(Q(168));$e(on,e),$e(An,n)}function Sx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(Q(108,A5(t)||"Unknown",o));return nt({},n,r)}function j0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ii,Ji=on.current,$e(on,t),$e(An,An.current),!0}function Lv(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=Sx(t,e,Ji),r.__reactInternalMemoizedMergedChildContext=t,qe(An),qe(on),$e(on,t)):qe(An),$e(An,n)}var Fr=null,Uf=!1,Dh=!1;function bx(t){Fr===null?Fr=[t]:Fr.push(t)}function UI(t){Uf=!0,bx(t)}function pi(){if(!Dh&&Fr!==null){Dh=!0;var t=0,e=ke;try{var n=Fr;for(ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Fr=null,Uf=!1}catch(o){throw Fr!==null&&(Fr=Fr.slice(t+1)),JE(im,pi),o}finally{ke=e,Dh=!1}}return null}var Fs=[],Ls=0,U0=null,$0=0,qn=[],Kn=0,es=null,Vr=1,jr="";function Oi(t,e){Fs[Ls++]=$0,Fs[Ls++]=U0,U0=t,$0=e}function Rx(t,e,n){qn[Kn++]=Vr,qn[Kn++]=jr,qn[Kn++]=es,es=t;var r=Vr;t=jr;var o=32-fr(r)-1;r&=~(1<<o),n+=1;var i=32-fr(e)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Vr=1<<32-fr(e)+o|n<<o|r,jr=i+t}else Vr=1<<i|n<<o|r,jr=t}function pm(t){t.return!==null&&(Oi(t,1),Rx(t,1,0))}function mm(t){for(;t===U0;)U0=Fs[--Ls],Fs[Ls]=null,$0=Fs[--Ls],Fs[Ls]=null;for(;t===es;)es=qn[--Kn],qn[Kn]=null,jr=qn[--Kn],qn[Kn]=null,Vr=qn[--Kn],qn[Kn]=null}var Mn=null,kn=null,Qe=!1,ur=null;function Px(t,e){var n=Xn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Vv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Mn=t,kn=Ho(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Mn=t,kn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=es!==null?{id:Vr,overflow:jr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Xn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Mn=t,kn=null,!0):!1;default:return!1}}function Rp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Pp(t){if(Qe){var e=kn;if(e){var n=e;if(!Vv(t,e)){if(Rp(t))throw Error(Q(418));e=Ho(n.nextSibling);var r=Mn;e&&Vv(t,e)?Px(r,n):(t.flags=t.flags&-4097|2,Qe=!1,Mn=t)}}else{if(Rp(t))throw Error(Q(418));t.flags=t.flags&-4097|2,Qe=!1,Mn=t}}}function jv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mn=t}function Oc(t){if(t!==Mn)return!1;if(!Qe)return jv(t),Qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ip(t.type,t.memoizedProps)),e&&(e=kn)){if(Rp(t))throw Dx(),Error(Q(418));for(;e;)Px(t,e),e=Ho(e.nextSibling)}if(jv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){kn=Ho(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}kn=null}}else kn=Mn?Ho(t.stateNode.nextSibling):null;return!0}function Dx(){for(var t=kn;t;)t=Ho(t.nextSibling)}function ua(){kn=Mn=null,Qe=!1}function gm(t){ur===null?ur=[t]:ur.push(t)}var $I=io.ReactCurrentBatchConfig;function sr(t,e){if(t&&t.defaultProps){e=nt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var H0=hi(null),z0=null,Vs=null,ym=null;function vm(){ym=Vs=z0=null}function _m(t){var e=H0.current;qe(H0),t._currentValue=e}function Dp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Qs(t,e){z0=t,ym=Vs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xn=!0),t.firstContext=null)}function Jn(t){var e=t._currentValue;if(ym!==t)if(t={context:t,memoizedValue:e,next:null},Vs===null){if(z0===null)throw Error(Q(308));Vs=t,z0.dependencies={lanes:0,firstContext:t}}else Vs=Vs.next=t;return e}var $i=null;function wm(t){$i===null?$i=[t]:$i.push(t)}function Nx(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,wm(e)):(n.next=o.next,o.next=n),e.interleaved=n,Qr(t,r)}function Qr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Io=!1;function Em(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ox(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,Qr(t,n)}return o=r.interleaved,o===null?(e.next=e,wm(r)):(e.next=o.next,o.next=e),r.interleaved=e,Qr(t,n)}function s0(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sm(t,n)}}function Uv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=e:i=i.next=e}else o=i=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function W0(t,e,n,r){var o=t.updateQueue;Io=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var u=a,l=u.next;u.next=null,s===null?i=l:s.next=l,s=u;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(i!==null){var f=o.baseState;s=0,c=l=u=null,a=i;do{var d=a.lane,p=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,y=a;switch(d=e,p=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){f=m.call(p,f,d);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,d=typeof m=="function"?m.call(p,f,d):m,d==null)break e;f=nt({},f,d);break e;case 2:Io=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=o.effects,d===null?o.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=p,u=f):c=c.next=p,s|=d;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;d=a,a=d.next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}while(1);if(c===null&&(u=f),o.baseState=u,o.firstBaseUpdate=l,o.lastBaseUpdate=c,e=o.shared.interleaved,e!==null){o=e;do s|=o.lane,o=o.next;while(o!==e)}else i===null&&(o.shared.lanes=0);ns|=s,t.lanes=s,t.memoizedState=f}}function $v(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(Q(191,o));o.call(r)}}}var kx=new NE.Component().refs;function Np(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:nt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var $f={isMounted:function(t){return(t=t._reactInternals)?ds(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=dn(),o=Go(t),i=Gr(r,o);i.payload=e,n!=null&&(i.callback=n),e=zo(t,i,o),e!==null&&(dr(e,t,o,r),s0(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=dn(),o=Go(t),i=Gr(r,o);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=zo(t,i,o),e!==null&&(dr(e,t,o,r),s0(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=dn(),r=Go(t),o=Gr(n,r);o.tag=2,e!=null&&(o.callback=e),e=zo(t,o,r),e!==null&&(dr(e,t,r,n),s0(e,t,r))}};function Hv(t,e,n,r,o,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,s):e.prototype&&e.prototype.isPureReactComponent?!ll(n,r)||!ll(o,i):!0}function Bx(t,e,n){var r=!1,o=ii,i=e.contextType;return typeof i=="object"&&i!==null?i=Jn(i):(o=In(e)?Ji:on.current,r=e.contextTypes,i=(r=r!=null)?aa(t,o):ii),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$f,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=i),e}function zv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&$f.enqueueReplaceState(e,e.state,null)}function Op(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs=kx,Em(t);var i=e.contextType;typeof i=="object"&&i!==null?o.context=Jn(i):(i=In(e)?Ji:on.current,o.context=aa(t,i)),o.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Np(t,e,i,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&$f.enqueueReplaceState(o,o.state,null),W0(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function hu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var o=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var a=o.refs;a===kx&&(a=o.refs={}),s===null?delete a[i]:a[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function kc(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Wv(t){var e=t._init;return e(t._payload)}function Mx(t){function e(v,g){if(t){var E=v.deletions;E===null?(v.deletions=[g],v.flags|=16):E.push(g)}}function n(v,g){if(!t)return null;for(;g!==null;)e(v,g),g=g.sibling;return null}function r(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function o(v,g){return v=qo(v,g),v.index=0,v.sibling=null,v}function i(v,g,E){return v.index=E,t?(E=v.alternate,E!==null?(E=E.index,E<g?(v.flags|=2,g):E):(v.flags|=2,g)):(v.flags|=1048576,g)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,g,E,x){return g===null||g.tag!==6?(g=Lh(E,v.mode,x),g.return=v,g):(g=o(g,E),g.return=v,g)}function u(v,g,E,x){var P=E.type;return P===Ds?c(v,g,E.props.children,x,E.key):g!==null&&(g.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ao&&Wv(P)===g.type)?(x=o(g,E.props),x.ref=hu(v,g,E),x.return=v,x):(x=d0(E.type,E.key,E.props,null,v.mode,x),x.ref=hu(v,g,E),x.return=v,x)}function l(v,g,E,x){return g===null||g.tag!==4||g.stateNode.containerInfo!==E.containerInfo||g.stateNode.implementation!==E.implementation?(g=Vh(E,v.mode,x),g.return=v,g):(g=o(g,E.children||[]),g.return=v,g)}function c(v,g,E,x,P){return g===null||g.tag!==7?(g=Xi(E,v.mode,x,P),g.return=v,g):(g=o(g,E),g.return=v,g)}function f(v,g,E){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Lh(""+g,v.mode,E),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Cc:return E=d0(g.type,g.key,g.props,null,v.mode,E),E.ref=hu(v,null,g),E.return=v,E;case Ps:return g=Vh(g,v.mode,E),g.return=v,g;case Ao:var x=g._init;return f(v,x(g._payload),E)}if(Cu(g)||uu(g))return g=Xi(g,v.mode,E,null),g.return=v,g;kc(v,g)}return null}function d(v,g,E,x){var P=g!==null?g.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return P!==null?null:a(v,g,""+E,x);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Cc:return E.key===P?u(v,g,E,x):null;case Ps:return E.key===P?l(v,g,E,x):null;case Ao:return P=E._init,d(v,g,P(E._payload),x)}if(Cu(E)||uu(E))return P!==null?null:c(v,g,E,x,null);kc(v,E)}return null}function p(v,g,E,x,P){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(E)||null,a(g,v,""+x,P);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Cc:return v=v.get(x.key===null?E:x.key)||null,u(g,v,x,P);case Ps:return v=v.get(x.key===null?E:x.key)||null,l(g,v,x,P);case Ao:var N=x._init;return p(v,g,E,N(x._payload),P)}if(Cu(x)||uu(x))return v=v.get(E)||null,c(g,v,x,P,null);kc(g,x)}return null}function m(v,g,E,x){for(var P=null,N=null,I=g,C=g=0,D=null;I!==null&&C<E.length;C++){I.index>C?(D=I,I=null):D=I.sibling;var T=d(v,I,E[C],x);if(T===null){I===null&&(I=D);break}t&&I&&T.alternate===null&&e(v,I),g=i(T,g,C),N===null?P=T:N.sibling=T,N=T,I=D}if(C===E.length)return n(v,I),Qe&&Oi(v,C),P;if(I===null){for(;C<E.length;C++)I=f(v,E[C],x),I!==null&&(g=i(I,g,C),N===null?P=I:N.sibling=I,N=I);return Qe&&Oi(v,C),P}for(I=r(v,I);C<E.length;C++)D=p(I,v,C,E[C],x),D!==null&&(t&&D.alternate!==null&&I.delete(D.key===null?C:D.key),g=i(D,g,C),N===null?P=D:N.sibling=D,N=D);return t&&I.forEach(function(R){return e(v,R)}),Qe&&Oi(v,C),P}function y(v,g,E,x){var P=uu(E);if(typeof P!="function")throw Error(Q(150));if(E=P.call(E),E==null)throw Error(Q(151));for(var N=P=null,I=g,C=g=0,D=null,T=E.next();I!==null&&!T.done;C++,T=E.next()){I.index>C?(D=I,I=null):D=I.sibling;var R=d(v,I,T.value,x);if(R===null){I===null&&(I=D);break}t&&I&&R.alternate===null&&e(v,I),g=i(R,g,C),N===null?P=R:N.sibling=R,N=R,I=D}if(T.done)return n(v,I),Qe&&Oi(v,C),P;if(I===null){for(;!T.done;C++,T=E.next())T=f(v,T.value,x),T!==null&&(g=i(T,g,C),N===null?P=T:N.sibling=T,N=T);return Qe&&Oi(v,C),P}for(I=r(v,I);!T.done;C++,T=E.next())T=p(I,v,C,T.value,x),T!==null&&(t&&T.alternate!==null&&I.delete(T.key===null?C:T.key),g=i(T,g,C),N===null?P=T:N.sibling=T,N=T);return t&&I.forEach(function(k){return e(v,k)}),Qe&&Oi(v,C),P}function _(v,g,E,x){if(typeof E=="object"&&E!==null&&E.type===Ds&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Cc:e:{for(var P=E.key,N=g;N!==null;){if(N.key===P){if(P=E.type,P===Ds){if(N.tag===7){n(v,N.sibling),g=o(N,E.props.children),g.return=v,v=g;break e}}else if(N.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ao&&Wv(P)===N.type){n(v,N.sibling),g=o(N,E.props),g.ref=hu(v,N,E),g.return=v,v=g;break e}n(v,N);break}else e(v,N);N=N.sibling}E.type===Ds?(g=Xi(E.props.children,v.mode,x,E.key),g.return=v,v=g):(x=d0(E.type,E.key,E.props,null,v.mode,x),x.ref=hu(v,g,E),x.return=v,v=x)}return s(v);case Ps:e:{for(N=E.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===E.containerInfo&&g.stateNode.implementation===E.implementation){n(v,g.sibling),g=o(g,E.children||[]),g.return=v,v=g;break e}else{n(v,g);break}else e(v,g);g=g.sibling}g=Vh(E,v.mode,x),g.return=v,v=g}return s(v);case Ao:return N=E._init,_(v,g,N(E._payload),x)}if(Cu(E))return m(v,g,E,x);if(uu(E))return y(v,g,E,x);kc(v,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,g!==null&&g.tag===6?(n(v,g.sibling),g=o(g,E),g.return=v,v=g):(n(v,g),g=Lh(E,v.mode,x),g.return=v,v=g),s(v)):n(v,g)}return _}var la=Mx(!0),Fx=Mx(!1),Vl={},Ir=hi(Vl),hl=hi(Vl),pl=hi(Vl);function Hi(t){if(t===Vl)throw Error(Q(174));return t}function xm(t,e){switch($e(pl,e),$e(hl,t),$e(Ir,Vl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:fp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=fp(e,t)}qe(Ir),$e(Ir,e)}function ca(){qe(Ir),qe(hl),qe(pl)}function Lx(t){Hi(pl.current);var e=Hi(Ir.current),n=fp(e,t.type);e!==n&&($e(hl,t),$e(Ir,n))}function Cm(t){hl.current===t&&(qe(Ir),qe(hl))}var et=hi(0);function G0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nh=[];function Am(){for(var t=0;t<Nh.length;t++)Nh[t]._workInProgressVersionPrimary=null;Nh.length=0}var a0=io.ReactCurrentDispatcher,Oh=io.ReactCurrentBatchConfig,ts=0,tt=null,vt=null,St=null,q0=!1,$u=!1,ml=0,HI=0;function Yt(){throw Error(Q(321))}function Im(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!hr(t[n],e[n]))return!1;return!0}function Tm(t,e,n,r,o,i){if(ts=i,tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,a0.current=t===null||t.memoizedState===null?qI:KI,t=n(r,o),$u){i=0;do{if($u=!1,ml=0,25<=i)throw Error(Q(301));i+=1,St=vt=null,e.updateQueue=null,a0.current=XI,t=n(r,o)}while($u)}if(a0.current=K0,e=vt!==null&&vt.next!==null,ts=0,St=vt=tt=null,q0=!1,e)throw Error(Q(300));return t}function Sm(){var t=ml!==0;return ml=0,t}function Er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?tt.memoizedState=St=t:St=St.next=t,St}function er(){if(vt===null){var t=tt.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var e=St===null?tt.memoizedState:St.next;if(e!==null)St=e,vt=t;else{if(t===null)throw Error(Q(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},St===null?tt.memoizedState=St=t:St=St.next=t}return St}function gl(t,e){return typeof e=="function"?e(t):e}function kh(t){var e=er(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=vt,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,u=null,l=i;do{var c=l.lane;if((ts&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var f={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=f,s=r):u=u.next=f,tt.lanes|=c,ns|=c}l=l.next}while(l!==null&&l!==i);u===null?s=r:u.next=a,hr(r,e.memoizedState)||(xn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do i=o.lane,tt.lanes|=i,ns|=i,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Bh(t){var e=er(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,i=e.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=t(i,s.action),s=s.next;while(s!==o);hr(i,e.memoizedState)||(xn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Vx(){}function jx(t,e){var n=tt,r=er(),o=e(),i=!hr(r.memoizedState,o);if(i&&(r.memoizedState=o,xn=!0),r=r.queue,bm(Hx.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||St!==null&&St.memoizedState.tag&1){if(n.flags|=2048,yl(9,$x.bind(null,n,r,o,e),void 0,null),bt===null)throw Error(Q(349));ts&30||Ux(n,e,o)}return o}function Ux(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function $x(t,e,n,r){e.value=n,e.getSnapshot=r,zx(e)&&Wx(t)}function Hx(t,e,n){return n(function(){zx(e)&&Wx(t)})}function zx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hr(t,n)}catch{return!0}}function Wx(t){var e=Qr(t,1);e!==null&&dr(e,t,1,-1)}function Gv(t){var e=Er();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:t},e.queue=t,t=t.dispatch=GI.bind(null,tt,t),[e.memoizedState,t]}function yl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Gx(){return er().memoizedState}function u0(t,e,n,r){var o=Er();tt.flags|=t,o.memoizedState=yl(1|e,n,void 0,r===void 0?null:r)}function Hf(t,e,n,r){var o=er();r=r===void 0?null:r;var i=void 0;if(vt!==null){var s=vt.memoizedState;if(i=s.destroy,r!==null&&Im(r,s.deps)){o.memoizedState=yl(e,n,i,r);return}}tt.flags|=t,o.memoizedState=yl(1|e,n,i,r)}function qv(t,e){return u0(8390656,8,t,e)}function bm(t,e){return Hf(2048,8,t,e)}function qx(t,e){return Hf(4,2,t,e)}function Kx(t,e){return Hf(4,4,t,e)}function Xx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Yx(t,e,n){return n=n!=null?n.concat([t]):null,Hf(4,4,Xx.bind(null,e,t),n)}function Rm(){}function Qx(t,e){var n=er();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Im(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Zx(t,e){var n=er();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Im(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Jx(t,e,n){return ts&21?(hr(n,e)||(n=nx(),tt.lanes|=n,ns|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xn=!0),t.memoizedState=n)}function zI(t,e){var n=ke;ke=n!==0&&4>n?n:4,t(!0);var r=Oh.transition;Oh.transition={};try{t(!1),e()}finally{ke=n,Oh.transition=r}}function e8(){return er().memoizedState}function WI(t,e,n){var r=Go(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},t8(t))n8(e,n);else if(n=Nx(t,e,n,r),n!==null){var o=dn();dr(n,t,r,o),r8(n,e,r)}}function GI(t,e,n){var r=Go(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(t8(t))n8(e,o);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,hr(a,s)){var u=e.interleaved;u===null?(o.next=o,wm(e)):(o.next=u.next,u.next=o),e.interleaved=o;return}}catch{}finally{}n=Nx(t,e,o,r),n!==null&&(o=dn(),dr(n,t,r,o),r8(n,e,r))}}function t8(t){var e=t.alternate;return t===tt||e!==null&&e===tt}function n8(t,e){$u=q0=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function r8(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sm(t,n)}}var K0={readContext:Jn,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},qI={readContext:Jn,useCallback:function(t,e){return Er().memoizedState=[t,e===void 0?null:e],t},useContext:Jn,useEffect:qv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,u0(4194308,4,Xx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return u0(4194308,4,t,e)},useInsertionEffect:function(t,e){return u0(4,2,t,e)},useMemo:function(t,e){var n=Er();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Er();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=WI.bind(null,tt,t),[r.memoizedState,t]},useRef:function(t){var e=Er();return t={current:t},e.memoizedState=t},useState:Gv,useDebugValue:Rm,useDeferredValue:function(t){return Er().memoizedState=t},useTransition:function(){var t=Gv(!1),e=t[0];return t=zI.bind(null,t[1]),Er().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=tt,o=Er();if(Qe){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),bt===null)throw Error(Q(349));ts&30||Ux(r,e,n)}o.memoizedState=n;var i={value:n,getSnapshot:e};return o.queue=i,qv(Hx.bind(null,r,i,t),[t]),r.flags|=2048,yl(9,$x.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Er(),e=bt.identifierPrefix;if(Qe){var n=jr,r=Vr;n=(r&~(1<<32-fr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ml++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=HI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},KI={readContext:Jn,useCallback:Qx,useContext:Jn,useEffect:bm,useImperativeHandle:Yx,useInsertionEffect:qx,useLayoutEffect:Kx,useMemo:Zx,useReducer:kh,useRef:Gx,useState:function(){return kh(gl)},useDebugValue:Rm,useDeferredValue:function(t){var e=er();return Jx(e,vt.memoizedState,t)},useTransition:function(){var t=kh(gl)[0],e=er().memoizedState;return[t,e]},useMutableSource:Vx,useSyncExternalStore:jx,useId:e8,unstable_isNewReconciler:!1},XI={readContext:Jn,useCallback:Qx,useContext:Jn,useEffect:bm,useImperativeHandle:Yx,useInsertionEffect:qx,useLayoutEffect:Kx,useMemo:Zx,useReducer:Bh,useRef:Gx,useState:function(){return Bh(gl)},useDebugValue:Rm,useDeferredValue:function(t){var e=er();return vt===null?e.memoizedState=t:Jx(e,vt.memoizedState,t)},useTransition:function(){var t=Bh(gl)[0],e=er().memoizedState;return[t,e]},useMutableSource:Vx,useSyncExternalStore:jx,useId:e8,unstable_isNewReconciler:!1};function fa(t,e){try{var n="",r=e;do n+=C5(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:o,digest:null}}function Mh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function kp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var YI=typeof WeakMap=="function"?WeakMap:Map;function o8(t,e,n){n=Gr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Y0||(Y0=!0,zp=r),kp(t,e)},n}function i8(t,e,n){n=Gr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){kp(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){kp(t,e),typeof r!="function"&&(Wo===null?Wo=new Set([this]):Wo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Kv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new YI;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=c9.bind(null,t,e,n),e.then(t,t))}function Xv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Yv(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Gr(-1,1),e.tag=2,zo(n,e,1))),n.lanes|=1),t)}var QI=io.ReactCurrentOwner,xn=!1;function fn(t,e,n,r){e.child=t===null?Fx(e,null,n,r):la(e,t.child,n,r)}function Qv(t,e,n,r,o){n=n.render;var i=e.ref;return Qs(e,o),r=Tm(t,e,n,r,i,o),n=Sm(),t!==null&&!xn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,Zr(t,e,o)):(Qe&&n&&pm(e),e.flags|=1,fn(t,e,r,o),e.child)}function Zv(t,e,n,r,o){if(t===null){var i=n.type;return typeof i=="function"&&!Fm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,s8(t,e,i,r,o)):(t=d0(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:ll,n(s,r)&&t.ref===e.ref)return Zr(t,e,o)}return e.flags|=1,t=qo(i,r),t.ref=e.ref,t.return=e,e.child=t}function s8(t,e,n,r,o){if(t!==null){var i=t.memoizedProps;if(ll(i,r)&&t.ref===e.ref)if(xn=!1,e.pendingProps=r=i,(t.lanes&o)!==0)t.flags&131072&&(xn=!0);else return e.lanes=t.lanes,Zr(t,e,o)}return Bp(t,e,n,r,o)}function a8(t,e,n){var r=e.pendingProps,o=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(Us,Nn),Nn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,$e(Us,Nn),Nn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,$e(Us,Nn),Nn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,$e(Us,Nn),Nn|=r;return fn(t,e,o,n),e.child}function u8(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Bp(t,e,n,r,o){var i=In(n)?Ji:on.current;return i=aa(e,i),Qs(e,o),n=Tm(t,e,n,r,i,o),r=Sm(),t!==null&&!xn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,Zr(t,e,o)):(Qe&&r&&pm(e),e.flags|=1,fn(t,e,n,o),e.child)}function Jv(t,e,n,r,o){if(In(n)){var i=!0;j0(e)}else i=!1;if(Qs(e,o),e.stateNode===null)l0(t,e),Bx(e,n,r),Op(e,n,r,o),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var u=s.context,l=n.contextType;typeof l=="object"&&l!==null?l=Jn(l):(l=In(n)?Ji:on.current,l=aa(e,l));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||u!==l)&&zv(e,s,r,l),Io=!1;var d=e.memoizedState;s.state=d,W0(e,r,s,o),u=e.memoizedState,a!==r||d!==u||An.current||Io?(typeof c=="function"&&(Np(e,n,c,r),u=e.memoizedState),(a=Io||Hv(e,n,a,r,d,u,l))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=l,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Ox(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:sr(e.type,a),s.props=l,f=e.pendingProps,d=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=Jn(u):(u=In(n)?Ji:on.current,u=aa(e,u));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==u)&&zv(e,s,r,u),Io=!1,d=e.memoizedState,s.state=d,W0(e,r,s,o);var m=e.memoizedState;a!==f||d!==m||An.current||Io?(typeof p=="function"&&(Np(e,n,p,r),m=e.memoizedState),(l=Io||Hv(e,n,l,r,d,m,u)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=u,r=l):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Mp(t,e,n,r,i,o)}function Mp(t,e,n,r,o,i){u8(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return o&&Lv(e,n,!1),Zr(t,e,i);r=e.stateNode,QI.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=la(e,t.child,null,i),e.child=la(e,null,a,i)):fn(t,e,a,i),e.memoizedState=r.state,o&&Lv(e,n,!0),e.child}function l8(t){var e=t.stateNode;e.pendingContext?Fv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Fv(t,e.context,!1),xm(t,e.containerInfo)}function e_(t,e,n,r,o){return ua(),gm(o),e.flags|=256,fn(t,e,n,r),e.child}var Fp={dehydrated:null,treeContext:null,retryLane:0};function Lp(t){return{baseLanes:t,cachePool:null,transitions:null}}function c8(t,e,n){var r=e.pendingProps,o=et.current,i=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(o&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),$e(et,o&1),t===null)return Pp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,i?(r=e.mode,i=e.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Gf(s,r,0,null),t=Xi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Lp(n),e.memoizedState=Fp,t):Pm(e,s));if(o=t.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return ZI(t,e,s,r,a,o,n);if(i){i=r.fallback,s=e.mode,o=t.child,a=o.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=qo(o,u),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=qo(a,i):(i=Xi(i,s,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,s=t.child.memoizedState,s=s===null?Lp(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=t.childLanes&~n,e.memoizedState=Fp,r}return i=t.child,t=i.sibling,r=qo(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Pm(t,e){return e=Gf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Bc(t,e,n,r){return r!==null&&gm(r),la(e,t.child,null,n),t=Pm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ZI(t,e,n,r,o,i,s){if(n)return e.flags&256?(e.flags&=-257,r=Mh(Error(Q(422))),Bc(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,o=e.mode,r=Gf({mode:"visible",children:r.children},o,0,null),i=Xi(i,o,s,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&la(e,t.child,null,s),e.child.memoizedState=Lp(s),e.memoizedState=Fp,i);if(!(e.mode&1))return Bc(t,e,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Q(419)),r=Mh(i,r,void 0),Bc(t,e,s,r)}if(a=(s&t.childLanes)!==0,xn||a){if(r=bt,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Qr(t,o),dr(r,t,o,-1))}return Mm(),r=Mh(Error(Q(421))),Bc(t,e,s,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=f9.bind(null,t),o._reactRetry=e,null):(t=i.treeContext,kn=Ho(o.nextSibling),Mn=e,Qe=!0,ur=null,t!==null&&(qn[Kn++]=Vr,qn[Kn++]=jr,qn[Kn++]=es,Vr=t.id,jr=t.overflow,es=e),e=Pm(e,r.children),e.flags|=4096,e)}function t_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Dp(t.return,e,n)}function Fh(t,e,n,r,o){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function f8(t,e,n){var r=e.pendingProps,o=r.revealOrder,i=r.tail;if(fn(t,e,r.children,n),r=et.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&t_(t,n,e);else if(t.tag===19)t_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if($e(et,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&G0(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),Fh(e,!1,o,n,i);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&G0(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}Fh(e,!0,n,null,i);break;case"together":Fh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function l0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Zr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ns|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=qo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function JI(t,e,n){switch(e.tag){case 3:l8(e),ua();break;case 5:Lx(e);break;case 1:In(e.type)&&j0(e);break;case 4:xm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;$e(H0,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?($e(et,et.current&1),e.flags|=128,null):n&e.child.childLanes?c8(t,e,n):($e(et,et.current&1),t=Zr(t,e,n),t!==null?t.sibling:null);$e(et,et.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return f8(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),$e(et,et.current),r)break;return null;case 22:case 23:return e.lanes=0,a8(t,e,n)}return Zr(t,e,n)}var d8,Vp,h8,p8;d8=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vp=function(){};h8=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Hi(Ir.current);var i=null;switch(n){case"input":o=ap(t,o),r=ap(t,r),i=[];break;case"select":o=nt({},o,{value:void 0}),r=nt({},r,{value:void 0}),i=[];break;case"textarea":o=cp(t,o),r=cp(t,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=L0)}dp(n,r);var s;n=null;for(l in o)if(!r.hasOwnProperty(l)&&o.hasOwnProperty(l)&&o[l]!=null)if(l==="style"){var a=o[l];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(nl.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in r){var u=r[l];if(a=o!=null?o[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(s in a)!a.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&a[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(i||(i=[]),i.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(nl.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&We("scroll",t),i||a===u||(i=[])):(i=i||[]).push(l,u))}n&&(i=i||[]).push("style",n);var l=i;(e.updateQueue=l)&&(e.flags|=4)}};p8=function(t,e,n,r){n!==r&&(e.flags|=4)};function pu(t,e){if(!Qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Qt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function e9(t,e,n){var r=e.pendingProps;switch(mm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(e),null;case 1:return In(e.type)&&V0(),Qt(e),null;case 3:return r=e.stateNode,ca(),qe(An),qe(on),Am(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Oc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ur!==null&&(qp(ur),ur=null))),Vp(t,e),Qt(e),null;case 5:Cm(e);var o=Hi(pl.current);if(n=e.type,t!==null&&e.stateNode!=null)h8(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return Qt(e),null}if(t=Hi(Ir.current),Oc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[xr]=e,r[dl]=i,t=(e.mode&1)!==0,n){case"dialog":We("cancel",r),We("close",r);break;case"iframe":case"object":case"embed":We("load",r);break;case"video":case"audio":for(o=0;o<Iu.length;o++)We(Iu[o],r);break;case"source":We("error",r);break;case"img":case"image":case"link":We("error",r),We("load",r);break;case"details":We("toggle",r);break;case"input":cv(r,i),We("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},We("invalid",r);break;case"textarea":dv(r,i),We("invalid",r)}dp(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Nc(r.textContent,a,t),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Nc(r.textContent,a,t),o=["children",""+a]):nl.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&We("scroll",r)}switch(n){case"input":Ac(r),fv(r,i,!0);break;case"textarea":Ac(r),hv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=L0)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=UE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[xr]=e,t[dl]=r,d8(t,e,!1,!1),e.stateNode=t;e:{switch(s=hp(n,r),n){case"dialog":We("cancel",t),We("close",t),o=r;break;case"iframe":case"object":case"embed":We("load",t),o=r;break;case"video":case"audio":for(o=0;o<Iu.length;o++)We(Iu[o],t);o=r;break;case"source":We("error",t),o=r;break;case"img":case"image":case"link":We("error",t),We("load",t),o=r;break;case"details":We("toggle",t),o=r;break;case"input":cv(t,r),o=ap(t,r),We("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=nt({},r,{value:void 0}),We("invalid",t);break;case"textarea":dv(t,r),o=cp(t,r),We("invalid",t);break;default:o=r}dp(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?zE(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&$E(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&rl(t,u):typeof u=="number"&&rl(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(nl.hasOwnProperty(i)?u!=null&&i==="onScroll"&&We("scroll",t):u!=null&&em(t,i,u,s))}switch(n){case"input":Ac(t),fv(t,r,!1);break;case"textarea":Ac(t),hv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+oi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?qs(t,!!r.multiple,i,!1):r.defaultValue!=null&&qs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=L0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qt(e),null;case 6:if(t&&e.stateNode!=null)p8(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=Hi(pl.current),Hi(Ir.current),Oc(e)){if(r=e.stateNode,n=e.memoizedProps,r[xr]=e,(i=r.nodeValue!==n)&&(t=Mn,t!==null))switch(t.tag){case 3:Nc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Nc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xr]=e,e.stateNode=r}return Qt(e),null;case 13:if(qe(et),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&kn!==null&&e.mode&1&&!(e.flags&128))Dx(),ua(),e.flags|=98560,i=!1;else if(i=Oc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Q(317));i[xr]=e}else ua(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qt(e),i=!1}else ur!==null&&(qp(ur),ur=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||et.current&1?Et===0&&(Et=3):Mm())),e.updateQueue!==null&&(e.flags|=4),Qt(e),null);case 4:return ca(),Vp(t,e),t===null&&cl(e.stateNode.containerInfo),Qt(e),null;case 10:return _m(e.type._context),Qt(e),null;case 17:return In(e.type)&&V0(),Qt(e),null;case 19:if(qe(et),i=e.memoizedState,i===null)return Qt(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)pu(i,!1);else{if(Et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=G0(t),s!==null){for(e.flags|=128,pu(i,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return $e(et,et.current&1|2),e.child}t=t.sibling}i.tail!==null&&ft()>da&&(e.flags|=128,r=!0,pu(i,!1),e.lanes=4194304)}else{if(!r)if(t=G0(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),pu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Qe)return Qt(e),null}else 2*ft()-i.renderingStartTime>da&&n!==1073741824&&(e.flags|=128,r=!0,pu(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(n=i.last,n!==null?n.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ft(),e.sibling=null,n=et.current,$e(et,r?n&1|2:n&1),e):(Qt(e),null);case 22:case 23:return Bm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Nn&1073741824&&(Qt(e),e.subtreeFlags&6&&(e.flags|=8192)):Qt(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function t9(t,e){switch(mm(e),e.tag){case 1:return In(e.type)&&V0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ca(),qe(An),qe(on),Am(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Cm(e),null;case 13:if(qe(et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));ua()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return qe(et),null;case 4:return ca(),null;case 10:return _m(e.type._context),null;case 22:case 23:return Bm(),null;case 24:return null;default:return null}}var Mc=!1,tn=!1,n9=typeof WeakSet=="function"?WeakSet:Set,oe=null;function js(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){st(t,e,r)}else n.current=null}function jp(t,e,n){try{n()}catch(r){st(t,e,r)}}var n_=!1;function r9(t,e){if(Cp=B0,t=vx(),hm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,u=-1,l=0,c=0,f=t,d=null;t:for(;;){for(var p;f!==n||o!==0&&f.nodeType!==3||(a=s+o),f!==i||r!==0&&f.nodeType!==3||(u=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===n&&++l===o&&(a=s),d===i&&++c===r&&(u=s),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ap={focusedElem:t,selectionRange:n},B0=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,_=m.memoizedState,v=e.stateNode,g=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:sr(e.type,y),_);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(x){st(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return m=n_,n_=!1,m}function Hu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var i=o.destroy;o.destroy=void 0,i!==void 0&&jp(e,n,i)}o=o.next}while(o!==r)}}function zf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Up(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function m8(t){var e=t.alternate;e!==null&&(t.alternate=null,m8(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xr],delete e[dl],delete e[Sp],delete e[VI],delete e[jI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function g8(t){return t.tag===5||t.tag===3||t.tag===4}function r_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||g8(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $p(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=L0));else if(r!==4&&(t=t.child,t!==null))for($p(t,e,n),t=t.sibling;t!==null;)$p(t,e,n),t=t.sibling}function Hp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Hp(t,e,n),t=t.sibling;t!==null;)Hp(t,e,n),t=t.sibling}var Mt=null,ar=!1;function _o(t,e,n){for(n=n.child;n!==null;)y8(t,e,n),n=n.sibling}function y8(t,e,n){if(Ar&&typeof Ar.onCommitFiberUnmount=="function")try{Ar.onCommitFiberUnmount(Mf,n)}catch{}switch(n.tag){case 5:tn||js(n,e);case 6:var r=Mt,o=ar;Mt=null,_o(t,e,n),Mt=r,ar=o,Mt!==null&&(ar?(t=Mt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Mt.removeChild(n.stateNode));break;case 18:Mt!==null&&(ar?(t=Mt,n=n.stateNode,t.nodeType===8?Ph(t.parentNode,n):t.nodeType===1&&Ph(t,n),al(t)):Ph(Mt,n.stateNode));break;case 4:r=Mt,o=ar,Mt=n.stateNode.containerInfo,ar=!0,_o(t,e,n),Mt=r,ar=o;break;case 0:case 11:case 14:case 15:if(!tn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&jp(n,e,s),o=o.next}while(o!==r)}_o(t,e,n);break;case 1:if(!tn&&(js(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){st(n,e,a)}_o(t,e,n);break;case 21:_o(t,e,n);break;case 22:n.mode&1?(tn=(r=tn)||n.memoizedState!==null,_o(t,e,n),tn=r):_o(t,e,n);break;default:_o(t,e,n)}}function o_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new n9),e.forEach(function(r){var o=d9.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function or(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Mt=a.stateNode,ar=!1;break e;case 3:Mt=a.stateNode.containerInfo,ar=!0;break e;case 4:Mt=a.stateNode.containerInfo,ar=!0;break e}a=a.return}if(Mt===null)throw Error(Q(160));y8(i,s,o),Mt=null,ar=!1;var u=o.alternate;u!==null&&(u.return=null),o.return=null}catch(l){st(o,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)v8(e,t),e=e.sibling}function v8(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(or(e,t),wr(t),r&4){try{Hu(3,t,t.return),zf(3,t)}catch(y){st(t,t.return,y)}try{Hu(5,t,t.return)}catch(y){st(t,t.return,y)}}break;case 1:or(e,t),wr(t),r&512&&n!==null&&js(n,n.return);break;case 5:if(or(e,t),wr(t),r&512&&n!==null&&js(n,n.return),t.flags&32){var o=t.stateNode;try{rl(o,"")}catch(y){st(t,t.return,y)}}if(r&4&&(o=t.stateNode,o!=null)){var i=t.memoizedProps,s=n!==null?n.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&VE(o,i),hp(a,s);var l=hp(a,i);for(s=0;s<u.length;s+=2){var c=u[s],f=u[s+1];c==="style"?zE(o,f):c==="dangerouslySetInnerHTML"?$E(o,f):c==="children"?rl(o,f):em(o,c,f,l)}switch(a){case"input":up(o,i);break;case"textarea":jE(o,i);break;case"select":var d=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?qs(o,!!i.multiple,p,!1):d!==!!i.multiple&&(i.defaultValue!=null?qs(o,!!i.multiple,i.defaultValue,!0):qs(o,!!i.multiple,i.multiple?[]:"",!1))}o[dl]=i}catch(y){st(t,t.return,y)}}break;case 6:if(or(e,t),wr(t),r&4){if(t.stateNode===null)throw Error(Q(162));o=t.stateNode,i=t.memoizedProps;try{o.nodeValue=i}catch(y){st(t,t.return,y)}}break;case 3:if(or(e,t),wr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{al(e.containerInfo)}catch(y){st(t,t.return,y)}break;case 4:or(e,t),wr(t);break;case 13:or(e,t),wr(t),o=t.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Om=ft())),r&4&&o_(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(tn=(l=tn)||c,or(e,t),tn=l):or(e,t),wr(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!c&&t.mode&1)for(oe=t,c=t.child;c!==null;){for(f=oe=c;oe!==null;){switch(d=oe,p=d.child,d.tag){case 0:case 11:case 14:case 15:Hu(4,d,d.return);break;case 1:js(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){st(r,n,y)}}break;case 5:js(d,d.return);break;case 22:if(d.memoizedState!==null){s_(f);continue}}p!==null?(p.return=d,oe=p):s_(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{o=f.stateNode,l?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,u=f.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=HE("display",s))}catch(y){st(t,t.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(y){st(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:or(e,t),wr(t),r&4&&o_(t);break;case 21:break;default:or(e,t),wr(t)}}function wr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(g8(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(rl(o,""),r.flags&=-33);var i=r_(t);Hp(t,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=r_(t);$p(t,a,s);break;default:throw Error(Q(161))}}catch(u){st(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function o9(t,e,n){oe=t,_8(t)}function _8(t,e,n){for(var r=(t.mode&1)!==0;oe!==null;){var o=oe,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||Mc;if(!s){var a=o.alternate,u=a!==null&&a.memoizedState!==null||tn;a=Mc;var l=tn;if(Mc=s,(tn=u)&&!l)for(oe=o;oe!==null;)s=oe,u=s.child,s.tag===22&&s.memoizedState!==null?a_(o):u!==null?(u.return=s,oe=u):a_(o);for(;i!==null;)oe=i,_8(i),i=i.sibling;oe=o,Mc=a,tn=l}i_(t)}else o.subtreeFlags&8772&&i!==null?(i.return=o,oe=i):i_(t)}}function i_(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:tn||zf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!tn)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:sr(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&$v(e,i,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}$v(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&al(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}tn||e.flags&512&&Up(e)}catch(d){st(e,e.return,d)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function s_(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function a_(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{zf(4,e)}catch(u){st(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(u){st(e,o,u)}}var i=e.return;try{Up(e)}catch(u){st(e,i,u)}break;case 5:var s=e.return;try{Up(e)}catch(u){st(e,s,u)}}}catch(u){st(e,e.return,u)}if(e===t){oe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,oe=a;break}oe=e.return}}var i9=Math.ceil,X0=io.ReactCurrentDispatcher,Dm=io.ReactCurrentOwner,Yn=io.ReactCurrentBatchConfig,Ie=0,bt=null,pt=null,$t=0,Nn=0,Us=hi(0),Et=0,vl=null,ns=0,Wf=0,Nm=0,zu=null,_n=null,Om=0,da=1/0,Mr=null,Y0=!1,zp=null,Wo=null,Fc=!1,Bo=null,Q0=0,Wu=0,Wp=null,c0=-1,f0=0;function dn(){return Ie&6?ft():c0!==-1?c0:c0=ft()}function Go(t){return t.mode&1?Ie&2&&$t!==0?$t&-$t:$I.transition!==null?(f0===0&&(f0=nx()),f0):(t=ke,t!==0||(t=window.event,t=t===void 0?16:lx(t.type)),t):1}function dr(t,e,n,r){if(50<Wu)throw Wu=0,Wp=null,Error(Q(185));Ml(t,n,r),(!(Ie&2)||t!==bt)&&(t===bt&&(!(Ie&2)&&(Wf|=n),Et===4&&So(t,$t)),Tn(t,r),n===1&&Ie===0&&!(e.mode&1)&&(da=ft()+500,Uf&&pi()))}function Tn(t,e){var n=t.callbackNode;$5(t,e);var r=k0(t,t===bt?$t:0);if(r===0)n!==null&&gv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&gv(n),e===1)t.tag===0?UI(u_.bind(null,t)):bx(u_.bind(null,t)),FI(function(){!(Ie&6)&&pi()}),n=null;else{switch(rx(r)){case 1:n=im;break;case 4:n=ex;break;case 16:n=O0;break;case 536870912:n=tx;break;default:n=O0}n=S8(n,w8.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function w8(t,e){if(c0=-1,f0=0,Ie&6)throw Error(Q(327));var n=t.callbackNode;if(Zs()&&t.callbackNode!==n)return null;var r=k0(t,t===bt?$t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Z0(t,r);else{e=r;var o=Ie;Ie|=2;var i=x8();(bt!==t||$t!==e)&&(Mr=null,da=ft()+500,Ki(t,e));do try{u9();break}catch(a){E8(t,a)}while(1);vm(),X0.current=i,Ie=o,pt!==null?e=0:(bt=null,$t=0,e=Et)}if(e!==0){if(e===2&&(o=vp(t),o!==0&&(r=o,e=Gp(t,o))),e===1)throw n=vl,Ki(t,0),So(t,r),Tn(t,ft()),n;if(e===6)So(t,r);else{if(o=t.current.alternate,!(r&30)&&!s9(o)&&(e=Z0(t,r),e===2&&(i=vp(t),i!==0&&(r=i,e=Gp(t,i))),e===1))throw n=vl,Ki(t,0),So(t,r),Tn(t,ft()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:ki(t,_n,Mr);break;case 3:if(So(t,r),(r&130023424)===r&&(e=Om+500-ft(),10<e)){if(k0(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){dn(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=Tp(ki.bind(null,t,_n,Mr),e);break}ki(t,_n,Mr);break;case 4:if(So(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var s=31-fr(r);i=1<<s,s=e[s],s>o&&(o=s),r&=~i}if(r=o,r=ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*i9(r/1960))-r,10<r){t.timeoutHandle=Tp(ki.bind(null,t,_n,Mr),r);break}ki(t,_n,Mr);break;case 5:ki(t,_n,Mr);break;default:throw Error(Q(329))}}}return Tn(t,ft()),t.callbackNode===n?w8.bind(null,t):null}function Gp(t,e){var n=zu;return t.current.memoizedState.isDehydrated&&(Ki(t,e).flags|=256),t=Z0(t,e),t!==2&&(e=_n,_n=n,e!==null&&qp(e)),t}function qp(t){_n===null?_n=t:_n.push.apply(_n,t)}function s9(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!hr(i(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function So(t,e){for(e&=~Nm,e&=~Wf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-fr(e),r=1<<n;t[n]=-1,e&=~r}}function u_(t){if(Ie&6)throw Error(Q(327));Zs();var e=k0(t,0);if(!(e&1))return Tn(t,ft()),null;var n=Z0(t,e);if(t.tag!==0&&n===2){var r=vp(t);r!==0&&(e=r,n=Gp(t,r))}if(n===1)throw n=vl,Ki(t,0),So(t,e),Tn(t,ft()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ki(t,_n,Mr),Tn(t,ft()),null}function km(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&(da=ft()+500,Uf&&pi())}}function rs(t){Bo!==null&&Bo.tag===0&&!(Ie&6)&&Zs();var e=Ie;Ie|=1;var n=Yn.transition,r=ke;try{if(Yn.transition=null,ke=1,t)return t()}finally{ke=r,Yn.transition=n,Ie=e,!(Ie&6)&&pi()}}function Bm(){Nn=Us.current,qe(Us)}function Ki(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,MI(n)),pt!==null)for(n=pt.return;n!==null;){var r=n;switch(mm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&V0();break;case 3:ca(),qe(An),qe(on),Am();break;case 5:Cm(r);break;case 4:ca();break;case 13:qe(et);break;case 19:qe(et);break;case 10:_m(r.type._context);break;case 22:case 23:Bm()}n=n.return}if(bt=t,pt=t=qo(t.current,null),$t=Nn=e,Et=0,vl=null,Nm=Wf=ns=0,_n=zu=null,$i!==null){for(e=0;e<$i.length;e++)if(n=$i[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}$i=null}return t}function E8(t,e){do{var n=pt;try{if(vm(),a0.current=K0,q0){for(var r=tt.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}q0=!1}if(ts=0,St=vt=tt=null,$u=!1,ml=0,Dm.current=null,n===null||n.return===null){Et=1,vl=e,pt=null;break}e:{var i=t,s=n.return,a=n,u=e;if(e=$t,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Xv(s);if(p!==null){p.flags&=-257,Yv(p,s,a,i,e),p.mode&1&&Kv(i,l,e),e=p,u=l;var m=e.updateQueue;if(m===null){var y=new Set;y.add(u),e.updateQueue=y}else m.add(u);break e}else{if(!(e&1)){Kv(i,l,e),Mm();break e}u=Error(Q(426))}}else if(Qe&&a.mode&1){var _=Xv(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Yv(_,s,a,i,e),gm(fa(u,a));break e}}i=u=fa(u,a),Et!==4&&(Et=2),zu===null?zu=[i]:zu.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=o8(i,u,e);Uv(i,v);break e;case 1:a=u;var g=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Wo===null||!Wo.has(E)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=i8(i,a,e);Uv(i,x);break e}}i=i.return}while(i!==null)}A8(n)}catch(P){e=P,pt===n&&n!==null&&(pt=n=n.return);continue}break}while(1)}function x8(){var t=X0.current;return X0.current=K0,t===null?K0:t}function Mm(){(Et===0||Et===3||Et===2)&&(Et=4),bt===null||!(ns&268435455)&&!(Wf&268435455)||So(bt,$t)}function Z0(t,e){var n=Ie;Ie|=2;var r=x8();(bt!==t||$t!==e)&&(Mr=null,Ki(t,e));do try{a9();break}catch(o){E8(t,o)}while(1);if(vm(),Ie=n,X0.current=r,pt!==null)throw Error(Q(261));return bt=null,$t=0,Et}function a9(){for(;pt!==null;)C8(pt)}function u9(){for(;pt!==null&&!O5();)C8(pt)}function C8(t){var e=T8(t.alternate,t,Nn);t.memoizedProps=t.pendingProps,e===null?A8(t):pt=e,Dm.current=null}function A8(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=t9(n,e),n!==null){n.flags&=32767,pt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Et=6,pt=null;return}}else if(n=e9(n,e,Nn),n!==null){pt=n;return}if(e=e.sibling,e!==null){pt=e;return}pt=e=t}while(e!==null);Et===0&&(Et=5)}function ki(t,e,n){var r=ke,o=Yn.transition;try{Yn.transition=null,ke=1,l9(t,e,n,r)}finally{Yn.transition=o,ke=r}return null}function l9(t,e,n,r){do Zs();while(Bo!==null);if(Ie&6)throw Error(Q(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(H5(t,i),t===bt&&(pt=bt=null,$t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fc||(Fc=!0,S8(O0,function(){return Zs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Yn.transition,Yn.transition=null;var s=ke;ke=1;var a=Ie;Ie|=4,Dm.current=null,r9(t,n),v8(n,t),RI(Ap),B0=!!Cp,Ap=Cp=null,t.current=n,o9(n),k5(),Ie=a,ke=s,Yn.transition=i}else t.current=n;if(Fc&&(Fc=!1,Bo=t,Q0=o),i=t.pendingLanes,i===0&&(Wo=null),F5(n.stateNode),Tn(t,ft()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Y0)throw Y0=!1,t=zp,zp=null,t;return Q0&1&&t.tag!==0&&Zs(),i=t.pendingLanes,i&1?t===Wp?Wu++:(Wu=0,Wp=t):Wu=0,pi(),null}function Zs(){if(Bo!==null){var t=rx(Q0),e=Yn.transition,n=ke;try{if(Yn.transition=null,ke=16>t?16:t,Bo===null)var r=!1;else{if(t=Bo,Bo=null,Q0=0,Ie&6)throw Error(Q(331));var o=Ie;for(Ie|=4,oe=t.current;oe!==null;){var i=oe,s=i.child;if(oe.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(oe=l;oe!==null;){var c=oe;switch(c.tag){case 0:case 11:case 15:Hu(8,c,i)}var f=c.child;if(f!==null)f.return=c,oe=f;else for(;oe!==null;){c=oe;var d=c.sibling,p=c.return;if(m8(c),c===l){oe=null;break}if(d!==null){d.return=p,oe=d;break}oe=p}}}var m=i.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}oe=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,oe=s;else e:for(;oe!==null;){if(i=oe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Hu(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,oe=v;break e}oe=i.return}}var g=t.current;for(oe=g;oe!==null;){s=oe;var E=s.child;if(s.subtreeFlags&2064&&E!==null)E.return=s,oe=E;else e:for(s=g;oe!==null;){if(a=oe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:zf(9,a)}}catch(P){st(a,a.return,P)}if(a===s){oe=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,oe=x;break e}oe=a.return}}if(Ie=o,pi(),Ar&&typeof Ar.onPostCommitFiberRoot=="function")try{Ar.onPostCommitFiberRoot(Mf,t)}catch{}r=!0}return r}finally{ke=n,Yn.transition=e}}return!1}function l_(t,e,n){e=fa(n,e),e=o8(t,e,1),t=zo(t,e,1),e=dn(),t!==null&&(Ml(t,1,e),Tn(t,e))}function st(t,e,n){if(t.tag===3)l_(t,t,n);else for(;e!==null;){if(e.tag===3){l_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wo===null||!Wo.has(r))){t=fa(n,t),t=i8(e,t,1),e=zo(e,t,1),t=dn(),e!==null&&(Ml(e,1,t),Tn(e,t));break}}e=e.return}}function c9(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=dn(),t.pingedLanes|=t.suspendedLanes&n,bt===t&&($t&n)===n&&(Et===4||Et===3&&($t&130023424)===$t&&500>ft()-Om?Ki(t,0):Nm|=n),Tn(t,e)}function I8(t,e){e===0&&(t.mode&1?(e=Sc,Sc<<=1,!(Sc&130023424)&&(Sc=4194304)):e=1);var n=dn();t=Qr(t,e),t!==null&&(Ml(t,e,n),Tn(t,n))}function f9(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),I8(t,n)}function d9(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),I8(t,n)}var T8;T8=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||An.current)xn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return xn=!1,JI(t,e,n);xn=!!(t.flags&131072)}else xn=!1,Qe&&e.flags&1048576&&Rx(e,$0,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;l0(t,e),t=e.pendingProps;var o=aa(e,on.current);Qs(e,n),o=Tm(null,e,r,t,o,n);var i=Sm();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,In(r)?(i=!0,j0(e)):i=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Em(e),o.updater=$f,e.stateNode=o,o._reactInternals=e,Op(e,r,t,n),e=Mp(null,e,r,!0,i,n)):(e.tag=0,Qe&&i&&pm(e),fn(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(l0(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=p9(r),t=sr(r,t),o){case 0:e=Bp(null,e,r,t,n);break e;case 1:e=Jv(null,e,r,t,n);break e;case 11:e=Qv(null,e,r,t,n);break e;case 14:e=Zv(null,e,r,sr(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:sr(r,o),Bp(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:sr(r,o),Jv(t,e,r,o,n);case 3:e:{if(l8(e),t===null)throw Error(Q(387));r=e.pendingProps,i=e.memoizedState,o=i.element,Ox(t,e),W0(e,r,null,n);var s=e.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){o=fa(Error(Q(423)),e),e=e_(t,e,r,n,o);break e}else if(r!==o){o=fa(Error(Q(424)),e),e=e_(t,e,r,n,o);break e}else for(kn=Ho(e.stateNode.containerInfo.firstChild),Mn=e,Qe=!0,ur=null,n=Fx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ua(),r===o){e=Zr(t,e,n);break e}fn(t,e,r,n)}e=e.child}return e;case 5:return Lx(e),t===null&&Pp(e),r=e.type,o=e.pendingProps,i=t!==null?t.memoizedProps:null,s=o.children,Ip(r,o)?s=null:i!==null&&Ip(r,i)&&(e.flags|=32),u8(t,e),fn(t,e,s,n),e.child;case 6:return t===null&&Pp(e),null;case 13:return c8(t,e,n);case 4:return xm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=la(e,null,r,n):fn(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:sr(r,o),Qv(t,e,r,o,n);case 7:return fn(t,e,e.pendingProps,n),e.child;case 8:return fn(t,e,e.pendingProps.children,n),e.child;case 12:return fn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,i=e.memoizedProps,s=o.value,$e(H0,r._currentValue),r._currentValue=s,i!==null)if(hr(i.value,s)){if(i.children===o.children&&!An.current){e=Zr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=Gr(-1,n&-n),u.tag=2;var l=i.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Dp(i.return,n,e),a.lanes|=n;break}u=u.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(Q(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Dp(s,n,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}fn(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,Qs(e,n),o=Jn(o),r=r(o),e.flags|=1,fn(t,e,r,n),e.child;case 14:return r=e.type,o=sr(r,e.pendingProps),o=sr(r.type,o),Zv(t,e,r,o,n);case 15:return s8(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:sr(r,o),l0(t,e),e.tag=1,In(r)?(t=!0,j0(e)):t=!1,Qs(e,n),Bx(e,r,o),Op(e,r,o,n),Mp(null,e,r,!0,t,n);case 19:return f8(t,e,n);case 22:return a8(t,e,n)}throw Error(Q(156,e.tag))};function S8(t,e){return JE(t,e)}function h9(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(t,e,n,r){return new h9(t,e,n,r)}function Fm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function p9(t){if(typeof t=="function")return Fm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===nm)return 11;if(t===rm)return 14}return 2}function qo(t,e){var n=t.alternate;return n===null?(n=Xn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function d0(t,e,n,r,o,i){var s=2;if(r=t,typeof t=="function")Fm(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Ds:return Xi(n.children,o,i,e);case tm:s=8,o|=8;break;case rp:return t=Xn(12,n,e,o|2),t.elementType=rp,t.lanes=i,t;case op:return t=Xn(13,n,e,o),t.elementType=op,t.lanes=i,t;case ip:return t=Xn(19,n,e,o),t.elementType=ip,t.lanes=i,t;case ME:return Gf(n,o,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case kE:s=10;break e;case BE:s=9;break e;case nm:s=11;break e;case rm:s=14;break e;case Ao:s=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=Xn(s,n,e,o),e.elementType=t,e.type=r,e.lanes=i,e}function Xi(t,e,n,r){return t=Xn(7,t,r,e),t.lanes=n,t}function Gf(t,e,n,r){return t=Xn(22,t,r,e),t.elementType=ME,t.lanes=n,t.stateNode={isHidden:!1},t}function Lh(t,e,n){return t=Xn(6,t,null,e),t.lanes=n,t}function Vh(t,e,n){return e=Xn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function m9(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_h(0),this.expirationTimes=_h(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_h(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Lm(t,e,n,r,o,i,s,a,u){return t=new m9(t,e,n,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Xn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Em(i),t}function g9(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ps,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function b8(t){if(!t)return ii;t=t._reactInternals;e:{if(ds(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(In(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(In(n))return Sx(t,n,e)}return e}function R8(t,e,n,r,o,i,s,a,u){return t=Lm(n,r,!0,t,o,i,s,a,u),t.context=b8(null),n=t.current,r=dn(),o=Go(n),i=Gr(r,o),i.callback=e??null,zo(n,i,o),t.current.lanes=o,Ml(t,o,r),Tn(t,r),t}function qf(t,e,n,r){var o=e.current,i=dn(),s=Go(o);return n=b8(n),e.context===null?e.context=n:e.pendingContext=n,e=Gr(i,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=zo(o,e,s),t!==null&&(dr(t,o,s,i),s0(t,o,s)),s}function J0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function c_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Vm(t,e){c_(t,e),(t=t.alternate)&&c_(t,e)}function y9(){return null}var P8=typeof reportError=="function"?reportError:function(t){console.error(t)};function jm(t){this._internalRoot=t}Kf.prototype.render=jm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));qf(t,e,null,null)};Kf.prototype.unmount=jm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;rs(function(){qf(null,t,null,null)}),e[Yr]=null}};function Kf(t){this._internalRoot=t}Kf.prototype.unstable_scheduleHydration=function(t){if(t){var e=sx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<To.length&&e!==0&&e<To[n].priority;n++);To.splice(n,0,t),n===0&&ux(t)}};function Um(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function f_(){}function v9(t,e,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var l=J0(s);i.call(l)}}var s=R8(e,r,t,0,null,!1,!1,"",f_);return t._reactRootContainer=s,t[Yr]=s.current,cl(t.nodeType===8?t.parentNode:t),rs(),s}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var l=J0(u);a.call(l)}}var u=Lm(t,0,!1,null,null,!1,!1,"",f_);return t._reactRootContainer=u,t[Yr]=u.current,cl(t.nodeType===8?t.parentNode:t),rs(function(){qf(e,u,n,r)}),u}function Yf(t,e,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var u=J0(s);a.call(u)}}qf(e,s,t,o)}else s=v9(n,e,t,o,r);return J0(s)}ox=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Au(e.pendingLanes);n!==0&&(sm(e,n|1),Tn(e,ft()),!(Ie&6)&&(da=ft()+500,pi()))}break;case 13:rs(function(){var r=Qr(t,1);if(r!==null){var o=dn();dr(r,t,1,o)}}),Vm(t,1)}};am=function(t){if(t.tag===13){var e=Qr(t,134217728);if(e!==null){var n=dn();dr(e,t,134217728,n)}Vm(t,134217728)}};ix=function(t){if(t.tag===13){var e=Go(t),n=Qr(t,e);if(n!==null){var r=dn();dr(n,t,e,r)}Vm(t,e)}};sx=function(){return ke};ax=function(t,e){var n=ke;try{return ke=t,e()}finally{ke=n}};mp=function(t,e,n){switch(e){case"input":if(up(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=jf(r);if(!o)throw Error(Q(90));LE(r),up(r,o)}}}break;case"textarea":jE(t,n);break;case"select":e=n.value,e!=null&&qs(t,!!n.multiple,e,!1)}};qE=km;KE=rs;var _9={usingClientEntryPoint:!1,Events:[Ll,Bs,jf,WE,GE,km]},mu={findFiberByHostInstance:Ui,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},w9={bundleType:mu.bundleType,version:mu.version,rendererPackageName:mu.rendererPackageName,rendererConfig:mu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:io.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=QE(t),t===null?null:t.stateNode},findFiberByHostInstance:mu.findFiberByHostInstance||y9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lc.isDisabled&&Lc.supportsFiber)try{Mf=Lc.inject(w9),Ar=Lc}catch{}}jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_9;jn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Um(e))throw Error(Q(200));return g9(t,e,null,n)};jn.createRoot=function(t,e){if(!Um(t))throw Error(Q(299));var n=!1,r="",o=P8;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=Lm(t,1,!1,null,null,n,!1,r,o),t[Yr]=e.current,cl(t.nodeType===8?t.parentNode:t),new jm(e)};jn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=QE(e),t=t===null?null:t.stateNode,t};jn.flushSync=function(t){return rs(t)};jn.hydrate=function(t,e,n){if(!Xf(e))throw Error(Q(200));return Yf(null,t,e,!0,n)};jn.hydrateRoot=function(t,e,n){if(!Um(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=P8;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=R8(e,null,t,1,n??null,o,!1,i,s),t[Yr]=e.current,cl(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new Kf(e)};jn.render=function(t,e,n){if(!Xf(e))throw Error(Q(200));return Yf(null,t,e,!1,n)};jn.unmountComponentAtNode=function(t){if(!Xf(t))throw Error(Q(40));return t._reactRootContainer?(rs(function(){Yf(null,null,t,!1,function(){t._reactRootContainer=null,t[Yr]=null})}),!0):!1};jn.unstable_batchedUpdates=km;jn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Xf(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return Yf(t,e,n,!1,r)};jn.version="18.2.0-next-9e3b772b8-20220608";function D8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(D8)}catch(t){console.error(t)}}D8(),RE.exports=jn;var $m=RE.exports,d_=$m;tp.createRoot=d_.createRoot,tp.hydrateRoot=d_.hydrateRoot;/**
 * @remix-run/router v1.7.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _l(){return _l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_l.apply(this,arguments)}var Mo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Mo||(Mo={}));const h_="popstate";function E9(t){t===void 0&&(t={});function e(r,o){let{pathname:i,search:s,hash:a}=r.location;return Kp("",{pathname:i,search:s,hash:a},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:ef(o)}return C9(e,n,null,t)}function dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Hm(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function x9(){return Math.random().toString(36).substr(2,8)}function p_(t,e){return{usr:t.state,key:t.key,idx:e}}function Kp(t,e,n,r){return n===void 0&&(n=null),_l({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ba(e):e,{state:n,key:e&&e.key||r||x9()})}function ef(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ba(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function C9(t,e,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,s=o.history,a=Mo.Pop,u=null,l=c();l==null&&(l=0,s.replaceState(_l({},s.state,{idx:l}),""));function c(){return(s.state||{idx:null}).idx}function f(){a=Mo.Pop;let _=c(),v=_==null?null:_-l;l=_,u&&u({action:a,location:y.location,delta:v})}function d(_,v){a=Mo.Push;let g=Kp(y.location,_,v);n&&n(g,_),l=c()+1;let E=p_(g,l),x=y.createHref(g);try{s.pushState(E,"",x)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;o.location.assign(x)}i&&u&&u({action:a,location:y.location,delta:1})}function p(_,v){a=Mo.Replace;let g=Kp(y.location,_,v);n&&n(g,_),l=c();let E=p_(g,l),x=y.createHref(g);s.replaceState(E,"",x),i&&u&&u({action:a,location:y.location,delta:0})}function m(_){let v=o.location.origin!=="null"?o.location.origin:o.location.href,g=typeof _=="string"?_:ef(_);return dt(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let y={get action(){return a},get location(){return t(o,s)},listen(_){if(u)throw new Error("A history only accepts one active listener");return o.addEventListener(h_,f),u=_,()=>{o.removeEventListener(h_,f),u=null}},createHref(_){return e(o,_)},createURL:m,encodeLocation(_){let v=m(_);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:d,replace:p,go(_){return s.go(_)}};return y}var m_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(m_||(m_={}));function A9(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ba(e):e,o=zm(r.pathname||"/",n);if(o==null)return null;let i=N8(t);I9(i);let s=null;for(let a=0;s==null&&a<i.length;++a)s=k9(i[a],F9(o));return s}function N8(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(i,s,a)=>{let u={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};u.relativePath.startsWith("/")&&(dt(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=Ko([r,u.relativePath]),c=n.concat(u);i.children&&i.children.length>0&&(dt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),N8(i.children,e,c,l)),!(i.path==null&&!i.index)&&e.push({path:l,score:N9(l,i.index),routesMeta:c})};return t.forEach((i,s)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))o(i,s);else for(let u of O8(i.path))o(i,s,u)}),e}function O8(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let s=O8(r.join("/")),a=[];return a.push(...s.map(u=>u===""?i:[i,u].join("/"))),o&&a.push(...s),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function I9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:O9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const T9=/^:\w+$/,S9=3,b9=2,R9=1,P9=10,D9=-2,g_=t=>t==="*";function N9(t,e){let n=t.split("/"),r=n.length;return n.some(g_)&&(r+=D9),e&&(r+=b9),n.filter(o=>!g_(o)).reduce((o,i)=>o+(T9.test(i)?S9:i===""?R9:P9),r)}function O9(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function k9(t,e){let{routesMeta:n}=t,r={},o="/",i=[];for(let s=0;s<n.length;++s){let a=n[s],u=s===n.length-1,l=o==="/"?e:e.slice(o.length)||"/",c=B9({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);let f=a.route;i.push({params:r,pathname:Ko([o,c.pathname]),pathnameBase:U9(Ko([o,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(o=Ko([o,c.pathnameBase]))}return i}function B9(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=M9(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:r.reduce((l,c,f)=>{if(c==="*"){let d=a[f]||"";s=i.slice(0,i.length-d.length).replace(/(.)\/+$/,"$1")}return l[c]=L9(a[f]||"",c),l},{}),pathname:i,pathnameBase:s,pattern:t}}function M9(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Hm(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function F9(t){try{return decodeURI(t)}catch(e){return Hm(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function L9(t,e){try{return decodeURIComponent(t)}catch(n){return Hm(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function zm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function V9(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?ba(t):t;return{pathname:n?n.startsWith("/")?n:j9(n,e):e,search:$9(r),hash:H9(o)}}function j9(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function jh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Wm(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Gm(t,e,n,r){r===void 0&&(r=!1);let o;typeof t=="string"?o=ba(t):(o=_l({},t),dt(!o.pathname||!o.pathname.includes("?"),jh("?","pathname","search",o)),dt(!o.pathname||!o.pathname.includes("#"),jh("#","pathname","hash",o)),dt(!o.search||!o.search.includes("#"),jh("#","search","hash",o)));let i=t===""||o.pathname==="",s=i?"/":o.pathname,a;if(r||s==null)a=n;else{let f=e.length-1;if(s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),f-=1;o.pathname=d.join("/")}a=f>=0?e[f]:"/"}let u=V9(o,a),l=s&&s!=="/"&&s.endsWith("/"),c=(i||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const Ko=t=>t.join("/").replace(/\/\/+/g,"/"),U9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,H9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function z9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const k8=["post","put","patch","delete"];new Set(k8);const W9=["get",...k8];new Set(W9);/**
 * React Router v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tf(){return tf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tf.apply(this,arguments)}const qm=B.createContext(null),G9=B.createContext(null),Ra=B.createContext(null),Qf=B.createContext(null),so=B.createContext({outlet:null,matches:[],isDataRoute:!1}),B8=B.createContext(null);function q9(t,e){let{relative:n}=e===void 0?{}:e;Pa()||dt(!1);let{basename:r,navigator:o}=B.useContext(Ra),{hash:i,pathname:s,search:a}=F8(t,{relative:n}),u=s;return r!=="/"&&(u=s==="/"?r:Ko([r,s])),o.createHref({pathname:u,search:a,hash:i})}function Pa(){return B.useContext(Qf)!=null}function jl(){return Pa()||dt(!1),B.useContext(Qf).location}function M8(t){B.useContext(Ra).static||B.useLayoutEffect(t)}function Ul(){let{isDataRoute:t}=B.useContext(so);return t?aT():K9()}function K9(){Pa()||dt(!1);let t=B.useContext(qm),{basename:e,navigator:n}=B.useContext(Ra),{matches:r}=B.useContext(so),{pathname:o}=jl(),i=JSON.stringify(Wm(r).map(u=>u.pathnameBase)),s=B.useRef(!1);return M8(()=>{s.current=!0}),B.useCallback(function(u,l){if(l===void 0&&(l={}),!s.current)return;if(typeof u=="number"){n.go(u);return}let c=Gm(u,JSON.parse(i),o,l.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Ko([e,c.pathname])),(l.replace?n.replace:n.push)(c,l.state,l)},[e,n,i,o,t])}function X9(){let{matches:t}=B.useContext(so),e=t[t.length-1];return e?e.params:{}}function F8(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=B.useContext(so),{pathname:o}=jl(),i=JSON.stringify(Wm(r).map(s=>s.pathnameBase));return B.useMemo(()=>Gm(t,JSON.parse(i),o,n==="path"),[t,i,o,n])}function Y9(t,e){return Q9(t,e)}function Q9(t,e,n){Pa()||dt(!1);let{navigator:r}=B.useContext(Ra),{matches:o}=B.useContext(so),i=o[o.length-1],s=i?i.params:{};i&&i.pathname;let a=i?i.pathnameBase:"/";i&&i.route;let u=jl(),l;if(e){var c;let y=typeof e=="string"?ba(e):e;a==="/"||(c=y.pathname)!=null&&c.startsWith(a)||dt(!1),l=y}else l=u;let f=l.pathname||"/",d=a==="/"?f:f.slice(a.length)||"/",p=A9(t,{pathname:d}),m=nT(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:Ko([a,r.encodeLocation?r.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?a:Ko([a,r.encodeLocation?r.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,n);return e&&m?B.createElement(Qf.Provider,{value:{location:tf({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:Mo.Pop}},m):m}function Z9(){let t=sT(),e=z9(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:o},n):null,i)}const J9=B.createElement(Z9,null);class eT extends B.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?B.createElement(so.Provider,{value:this.props.routeContext},B.createElement(B8.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tT(t){let{routeContext:e,match:n,children:r}=t,o=B.useContext(qm);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),B.createElement(so.Provider,{value:e},r)}function nT(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let i=t,s=(r=n)==null?void 0:r.errors;if(s!=null){let a=i.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id]));a>=0||dt(!1),i=i.slice(0,Math.min(i.length,a+1))}return i.reduceRight((a,u,l)=>{let c=u.route.id?s==null?void 0:s[u.route.id]:null,f=null;n&&(f=u.route.errorElement||J9);let d=e.concat(i.slice(0,l+1)),p=()=>{let m;return c?m=f:u.route.Component?m=B.createElement(u.route.Component,null):u.route.element?m=u.route.element:m=a,B.createElement(tT,{match:u,routeContext:{outlet:a,matches:d,isDataRoute:n!=null},children:m})};return n&&(u.route.ErrorBoundary||u.route.errorElement||l===0)?B.createElement(eT,{location:n.location,revalidation:n.revalidation,component:f,error:c,children:p(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):p()},null)}var Xp;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(Xp||(Xp={}));var wl;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(wl||(wl={}));function rT(t){let e=B.useContext(qm);return e||dt(!1),e}function oT(t){let e=B.useContext(G9);return e||dt(!1),e}function iT(t){let e=B.useContext(so);return e||dt(!1),e}function L8(t){let e=iT(),n=e.matches[e.matches.length-1];return n.route.id||dt(!1),n.route.id}function sT(){var t;let e=B.useContext(B8),n=oT(wl.UseRouteError),r=L8(wl.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function aT(){let{router:t}=rT(Xp.UseNavigateStable),e=L8(wl.UseNavigateStable),n=B.useRef(!1);return M8(()=>{n.current=!0}),B.useCallback(function(o,i){i===void 0&&(i={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,tf({fromRouteId:e},i)))},[t,e])}function Km(t){let{to:e,replace:n,state:r,relative:o}=t;Pa()||dt(!1);let{matches:i}=B.useContext(so),{pathname:s}=jl(),a=Ul(),u=Gm(e,Wm(i).map(c=>c.pathnameBase),s,o==="path"),l=JSON.stringify(u);return B.useEffect(()=>a(JSON.parse(l),{replace:n,state:r,relative:o}),[a,l,o,n,r]),null}function Dn(t){dt(!1)}function uT(t){let{basename:e="/",children:n=null,location:r,navigationType:o=Mo.Pop,navigator:i,static:s=!1}=t;Pa()&&dt(!1);let a=e.replace(/^\/*/,"/"),u=B.useMemo(()=>({basename:a,navigator:i,static:s}),[a,i,s]);typeof r=="string"&&(r=ba(r));let{pathname:l="/",search:c="",hash:f="",state:d=null,key:p="default"}=r,m=B.useMemo(()=>{let y=zm(l,a);return y==null?null:{location:{pathname:y,search:c,hash:f,state:d,key:p},navigationType:o}},[a,l,c,f,d,p,o]);return m==null?null:B.createElement(Ra.Provider,{value:u},B.createElement(Qf.Provider,{children:n,value:m}))}function lT(t){let{children:e,location:n}=t;return Y9(Yp(e),n)}var y_;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(y_||(y_={}));new Promise(()=>{});function Yp(t,e){e===void 0&&(e=[]);let n=[];return B.Children.forEach(t,(r,o)=>{if(!B.isValidElement(r))return;let i=[...e,o];if(r.type===B.Fragment){n.push.apply(n,Yp(r.props.children,i));return}r.type!==Dn&&dt(!1),!r.props.index||!r.props.children||dt(!1);let s={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Yp(r.props.children,i)),n.push(s)}),n}/**
 * React Router DOM v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qp(){return Qp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qp.apply(this,arguments)}function cT(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function fT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function dT(t,e){return t.button===0&&(!e||e==="_self")&&!fT(t)}const hT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],pT="startTransition",v_=R0[pT];function mT(t){let{basename:e,children:n,future:r,window:o}=t,i=B.useRef();i.current==null&&(i.current=E9({window:o,v5Compat:!0}));let s=i.current,[a,u]=B.useState({action:s.action,location:s.location}),{v7_startTransition:l}=r||{},c=B.useCallback(f=>{l&&v_?v_(()=>u(f)):u(f)},[u,l]);return B.useLayoutEffect(()=>s.listen(c),[s,c]),B.createElement(uT,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s})}const gT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wn=B.forwardRef(function(e,n){let{onClick:r,relative:o,reloadDocument:i,replace:s,state:a,target:u,to:l,preventScrollReset:c}=e,f=cT(e,hT),{basename:d}=B.useContext(Ra),p,m=!1;if(typeof l=="string"&&yT.test(l)&&(p=l,gT))try{let g=new URL(window.location.href),E=l.startsWith("//")?new URL(g.protocol+l):new URL(l),x=zm(E.pathname,d);E.origin===g.origin&&x!=null?l=x+E.search+E.hash:m=!0}catch{}let y=q9(l,{relative:o}),_=vT(l,{replace:s,state:a,target:u,preventScrollReset:c,relative:o});function v(g){r&&r(g),g.defaultPrevented||_(g)}return B.createElement("a",Qp({},f,{href:p||y,onClick:m||i?r:v,ref:n,target:u}))});var __;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(__||(__={}));var w_;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(w_||(w_={}));function vT(t,e){let{target:n,replace:r,state:o,preventScrollReset:i,relative:s}=e===void 0?{}:e,a=Ul(),u=jl(),l=F8(t,{relative:s});return B.useCallback(c=>{if(dT(c,n)){c.preventDefault();let f=r!==void 0?r:ef(u)===ef(l);a(t,{replace:f,state:o,preventScrollReset:i,relative:s})}},[u,a,l,r,o,n,t,i,s])}const gn=B.createContext();var V8={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},E_=ne.createContext&&ne.createContext(V8),Xo=globalThis&&globalThis.__assign||function(){return Xo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Xo.apply(this,arguments)},_T=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};function j8(t){return t&&t.map(function(e,n){return ne.createElement(e.tag,Xo({key:n},e.attr),j8(e.child))})}function mi(t){return function(e){return ne.createElement(wT,Xo({attr:Xo({},t.attr)},e),j8(t.child))}}function wT(t){var e=function(n){var r=t.attr,o=t.size,i=t.title,s=_T(t,["attr","size","title"]),a=o||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),ne.createElement("svg",Xo({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:u,style:Xo(Xo({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&ne.createElement("title",null,i),t.children)};return E_!==void 0?ne.createElement(E_.Consumer,null,function(n){return e(n)}):e(V8)}function ET(t){return mi({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.473 11a4.5 4.5 0 0 0-8.72-.99A3 3 0 0 0 3 16h8.5a2.5 2.5 0 0 0 0-5h-.027z"}},{tag:"path",attr:{d:"M10.5 1.5a.5.5 0 0 0-1 0v1a.5.5 0 0 0 1 0v-1zm3.743 1.964a.5.5 0 1 0-.707-.707l-.708.707a.5.5 0 0 0 .708.708l.707-.708zm-7.779-.707a.5.5 0 0 0-.707.707l.707.708a.5.5 0 1 0 .708-.708l-.708-.707zm1.734 3.374a2 2 0 1 1 3.296 2.198c.199.281.372.582.516.898a3 3 0 1 0-4.84-3.225c.352.011.696.055 1.028.129zm4.484 4.074c.6.215 1.125.59 1.522 1.072a.5.5 0 0 0 .039-.742l-.707-.707a.5.5 0 0 0-.854.377zM14.5 6.5a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-1z"}}]})(t)}function xT(t){return mi({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"}},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"}},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"}},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"}},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"}},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"}}]})(t)}var CT=Object.defineProperty,AT=(t,e,n)=>e in t?CT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Uh=(t,e,n)=>(AT(t,typeof e!="symbol"?e+"":e,n),n);let IT=class{constructor(){Uh(this,"current",this.detect()),Uh(this,"handoffState","pending"),Uh(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},qr=new IT,pr=(t,e)=>{qr.isServer?B.useEffect(t,e):B.useLayoutEffect(t,e)};function Kr(t){let e=B.useRef(t);return pr(()=>{e.current=t},[t]),e}function Zf(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Da(){let t=[],e={addEventListener(n,r,o,i){return n.addEventListener(r,o,i),e.add(()=>n.removeEventListener(r,o,i))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Zf(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,o){let i=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:o}),this.add(()=>{Object.assign(n.style,{[r]:i})})},group(n){let r=Da();return n(r),this.add(()=>r.dispose())},add(n){return t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let o of t.splice(r,1))o()}},dispose(){for(let n of t.splice(0))n()}};return e}function Xm(){let[t]=B.useState(Da);return B.useEffect(()=>()=>t.dispose(),[t]),t}let Ze=function(t){let e=Kr(t);return ne.useCallback((...n)=>e.current(...n),[e])};function Na(){let[t,e]=B.useState(qr.isHandoffComplete);return t&&qr.isHandoffComplete===!1&&e(!1),B.useEffect(()=>{t!==!0&&e(!0)},[t]),B.useEffect(()=>qr.handoff(),[]),t}var x_;let Oa=(x_=ne.useId)!=null?x_:function(){let t=Na(),[e,n]=ne.useState(t?()=>qr.nextId():null);return pr(()=>{e===null&&n(qr.nextId())},[e]),e!=null?""+e:void 0};function rn(t,e,...n){if(t in e){let o=e[t];return typeof o=="function"?o(...n):o}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,rn),r}function U8(t){return qr.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let Zp=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Vi=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(Vi||{}),$8=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))($8||{}),TT=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(TT||{});function ST(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Zp)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var H8=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(H8||{});function bT(t,e=0){var n;return t===((n=U8(t))==null?void 0:n.body)?!1:rn(e,{0(){return t.matches(Zp)},1(){let r=t;for(;r!==null;){if(r.matches(Zp))return!0;r=r.parentElement}return!1}})}var RT=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(RT||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Yi(t){t==null||t.focus({preventScroll:!0})}let PT=["textarea","input"].join(",");function DT(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,PT))!=null?n:!1}function NT(t,e=n=>n){return t.slice().sort((n,r)=>{let o=e(n),i=e(r);if(o===null||i===null)return 0;let s=o.compareDocumentPosition(i);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function h0(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:o=[]}={}){let i=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,s=Array.isArray(t)?n?NT(t):t:ST(t);o.length>0&&s.length>1&&(s=s.filter(p=>!o.includes(p))),r=r??i.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,s.indexOf(r))-1;if(e&4)return Math.max(0,s.indexOf(r))+1;if(e&8)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=e&32?{preventScroll:!0}:{},c=0,f=s.length,d;do{if(c>=f||c+f<=0)return 0;let p=u+c;if(e&16)p=(p+f)%f;else{if(p<0)return 3;if(p>=f)return 1}d=s[p],d==null||d.focus(l),c+=a}while(d!==i.activeElement);return e&6&&DT(d)&&d.select(),2}function Vc(t,e,n){let r=Kr(e);B.useEffect(()=>{function o(i){r.current(i)}return document.addEventListener(t,o,n),()=>document.removeEventListener(t,o,n)},[t,n])}function z8(t,e,n){let r=Kr(e);B.useEffect(()=>{function o(i){r.current(i)}return window.addEventListener(t,o,n),()=>window.removeEventListener(t,o,n)},[t,n])}function OT(t,e,n=!0){let r=B.useRef(!1);B.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function o(s,a){if(!r.current||s.defaultPrevented)return;let u=a(s);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let l=function c(f){return typeof f=="function"?c(f()):Array.isArray(f)||f instanceof Set?f:[f]}(t);for(let c of l){if(c===null)continue;let f=c instanceof HTMLElement?c:c.current;if(f!=null&&f.contains(u)||s.composed&&s.composedPath().includes(f))return}return!bT(u,H8.Loose)&&u.tabIndex!==-1&&s.preventDefault(),e(s,u)}let i=B.useRef(null);Vc("pointerdown",s=>{var a,u;r.current&&(i.current=((u=(a=s.composedPath)==null?void 0:a.call(s))==null?void 0:u[0])||s.target)},!0),Vc("mousedown",s=>{var a,u;r.current&&(i.current=((u=(a=s.composedPath)==null?void 0:a.call(s))==null?void 0:u[0])||s.target)},!0),Vc("click",s=>{i.current&&(o(s,()=>i.current),i.current=null)},!0),Vc("touchend",s=>o(s,()=>s.target instanceof HTMLElement?s.target:null),!0),z8("blur",s=>o(s,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}let W8=Symbol();function kT(t,e=!0){return Object.assign(t,{[W8]:e})}function yr(...t){let e=B.useRef(t);B.useEffect(()=>{e.current=t},[t]);let n=Ze(r=>{for(let o of e.current)o!=null&&(typeof o=="function"?o(r):o.current=r)});return t.every(r=>r==null||(r==null?void 0:r[W8]))?void 0:n}function Jp(...t){return t.filter(Boolean).join(" ")}var nf=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(nf||{}),Ur=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Ur||{});function tr({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:o,visible:i=!0,name:s}){let a=G8(e,t);if(i)return jc(a,n,r,s);let u=o??0;if(u&2){let{static:l=!1,...c}=a;if(l)return jc(c,n,r,s)}if(u&1){let{unmount:l=!0,...c}=a;return rn(l?0:1,{0(){return null},1(){return jc({...c,hidden:!0,style:{display:"none"}},n,r,s)}})}return jc(a,n,r,s)}function jc(t,e={},n,r){let{as:o=n,children:i,refName:s="ref",...a}=$h(t,["unmount","static"]),u=t.ref!==void 0?{[s]:t.ref}:{},l=typeof i=="function"?i(e):i;"className"in a&&a.className&&typeof a.className=="function"&&(a.className=a.className(e));let c={};if(e){let f=!1,d=[];for(let[p,m]of Object.entries(e))typeof m=="boolean"&&(f=!0),m===!0&&d.push(p);f&&(c["data-headlessui-state"]=d.join(" "))}if(o===B.Fragment&&Object.keys(C_(a)).length>0){if(!B.isValidElement(l)||Array.isArray(l)&&l.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(a).map(m=>`  - ${m}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(m=>`  - ${m}`).join(`
`)].join(`
`));let f=l.props,d=typeof(f==null?void 0:f.className)=="function"?(...m)=>Jp(f==null?void 0:f.className(...m),a.className):Jp(f==null?void 0:f.className,a.className),p=d?{className:d}:{};return B.cloneElement(l,Object.assign({},G8(l.props,C_($h(a,["ref"]))),c,u,BT(l.ref,u.ref),p))}return B.createElement(o,Object.assign({},$h(a,["ref"]),o!==B.Fragment&&u,o!==B.Fragment&&c),l)}function BT(...t){return{ref:t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}}function G8(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(r[o])):e[o]=r[o];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(e,{[r](o,...i){let s=n[r];for(let a of s){if((o instanceof Event||(o==null?void 0:o.nativeEvent)instanceof Event)&&o.defaultPrevented)return;a(o,...i)}}});return e}function $n(t){var e;return Object.assign(B.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function C_(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function $h(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function MT(t){let e=t.parentElement,n=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&FT(n)?!1:r}function FT(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}let LT="div";var rf=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(rf||{});function VT(t,e){let{features:n=1,...r}=t,o={ref:e,"aria-hidden":(n&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return tr({ourProps:o,theirProps:r,slot:{},defaultTag:LT,name:"Hidden"})}let e2=$n(VT),Ym=B.createContext(null);Ym.displayName="OpenClosedContext";var On=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(On||{});function Qm(){return B.useContext(Ym)}function jT({value:t,children:e}){return ne.createElement(Ym.Provider,{value:t},e)}var q8=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(q8||{});function Zm(t,e){let n=B.useRef([]),r=Ze(t);B.useEffect(()=>{let o=[...n.current];for(let[i,s]of e.entries())if(n.current[i]!==s){let a=r(e,o);return n.current=e,a}},[r,...e])}function UT(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}var Tu=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Tu||{});function $T(){let t=B.useRef(0);return z8("keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function $l(){let t=B.useRef(!1);return pr(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function Hl(...t){return B.useMemo(()=>U8(...t),[...t])}function K8(t,e,n,r){let o=Kr(n);B.useEffect(()=>{t=t??window;function i(s){o.current(s)}return t.addEventListener(e,i,r),()=>t.removeEventListener(e,i,r)},[t,e,r])}function HT(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}function X8(t){let e=Ze(t),n=B.useRef(!1);B.useEffect(()=>(n.current=!1,()=>{n.current=!0,Zf(()=>{n.current&&e()})}),[e])}function Y8(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)n.current instanceof HTMLElement&&e.add(n.current);return e}let zT="div";var Q8=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(Q8||{});function WT(t,e){let n=B.useRef(null),r=yr(n,e),{initialFocus:o,containers:i,features:s=30,...a}=t;Na()||(s=1);let u=Hl(n);KT({ownerDocument:u},!!(s&16));let l=XT({ownerDocument:u,container:n,initialFocus:o},!!(s&2));YT({ownerDocument:u,container:n,containers:i,previousActiveElement:l},!!(s&8));let c=$T(),f=Ze(y=>{let _=n.current;_&&(v=>v())(()=>{rn(c.current,{[Tu.Forwards]:()=>{h0(_,Vi.First,{skipElements:[y.relatedTarget]})},[Tu.Backwards]:()=>{h0(_,Vi.Last,{skipElements:[y.relatedTarget]})}})})}),d=Xm(),p=B.useRef(!1),m={ref:r,onKeyDown(y){y.key=="Tab"&&(p.current=!0,d.requestAnimationFrame(()=>{p.current=!1}))},onBlur(y){let _=Y8(i);n.current instanceof HTMLElement&&_.add(n.current);let v=y.relatedTarget;v instanceof HTMLElement&&v.dataset.headlessuiFocusGuard!=="true"&&(Z8(_,v)||(p.current?h0(n.current,rn(c.current,{[Tu.Forwards]:()=>Vi.Next,[Tu.Backwards]:()=>Vi.Previous})|Vi.WrapAround,{relativeTo:y.target}):y.target instanceof HTMLElement&&Yi(y.target)))}};return ne.createElement(ne.Fragment,null,!!(s&4)&&ne.createElement(e2,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:rf.Focusable}),tr({ourProps:m,theirProps:a,defaultTag:zT,name:"FocusTrap"}),!!(s&4)&&ne.createElement(e2,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:rf.Focusable}))}let GT=$n(WT),gu=Object.assign(GT,{features:Q8}),bo=[];HT(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&bo[0]!==e.target&&(bo.unshift(e.target),bo=bo.filter(n=>n!=null&&n.isConnected),bo.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function qT(t=!0){let e=B.useRef(bo.slice());return Zm(([n],[r])=>{r===!0&&n===!1&&Zf(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=bo.slice())},[t,bo,e]),Ze(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function KT({ownerDocument:t},e){let n=qT(e);Zm(()=>{e||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&Yi(n())},[e]),X8(()=>{e&&Yi(n())})}function XT({ownerDocument:t,container:e,initialFocus:n},r){let o=B.useRef(null),i=$l();return Zm(()=>{if(!r)return;let s=e.current;s&&Zf(()=>{if(!i.current)return;let a=t==null?void 0:t.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===a){o.current=a;return}}else if(s.contains(a)){o.current=a;return}n!=null&&n.current?Yi(n.current):h0(s,Vi.First)===$8.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),o.current=t==null?void 0:t.activeElement})},[r]),o}function YT({ownerDocument:t,container:e,containers:n,previousActiveElement:r},o){let i=$l();K8(t==null?void 0:t.defaultView,"focus",s=>{if(!o||!i.current)return;let a=Y8(n);e.current instanceof HTMLElement&&a.add(e.current);let u=r.current;if(!u)return;let l=s.target;l&&l instanceof HTMLElement?Z8(a,l)?(r.current=l,Yi(l)):(s.preventDefault(),s.stopPropagation(),Yi(u)):Yi(r.current)},!0)}function Z8(t,e){for(let n of t)if(n.contains(e))return!0;return!1}let J8=B.createContext(!1);function QT(){return B.useContext(J8)}function t2(t){return ne.createElement(J8.Provider,{value:t.force},t.children)}function ZT(t){let e=QT(),n=B.useContext(e6),r=Hl(t),[o,i]=B.useState(()=>{if(!e&&n!==null||qr.isServer)return null;let s=r==null?void 0:r.getElementById("headlessui-portal-root");if(s)return s;if(r===null)return null;let a=r.createElement("div");return a.setAttribute("id","headlessui-portal-root"),r.body.appendChild(a)});return B.useEffect(()=>{o!==null&&(r!=null&&r.body.contains(o)||r==null||r.body.appendChild(o))},[o,r]),B.useEffect(()=>{e||n!==null&&i(n.current)},[n,i,e]),o}let JT=B.Fragment;function eS(t,e){let n=t,r=B.useRef(null),o=yr(kT(c=>{r.current=c}),e),i=Hl(r),s=ZT(r),[a]=B.useState(()=>{var c;return qr.isServer?null:(c=i==null?void 0:i.createElement("div"))!=null?c:null}),u=B.useContext(n2),l=Na();return pr(()=>{!s||!a||s.contains(a)||(a.setAttribute("data-headlessui-portal",""),s.appendChild(a))},[s,a]),pr(()=>{if(a&&u)return u.register(a)},[u,a]),X8(()=>{var c;!s||!a||(a instanceof Node&&s.contains(a)&&s.removeChild(a),s.childNodes.length<=0&&((c=s.parentElement)==null||c.removeChild(s)))}),l?!s||!a?null:$m.createPortal(tr({ourProps:{ref:o},theirProps:n,defaultTag:JT,name:"Portal"}),a):null}let tS=B.Fragment,e6=B.createContext(null);function nS(t,e){let{target:n,...r}=t,o={ref:yr(e)};return ne.createElement(e6.Provider,{value:n},tr({ourProps:o,theirProps:r,defaultTag:tS,name:"Popover.Group"}))}let n2=B.createContext(null);function rS(){let t=B.useContext(n2),e=B.useRef([]),n=Ze(i=>(e.current.push(i),t&&t.register(i),()=>r(i))),r=Ze(i=>{let s=e.current.indexOf(i);s!==-1&&e.current.splice(s,1),t&&t.unregister(i)}),o=B.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,B.useMemo(()=>function({children:i}){return ne.createElement(n2.Provider,{value:o},i)},[o])]}let oS=$n(eS),iS=$n(nS),r2=Object.assign(oS,{Group:iS}),t6=B.createContext(null);function n6(){let t=B.useContext(t6);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,n6),e}return t}function sS(){let[t,e]=B.useState([]);return[t.length>0?t.join(" "):void 0,B.useMemo(()=>function(n){let r=Ze(i=>(e(s=>[...s,i]),()=>e(s=>{let a=s.slice(),u=a.indexOf(i);return u!==-1&&a.splice(u,1),a}))),o=B.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return ne.createElement(t6.Provider,{value:o},n.children)},[e])]}let aS="p";function uS(t,e){let n=Oa(),{id:r=`headlessui-description-${n}`,...o}=t,i=n6(),s=yr(e);pr(()=>i.register(r),[r,i.register]);let a={ref:s,...i.props,id:r};return tr({ourProps:a,theirProps:o,slot:i.slot||{},defaultTag:aS,name:i.name||"Description"})}let lS=$n(uS),cS=Object.assign(lS,{}),Jm=B.createContext(()=>{});Jm.displayName="StackContext";var o2=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(o2||{});function fS(){return B.useContext(Jm)}function dS({children:t,onUpdate:e,type:n,element:r,enabled:o}){let i=fS(),s=Ze((...a)=>{e==null||e(...a),i(...a)});return pr(()=>{let a=o===void 0||o===!0;return a&&s(0,n,r),()=>{a&&s(1,n,r)}},[s,n,r,o]),ne.createElement(Jm.Provider,{value:s},t)}function hS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const pS=typeof Object.is=="function"?Object.is:hS,{useState:mS,useEffect:gS,useLayoutEffect:yS,useDebugValue:vS}=R0;function _S(t,e,n){const r=e(),[{inst:o},i]=mS({inst:{value:r,getSnapshot:e}});return yS(()=>{o.value=r,o.getSnapshot=e,Hh(o)&&i({inst:o})},[t,r,e]),gS(()=>(Hh(o)&&i({inst:o}),t(()=>{Hh(o)&&i({inst:o})})),[t]),vS(r),r}function Hh(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!pS(n,r)}catch{return!0}}function wS(t,e,n){return e()}const ES=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xS=!ES,CS=xS?wS:_S,AS="useSyncExternalStore"in R0?(t=>t.useSyncExternalStore)(R0):CS;function IS(t){return AS(t.subscribe,t.getSnapshot,t.getSnapshot)}function TS(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(o){return r.add(o),()=>r.delete(o)},dispatch(o,...i){let s=e[o].call(n,...i);s&&(n=s,r.forEach(a=>a()))}}}function SS(){let t;return{before({doc:e}){var n;let r=e.documentElement;t=((n=e.defaultView)!=null?n:window).innerWidth-r.clientWidth},after({doc:e,d:n}){let r=e.documentElement,o=r.clientWidth-r.offsetWidth,i=t-o;n.style(r,"paddingRight",`${i}px`)}}}function bS(){if(!UT())return{};let t;return{before(){t=window.pageYOffset},after({doc:e,d:n,meta:r}){function o(s){return r.containers.flatMap(a=>a()).some(a=>a.contains(s))}n.style(e.body,"marginTop",`-${t}px`),window.scrollTo(0,0);let i=null;n.addEventListener(e,"click",s=>{if(s.target instanceof HTMLElement)try{let a=s.target.closest("a");if(!a)return;let{hash:u}=new URL(a.href),l=e.querySelector(u);l&&!o(l)&&(i=l)}catch{}},!0),n.addEventListener(e,"touchmove",s=>{s.target instanceof HTMLElement&&!o(s.target)&&s.preventDefault()},{passive:!1}),n.add(()=>{window.scrollTo(0,window.pageYOffset+t),i&&i.isConnected&&(i.scrollIntoView({block:"nearest"}),i=null)})}}}function RS(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function PS(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let zi=TS(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:Da(),meta:new Set};return r.count++,r.meta.add(e),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let r={doc:t,d:e,meta:PS(n)},o=[bS(),SS(),RS()];o.forEach(({before:i})=>i==null?void 0:i(r)),o.forEach(({after:i})=>i==null?void 0:i(r))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});zi.subscribe(()=>{let t=zi.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",o=n.count!==0;(o&&!r||!o&&r)&&zi.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&zi.dispatch("TEARDOWN",n)}});function DS(t,e,n){let r=IS(zi),o=t?r.get(t):void 0,i=o?o.count>0:!1;return pr(()=>{if(!(!t||!e))return zi.dispatch("PUSH",t,n),()=>zi.dispatch("POP",t,n)},[e,t]),i}let zh=new Map,yu=new Map;function A_(t,e=!0){pr(()=>{var n;if(!e)return;let r=typeof t=="function"?t():t.current;if(!r)return;function o(){var s;if(!r)return;let a=(s=yu.get(r))!=null?s:1;if(a===1?yu.delete(r):yu.set(r,a-1),a!==1)return;let u=zh.get(r);u&&(u["aria-hidden"]===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",u["aria-hidden"]),r.inert=u.inert,zh.delete(r))}let i=(n=yu.get(r))!=null?n:0;return yu.set(r,i+1),i!==0||(zh.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0),o},[t,e])}function NS({defaultContainers:t=[],portals:e}={}){let n=B.useRef(null),r=Hl(n),o=Ze(()=>{var i;let s=[];for(let a of t)a!==null&&(a instanceof HTMLElement?s.push(a):"current"in a&&a.current instanceof HTMLElement&&s.push(a.current));if(e!=null&&e.current)for(let a of e.current)s.push(a);for(let a of(i=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?i:[])a!==document.body&&a!==document.head&&a instanceof HTMLElement&&a.id!=="headlessui-portal-root"&&(a.contains(n.current)||s.some(u=>a.contains(u))||s.push(a));return s});return{resolveContainers:o,contains:Ze(i=>o().some(s=>s.contains(i))),mainTreeNodeRef:n,MainTreeNode:B.useMemo(()=>function(){return ne.createElement(e2,{features:rf.Hidden,ref:n})},[n])}}var OS=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(OS||{}),kS=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(kS||{});let BS={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},of=B.createContext(null);of.displayName="DialogContext";function zl(t){let e=B.useContext(of);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,zl),n}return e}function MS(t,e,n=()=>[document.body]){DS(t,e,r=>{var o;return{containers:[...(o=r.containers)!=null?o:[],n]}})}function FS(t,e){return rn(e.type,BS,t,e)}let LS="div",VS=nf.RenderStrategy|nf.Static;function jS(t,e){var n;let r=Oa(),{id:o=`headlessui-dialog-${r}`,open:i,onClose:s,initialFocus:a,__demoMode:u=!1,...l}=t,[c,f]=B.useState(0),d=Qm();i===void 0&&d!==null&&(i=(d&On.Open)===On.Open);let p=B.useRef(null),m=yr(p,e),y=Hl(p),_=t.hasOwnProperty("open")||d!==null,v=t.hasOwnProperty("onClose");if(!_&&!v)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!_)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!v)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof i!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${i}`);if(typeof s!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${s}`);let g=i?0:1,[E,x]=B.useReducer(FS,{titleId:null,descriptionId:null,panelRef:B.createRef()}),P=Ze(()=>s(!1)),N=Ze(Me=>x({type:0,id:Me})),I=Na()?u?!1:g===0:!1,C=c>1,D=B.useContext(of)!==null,[T,R]=rS(),{resolveContainers:k,mainTreeNodeRef:b,MainTreeNode:U}=NS({portals:T,defaultContainers:[(n=E.panelRef.current)!=null?n:p.current]}),K=C?"parent":"leaf",te=d!==null?(d&On.Closing)===On.Closing:!1,re=(()=>D||te?!1:I)(),$=B.useCallback(()=>{var Me,He;return(He=Array.from((Me=y==null?void 0:y.querySelectorAll("body > *"))!=null?Me:[]).find(Xe=>Xe.id==="headlessui-portal-root"?!1:Xe.contains(b.current)&&Xe instanceof HTMLElement))!=null?He:null},[b]);A_($,re);let Y=(()=>C?!0:I)(),ee=B.useCallback(()=>{var Me,He;return(He=Array.from((Me=y==null?void 0:y.querySelectorAll("[data-headlessui-portal]"))!=null?Me:[]).find(Xe=>Xe.contains(b.current)&&Xe instanceof HTMLElement))!=null?He:null},[b]);A_(ee,Y);let V=(()=>!(!I||C))();OT(k,P,V);let H=(()=>!(C||g!==0))();K8(y==null?void 0:y.defaultView,"keydown",Me=>{H&&(Me.defaultPrevented||Me.key===q8.Escape&&(Me.preventDefault(),Me.stopPropagation(),P()))});let G=(()=>!(te||g!==0||D))();MS(y,G,k),B.useEffect(()=>{if(g!==0||!p.current)return;let Me=new ResizeObserver(He=>{for(let Xe of He){let xt=Xe.target.getBoundingClientRect();xt.x===0&&xt.y===0&&xt.width===0&&xt.height===0&&P()}});return Me.observe(p.current),()=>Me.disconnect()},[g,p,P]);let[W,ye]=sS(),fe=B.useMemo(()=>[{dialogState:g,close:P,setTitleId:N},E],[g,E,P,N]),Pe=B.useMemo(()=>({open:g===0}),[g]),pe={ref:m,id:o,role:"dialog","aria-modal":g===0?!0:void 0,"aria-labelledby":E.titleId,"aria-describedby":W};return ne.createElement(dS,{type:"Dialog",enabled:g===0,element:p,onUpdate:Ze((Me,He)=>{He==="Dialog"&&rn(Me,{[o2.Add]:()=>f(Xe=>Xe+1),[o2.Remove]:()=>f(Xe=>Xe-1)})})},ne.createElement(t2,{force:!0},ne.createElement(r2,null,ne.createElement(of.Provider,{value:fe},ne.createElement(r2.Group,{target:p},ne.createElement(t2,{force:!1},ne.createElement(ye,{slot:Pe,name:"Dialog.Description"},ne.createElement(gu,{initialFocus:a,containers:k,features:I?rn(K,{parent:gu.features.RestoreFocus,leaf:gu.features.All&~gu.features.FocusLock}):gu.features.None},ne.createElement(R,null,tr({ourProps:pe,theirProps:l,slot:Pe,defaultTag:LS,features:VS,visible:g===0,name:"Dialog"}))))))))),ne.createElement(U,null))}let US="div";function $S(t,e){let n=Oa(),{id:r=`headlessui-dialog-overlay-${n}`,...o}=t,[{dialogState:i,close:s}]=zl("Dialog.Overlay"),a=yr(e),u=Ze(c=>{if(c.target===c.currentTarget){if(MT(c.currentTarget))return c.preventDefault();c.preventDefault(),c.stopPropagation(),s()}}),l=B.useMemo(()=>({open:i===0}),[i]);return tr({ourProps:{ref:a,id:r,"aria-hidden":!0,onClick:u},theirProps:o,slot:l,defaultTag:US,name:"Dialog.Overlay"})}let HS="div";function zS(t,e){let n=Oa(),{id:r=`headlessui-dialog-backdrop-${n}`,...o}=t,[{dialogState:i},s]=zl("Dialog.Backdrop"),a=yr(e);B.useEffect(()=>{if(s.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[s.panelRef]);let u=B.useMemo(()=>({open:i===0}),[i]);return ne.createElement(t2,{force:!0},ne.createElement(r2,null,tr({ourProps:{ref:a,id:r,"aria-hidden":!0},theirProps:o,slot:u,defaultTag:HS,name:"Dialog.Backdrop"})))}let WS="div";function GS(t,e){let n=Oa(),{id:r=`headlessui-dialog-panel-${n}`,...o}=t,[{dialogState:i},s]=zl("Dialog.Panel"),a=yr(e,s.panelRef),u=B.useMemo(()=>({open:i===0}),[i]),l=Ze(c=>{c.stopPropagation()});return tr({ourProps:{ref:a,id:r,onClick:l},theirProps:o,slot:u,defaultTag:WS,name:"Dialog.Panel"})}let qS="h2";function KS(t,e){let n=Oa(),{id:r=`headlessui-dialog-title-${n}`,...o}=t,[{dialogState:i,setTitleId:s}]=zl("Dialog.Title"),a=yr(e);B.useEffect(()=>(s(r),()=>s(null)),[r,s]);let u=B.useMemo(()=>({open:i===0}),[i]);return tr({ourProps:{ref:a,id:r},theirProps:o,slot:u,defaultTag:qS,name:"Dialog.Title"})}let XS=$n(jS),YS=$n(zS),QS=$n(GS),ZS=$n($S),JS=$n(KS),sf=Object.assign(XS,{Backdrop:YS,Panel:QS,Overlay:ZS,Title:JS,Description:cS});function e7(t=0){let[e,n]=B.useState(t),r=$l(),o=B.useCallback(u=>{r.current&&n(l=>l|u)},[e,r]),i=B.useCallback(u=>!!(e&u),[e]),s=B.useCallback(u=>{r.current&&n(l=>l&~u)},[n,r]),a=B.useCallback(u=>{r.current&&n(l=>l^u)},[n]);return{flags:e,addFlag:o,hasFlag:i,removeFlag:s,toggleFlag:a}}function t7(t){let e={called:!1};return(...n)=>{if(!e.called)return e.called=!0,t(...n)}}function Wh(t,...e){t&&e.length>0&&t.classList.add(...e)}function Gh(t,...e){t&&e.length>0&&t.classList.remove(...e)}function n7(t,e){let n=Da();if(!t)return n.dispose;let{transitionDuration:r,transitionDelay:o}=getComputedStyle(t),[i,s]=[r,o].map(u=>{let[l=0]=u.split(",").filter(Boolean).map(c=>c.includes("ms")?parseFloat(c):parseFloat(c)*1e3).sort((c,f)=>f-c);return l}),a=i+s;if(a!==0){n.group(l=>{l.setTimeout(()=>{e(),l.dispose()},a),l.addEventListener(t,"transitionrun",c=>{c.target===c.currentTarget&&l.dispose()})});let u=n.addEventListener(t,"transitionend",l=>{l.target===l.currentTarget&&(e(),u())})}else e();return n.add(()=>e()),n.dispose}function r7(t,e,n,r){let o=n?"enter":"leave",i=Da(),s=r!==void 0?t7(r):()=>{};o==="enter"&&(t.removeAttribute("hidden"),t.style.display="");let a=rn(o,{enter:()=>e.enter,leave:()=>e.leave}),u=rn(o,{enter:()=>e.enterTo,leave:()=>e.leaveTo}),l=rn(o,{enter:()=>e.enterFrom,leave:()=>e.leaveFrom});return Gh(t,...e.enter,...e.enterTo,...e.enterFrom,...e.leave,...e.leaveFrom,...e.leaveTo,...e.entered),Wh(t,...a,...l),i.nextFrame(()=>{Gh(t,...l),Wh(t,...u),n7(t,()=>(Gh(t,...a),Wh(t,...e.entered),s()))}),i.dispose}function o7({container:t,direction:e,classes:n,onStart:r,onStop:o}){let i=$l(),s=Xm(),a=Kr(e);pr(()=>{let u=Da();s.add(u.dispose);let l=t.current;if(l&&a.current!=="idle"&&i.current)return u.dispose(),r.current(a.current),u.add(r7(l,n.current,a.current==="enter",()=>{u.dispose(),o.current(a.current)})),u.dispose},[e])}function bi(t=""){return t.split(" ").filter(e=>e.trim().length>1)}let Jf=B.createContext(null);Jf.displayName="TransitionContext";var i7=(t=>(t.Visible="visible",t.Hidden="hidden",t))(i7||{});function s7(){let t=B.useContext(Jf);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function a7(){let t=B.useContext(ed);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let ed=B.createContext(null);ed.displayName="NestingContext";function td(t){return"children"in t?td(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function r6(t,e){let n=Kr(t),r=B.useRef([]),o=$l(),i=Xm(),s=Ze((p,m=Ur.Hidden)=>{let y=r.current.findIndex(({el:_})=>_===p);y!==-1&&(rn(m,{[Ur.Unmount](){r.current.splice(y,1)},[Ur.Hidden](){r.current[y].state="hidden"}}),i.microTask(()=>{var _;!td(r)&&o.current&&((_=n.current)==null||_.call(n))}))}),a=Ze(p=>{let m=r.current.find(({el:y})=>y===p);return m?m.state!=="visible"&&(m.state="visible"):r.current.push({el:p,state:"visible"}),()=>s(p,Ur.Unmount)}),u=B.useRef([]),l=B.useRef(Promise.resolve()),c=B.useRef({enter:[],leave:[],idle:[]}),f=Ze((p,m,y)=>{u.current.splice(0),e&&(e.chains.current[m]=e.chains.current[m].filter(([_])=>_!==p)),e==null||e.chains.current[m].push([p,new Promise(_=>{u.current.push(_)})]),e==null||e.chains.current[m].push([p,new Promise(_=>{Promise.all(c.current[m].map(([v,g])=>g)).then(()=>_())})]),m==="enter"?l.current=l.current.then(()=>e==null?void 0:e.wait.current).then(()=>y(m)):y(m)}),d=Ze((p,m,y)=>{Promise.all(c.current[m].splice(0).map(([_,v])=>v)).then(()=>{var _;(_=u.current.shift())==null||_()}).then(()=>y(m))});return B.useMemo(()=>({children:r,register:a,unregister:s,onStart:f,onStop:d,wait:l,chains:c}),[a,s,r,f,d,c,l])}function u7(){}let l7=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function I_(t){var e;let n={};for(let r of l7)n[r]=(e=t[r])!=null?e:u7;return n}function c7(t){let e=B.useRef(I_(t));return B.useEffect(()=>{e.current=I_(t)},[t]),e}let f7="div",o6=nf.RenderStrategy;function d7(t,e){let{beforeEnter:n,afterEnter:r,beforeLeave:o,afterLeave:i,enter:s,enterFrom:a,enterTo:u,entered:l,leave:c,leaveFrom:f,leaveTo:d,...p}=t,m=B.useRef(null),y=yr(m,e),_=p.unmount?Ur.Unmount:Ur.Hidden,{show:v,appear:g,initial:E}=s7(),[x,P]=B.useState(v?"visible":"hidden"),N=a7(),{register:I,unregister:C}=N,D=B.useRef(null);B.useEffect(()=>I(m),[I,m]),B.useEffect(()=>{if(_===Ur.Hidden&&m.current){if(v&&x!=="visible"){P("visible");return}return rn(x,{hidden:()=>C(m),visible:()=>I(m)})}},[x,m,I,C,v,_]);let T=Kr({enter:bi(s),enterFrom:bi(a),enterTo:bi(u),entered:bi(l),leave:bi(c),leaveFrom:bi(f),leaveTo:bi(d)}),R=c7({beforeEnter:n,afterEnter:r,beforeLeave:o,afterLeave:i}),k=Na();B.useEffect(()=>{if(k&&x==="visible"&&m.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[m,x,k]);let b=E&&!g,U=(()=>!k||b||D.current===v?"idle":v?"enter":"leave")(),K=e7(0),te=Ze(V=>rn(V,{enter:()=>{K.addFlag(On.Opening),R.current.beforeEnter()},leave:()=>{K.addFlag(On.Closing),R.current.beforeLeave()},idle:()=>{}})),re=Ze(V=>rn(V,{enter:()=>{K.removeFlag(On.Opening),R.current.afterEnter()},leave:()=>{K.removeFlag(On.Closing),R.current.afterLeave()},idle:()=>{}})),$=r6(()=>{P("hidden"),C(m)},N);o7({container:m,classes:T,direction:U,onStart:Kr(V=>{$.onStart(m,V,te)}),onStop:Kr(V=>{$.onStop(m,V,re),V==="leave"&&!td($)&&(P("hidden"),C(m))})}),B.useEffect(()=>{b&&(_===Ur.Hidden?D.current=null:D.current=v)},[v,b,x]);let Y=p,ee={ref:y};return g&&v&&E&&(Y={...Y,className:Jp(p.className,...T.current.enter,...T.current.enterFrom)}),ne.createElement(ed.Provider,{value:$},ne.createElement(jT,{value:rn(x,{visible:On.Open,hidden:On.Closed})|K.flags},tr({ourProps:ee,theirProps:Y,defaultTag:f7,features:o6,visible:x==="visible",name:"Transition.Child"})))}function h7(t,e){let{show:n,appear:r=!1,unmount:o,...i}=t,s=B.useRef(null),a=yr(s,e);Na();let u=Qm();if(n===void 0&&u!==null&&(n=(u&On.Open)===On.Open),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[l,c]=B.useState(n?"visible":"hidden"),f=r6(()=>{c("hidden")}),[d,p]=B.useState(!0),m=B.useRef([n]);pr(()=>{d!==!1&&m.current[m.current.length-1]!==n&&(m.current.push(n),p(!1))},[m,n]);let y=B.useMemo(()=>({show:n,appear:r,initial:d}),[n,r,d]);B.useEffect(()=>{if(n)c("visible");else if(!td(f))c("hidden");else{let E=s.current;if(!E)return;let x=E.getBoundingClientRect();x.x===0&&x.y===0&&x.width===0&&x.height===0&&c("hidden")}},[n,f]);let _={unmount:o},v=Ze(()=>{var E;d&&p(!1),(E=t.beforeEnter)==null||E.call(t)}),g=Ze(()=>{var E;d&&p(!1),(E=t.beforeLeave)==null||E.call(t)});return ne.createElement(ed.Provider,{value:f},ne.createElement(Jf.Provider,{value:y},tr({ourProps:{..._,as:B.Fragment,children:ne.createElement(i6,{ref:a,..._,...i,beforeEnter:v,beforeLeave:g})},theirProps:{},defaultTag:B.Fragment,features:o6,visible:l==="visible",name:"Transition"})))}function p7(t,e){let n=B.useContext(Jf)!==null,r=Qm()!==null;return ne.createElement(ne.Fragment,null,!n&&r?ne.createElement(i2,{ref:e,...t}):ne.createElement(i6,{ref:e,...t}))}let i2=$n(h7),i6=$n(d7),m7=$n(p7),Js=Object.assign(i2,{Child:m7,Root:i2});function g7(t){return mi({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor"}}]})(t)}var s6={exports:{}},a6={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ha=B;function y7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var v7=typeof Object.is=="function"?Object.is:y7,_7=ha.useState,w7=ha.useEffect,E7=ha.useLayoutEffect,x7=ha.useDebugValue;function C7(t,e){var n=e(),r=_7({inst:{value:n,getSnapshot:e}}),o=r[0].inst,i=r[1];return E7(function(){o.value=n,o.getSnapshot=e,qh(o)&&i({inst:o})},[t,n,e]),w7(function(){return qh(o)&&i({inst:o}),t(function(){qh(o)&&i({inst:o})})},[t]),x7(n),n}function qh(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!v7(t,n)}catch{return!0}}function A7(t,e){return e()}var I7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?A7:C7;a6.useSyncExternalStore=ha.useSyncExternalStore!==void 0?ha.useSyncExternalStore:I7;s6.exports=a6;var T7=s6.exports,u6={exports:{}},l6={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nd=B,S7=T7;function b7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var R7=typeof Object.is=="function"?Object.is:b7,P7=S7.useSyncExternalStore,D7=nd.useRef,N7=nd.useEffect,O7=nd.useMemo,k7=nd.useDebugValue;l6.useSyncExternalStoreWithSelector=function(t,e,n,r,o){var i=D7(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=O7(function(){function u(p){if(!l){if(l=!0,c=p,p=r(p),o!==void 0&&s.hasValue){var m=s.value;if(o(m,p))return f=m}return f=p}if(m=f,R7(c,p))return m;var y=r(p);return o!==void 0&&o(m,y)?m:(c=p,f=y)}var l=!1,c,f,d=n===void 0?null:n;return[function(){return u(e())},d===null?void 0:function(){return u(d())}]},[e,n,r,o]);var a=P7(t,i[0],i[1]);return N7(function(){s.hasValue=!0,s.value=a},[a]),k7(a),a};u6.exports=l6;var B7=u6.exports;function M7(t){t()}let c6=M7;const F7=t=>c6=t,L7=()=>c6,T_=Symbol.for("react-redux-context"),S_=typeof globalThis<"u"?globalThis:{};function V7(){var t;if(!B.createContext)return{};const e=(t=S_[T_])!=null?t:S_[T_]=new Map;let n=e.get(B.createContext);return n||(n=B.createContext(null),e.set(B.createContext,n)),n}const si=V7();function eg(t=si){return function(){return B.useContext(t)}}const f6=eg(),j7=()=>{throw new Error("uSES not initialized!")};let d6=j7;const U7=t=>{d6=t},$7=(t,e)=>t===e;function H7(t=si){const e=t===si?f6:eg(t);return function(r,o={}){const{equalityFn:i=$7,stabilityCheck:s=void 0,noopCheck:a=void 0}=typeof o=="function"?{equalityFn:o}:o,{store:u,subscription:l,getServerState:c,stabilityCheck:f,noopCheck:d}=e();B.useRef(!0);const p=B.useCallback({[r.name](y){return r(y)}}[r.name],[r,f,s]),m=d6(l.addNestedSub,u.getState,c||u.getState,p,i);return B.useDebugValue(m),m}}const rd=H7();var h6={exports:{}},Be={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rt=typeof Symbol=="function"&&Symbol.for,tg=Rt?Symbol.for("react.element"):60103,ng=Rt?Symbol.for("react.portal"):60106,od=Rt?Symbol.for("react.fragment"):60107,id=Rt?Symbol.for("react.strict_mode"):60108,sd=Rt?Symbol.for("react.profiler"):60114,ad=Rt?Symbol.for("react.provider"):60109,ud=Rt?Symbol.for("react.context"):60110,rg=Rt?Symbol.for("react.async_mode"):60111,ld=Rt?Symbol.for("react.concurrent_mode"):60111,cd=Rt?Symbol.for("react.forward_ref"):60112,fd=Rt?Symbol.for("react.suspense"):60113,z7=Rt?Symbol.for("react.suspense_list"):60120,dd=Rt?Symbol.for("react.memo"):60115,hd=Rt?Symbol.for("react.lazy"):60116,W7=Rt?Symbol.for("react.block"):60121,G7=Rt?Symbol.for("react.fundamental"):60117,q7=Rt?Symbol.for("react.responder"):60118,K7=Rt?Symbol.for("react.scope"):60119;function Hn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case tg:switch(t=t.type,t){case rg:case ld:case od:case sd:case id:case fd:return t;default:switch(t=t&&t.$$typeof,t){case ud:case cd:case hd:case dd:case ad:return t;default:return e}}case ng:return e}}}function p6(t){return Hn(t)===ld}Be.AsyncMode=rg;Be.ConcurrentMode=ld;Be.ContextConsumer=ud;Be.ContextProvider=ad;Be.Element=tg;Be.ForwardRef=cd;Be.Fragment=od;Be.Lazy=hd;Be.Memo=dd;Be.Portal=ng;Be.Profiler=sd;Be.StrictMode=id;Be.Suspense=fd;Be.isAsyncMode=function(t){return p6(t)||Hn(t)===rg};Be.isConcurrentMode=p6;Be.isContextConsumer=function(t){return Hn(t)===ud};Be.isContextProvider=function(t){return Hn(t)===ad};Be.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===tg};Be.isForwardRef=function(t){return Hn(t)===cd};Be.isFragment=function(t){return Hn(t)===od};Be.isLazy=function(t){return Hn(t)===hd};Be.isMemo=function(t){return Hn(t)===dd};Be.isPortal=function(t){return Hn(t)===ng};Be.isProfiler=function(t){return Hn(t)===sd};Be.isStrictMode=function(t){return Hn(t)===id};Be.isSuspense=function(t){return Hn(t)===fd};Be.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===od||t===ld||t===sd||t===id||t===fd||t===z7||typeof t=="object"&&t!==null&&(t.$$typeof===hd||t.$$typeof===dd||t.$$typeof===ad||t.$$typeof===ud||t.$$typeof===cd||t.$$typeof===G7||t.$$typeof===q7||t.$$typeof===K7||t.$$typeof===W7)};Be.typeOf=Hn;h6.exports=Be;var X7=h6.exports,m6=X7,Y7={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Q7={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},g6={};g6[m6.ForwardRef]=Y7;g6[m6.Memo]=Q7;var Le={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var og=Symbol.for("react.element"),ig=Symbol.for("react.portal"),pd=Symbol.for("react.fragment"),md=Symbol.for("react.strict_mode"),gd=Symbol.for("react.profiler"),yd=Symbol.for("react.provider"),vd=Symbol.for("react.context"),Z7=Symbol.for("react.server_context"),_d=Symbol.for("react.forward_ref"),wd=Symbol.for("react.suspense"),Ed=Symbol.for("react.suspense_list"),xd=Symbol.for("react.memo"),Cd=Symbol.for("react.lazy"),J7=Symbol.for("react.offscreen"),y6;y6=Symbol.for("react.module.reference");function nr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case og:switch(t=t.type,t){case pd:case gd:case md:case wd:case Ed:return t;default:switch(t=t&&t.$$typeof,t){case Z7:case vd:case _d:case Cd:case xd:case yd:return t;default:return e}}case ig:return e}}}Le.ContextConsumer=vd;Le.ContextProvider=yd;Le.Element=og;Le.ForwardRef=_d;Le.Fragment=pd;Le.Lazy=Cd;Le.Memo=xd;Le.Portal=ig;Le.Profiler=gd;Le.StrictMode=md;Le.Suspense=wd;Le.SuspenseList=Ed;Le.isAsyncMode=function(){return!1};Le.isConcurrentMode=function(){return!1};Le.isContextConsumer=function(t){return nr(t)===vd};Le.isContextProvider=function(t){return nr(t)===yd};Le.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===og};Le.isForwardRef=function(t){return nr(t)===_d};Le.isFragment=function(t){return nr(t)===pd};Le.isLazy=function(t){return nr(t)===Cd};Le.isMemo=function(t){return nr(t)===xd};Le.isPortal=function(t){return nr(t)===ig};Le.isProfiler=function(t){return nr(t)===gd};Le.isStrictMode=function(t){return nr(t)===md};Le.isSuspense=function(t){return nr(t)===wd};Le.isSuspenseList=function(t){return nr(t)===Ed};Le.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===pd||t===gd||t===md||t===wd||t===Ed||t===J7||typeof t=="object"&&t!==null&&(t.$$typeof===Cd||t.$$typeof===xd||t.$$typeof===yd||t.$$typeof===vd||t.$$typeof===_d||t.$$typeof===y6||t.getModuleId!==void 0)};Le.typeOf=nr;function eb(){const t=L7();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],o=e;for(;o;)r.push(o),o=o.next;return r},subscribe(r){let o=!0,i=n={callback:r,next:null,prev:n};return i.prev?i.prev.next=i:e=i,function(){!o||e===null||(o=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}const b_={notify(){},get:()=>[]};function tb(t,e){let n,r=b_;function o(f){return u(),r.subscribe(f)}function i(){r.notify()}function s(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function u(){n||(n=e?e.addNestedSub(s):t.subscribe(s),r=eb())}function l(){n&&(n(),n=void 0,r.clear(),r=b_)}const c={addNestedSub:o,notifyNestedSubs:i,handleChangeWrapper:s,isSubscribed:a,trySubscribe:u,tryUnsubscribe:l,getListeners:()=>r};return c}const nb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rb=nb?B.useLayoutEffect:B.useEffect;function ob({store:t,context:e,children:n,serverState:r,stabilityCheck:o="once",noopCheck:i="once"}){const s=B.useMemo(()=>{const l=tb(t);return{store:t,subscription:l,getServerState:r?()=>r:void 0,stabilityCheck:o,noopCheck:i}},[t,r,o,i]),a=B.useMemo(()=>t.getState(),[t]);rb(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==t.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,a]);const u=e||si;return B.createElement(u.Provider,{value:s},n)}function v6(t=si){const e=t===si?f6:eg(t);return function(){const{store:r}=e();return r}}const ib=v6();function sb(t=si){const e=t===si?ib:v6(t);return function(){return e().dispatch}}const sg=sb();U7(B7.useSyncExternalStoreWithSelector);F7($m.unstable_batchedUpdates);function ab(){var u,l;const t=B.useContext(gn),{mode:e,toggleMode:n}=t,[r,o]=B.useState(!1),i=JSON.parse(localStorage.getItem("user")),s=()=>{localStorage.clear("user"),window.location.href="/"},a=rd(c=>c.cart);return S.jsxs("div",{className:"bg-white sticky top-0 z-50",children:[S.jsx(Js.Root,{show:r,as:B.Fragment,children:S.jsxs(sf,{as:"div",className:"relative z-40 lg:hidden",onClose:o,children:[S.jsx(Js.Child,{as:B.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:S.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),S.jsx("div",{className:"fixed inset-0 z-40 flex",children:S.jsx(Js.Child,{as:B.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:S.jsxs(sf.Panel,{className:"relative flex w-full max-w-xs flex-col overflow-y-auto bg-white pb-12 shadow-xl",style:{backgroundColor:e==="dark"?"rgb(40, 44, 52)":"",color:e==="dark"?"white":""},children:[S.jsx("div",{className:"flex px-4 pb-2 pt-28",children:S.jsxs("button",{type:"button",className:"-m-2 inline-flex items-center justify-center rounded-md p-2 text-gray-400",onClick:()=>o(!1),children:[S.jsx("span",{className:"sr-only",children:"Close menu"}),S.jsx(g7,{})]})}),S.jsxs("div",{className:"space-y-6 border-t border-gray-200 px-4 py-6",children:[S.jsx(Wn,{to:"/allproducts",className:"text-sm font-medium text-gray-900 ",style:{color:e==="dark"?"white":""},children:"All Products"}),i?S.jsx("div",{className:"flow-root",children:S.jsx(Wn,{to:"/order",style:{color:e==="dark"?"white":""},className:"-m-2 block p-2 font-medium text-gray-900",children:"Order"})}):"",((u=i==null?void 0:i.user)==null?void 0:u.email)==="123@gmail.com"?S.jsx("div",{className:"flow-root",children:S.jsx(Wn,{to:"/dashboard",className:"-m-2 block p-2 font-medium text-gray-900",style:{color:e==="dark"?"white":""},children:"admin"})}):"",i?S.jsx("div",{className:"flow-root",children:S.jsx("a",{onClick:s,className:"-m-2 block p-2 font-medium text-gray-900 cursor-pointer",style:{color:e==="dark"?"white":""},children:"Logout"})}):S.jsx("div",{className:"flow-root"})]})]})})})]})}),S.jsx("header",{className:"relative bg-white",children:S.jsx("nav",{"aria-label":"Top",className:"bg-gray-100 px-4 sm:px-6 lg:px-8 shadow-xl ",style:{backgroundColor:e==="dark"?"#282c34":"",color:e==="dark"?"white":""},children:S.jsx("div",{className:"",children:S.jsxs("div",{className:"flex h-16 items-center",children:[S.jsxs("button",{type:"button",className:"rounded-md bg-white p-2 text-gray-400 lg:hidden",onClick:()=>o(!0),style:{backgroundColor:e==="dark"?"rgb(80 82 87)":"",color:e==="dark"?"white":""},children:[S.jsx("span",{className:"sr-only",children:"Open menu"}),S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6",children:S.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})]}),S.jsx("div",{className:"ml-4 flex lg:ml-0",children:S.jsx(Wn,{to:"/",className:"flex",children:S.jsx("div",{className:"flex ",children:S.jsx("h1",{className:" text-2xl font-bold text-black  px-2 py-1 rounded",style:{color:e==="dark"?"white":""},children:"JIIT Cafeteria"})})})}),S.jsxs("div",{className:"ml-auto flex items-center",children:[S.jsxs("div",{className:"hidden lg:flex lg:flex-1 lg:items-center lg:justify-end lg:space-x-6",children:[S.jsx(Wn,{to:"/allproducts",className:"text-sm font-medium text-gray-700 ",style:{color:e==="dark"?"white":""},children:"All Products"}),i?S.jsx(Wn,{to:"/order",className:"text-sm font-medium text-gray-700 ",style:{color:e==="dark"?"white":""},children:"Order"}):S.jsx(S.Fragment,{}),((l=i==null?void 0:i.user)==null?void 0:l.email)==="123@gmail.com"?S.jsx(Wn,{to:"/dashboard",className:"text-sm font-medium text-gray-700 ",style:{color:e==="dark"?"white":""},children:"Admin"}):"",i?S.jsx("a",{onClick:s,className:"text-sm font-medium text-gray-700 cursor-pointer  ",style:{color:e==="dark"?"white":""},children:"Logout"}):""]}),S.jsx("div",{className:"flex lg:ml-6",children:S.jsx("button",{className:"",onClick:n,children:e==="light"?S.jsx(xT,{className:"",size:30}):S.jsx(ET,{size:30})})}),S.jsx("div",{className:"ml-4 flow-root lg:ml-6",children:S.jsxs(Wn,{to:"/cart",className:"group -m-2 flex items-center p-2",style:{color:e==="dark"?"white":""},children:[S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 00-16.536-1.84M7.5 14.25L5.106 5.272M6 20.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm12.75 0a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"})}),S.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700 group-",style:{color:e==="dark"?"white":""},children:a.length}),S.jsx("span",{className:"sr-only",children:"items in cart, view bag"})]})})]})]})})})})]})}function ub(){const t=B.useContext(gn),{mode:e}=t;return S.jsx("div",{children:S.jsxs("footer",{className:"text-gray-600 body-font bg-gray-300",style:{backgroundColor:e==="dark"?"rgb(46 49 55)":"",color:e==="dark"?"white":""},children:[S.jsx("div",{className:"container px-5 py-10 mx-auto",children:S.jsx("div",{className:"flex flex-wrap md:text-left text-center order-first justify-center",children:S.jsx("div",{className:"lg:w-1/4 md:w-1/2 w-full px-4",children:S.jsx("img",{src:"https://ecommerce-sk.vercel.app/pay.png",alt:""})})})}),S.jsx("div",{className:"bg-gray-200",style:{backgroundColor:e==="dark"?"rgb(55 57 61)":"",color:e==="dark"?"white":""},children:S.jsxs("div",{className:"container px-5 py-3 mx-auto flex items-center sm:flex-row flex-col",children:[S.jsx(Wn,{to:"/",className:"flex",children:S.jsx("div",{className:"flex ",children:S.jsx("h1",{className:" text-2xl font-bold text-black  px-2 py-1 rounded",style:{color:e==="dark"?"white":""},children:"JIIT Cafeteria"})})}),S.jsxs("p",{className:"text-sm text-gray-500 sm:ml-6 sm:mt-0 mt-4",style:{color:e==="dark"?"white":""},children:[" 2024 JIIT Cafeteria",S.jsx("a",{href:"https://twitter.com/knyttneve",rel:"noopener noreferrer",className:"text-gray-600 ml-1",target:"_blank",style:{color:e==="dark"?"white":""},children:"www.jiitcafeteria.com"})]})]})})]})})}function hs({children:t}){return S.jsxs("div",{children:[S.jsx(ab,{}),S.jsx("div",{className:"content",children:t}),S.jsx(ub,{})]})}function lb(){return S.jsx("div",{})}function lr(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function ai(t){return!!t&&!!t[Ye]}function Jr(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var o=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return o===Object||typeof o=="function"&&Function.toString.call(o)===vb}(t)||Array.isArray(t)||!!t[B_]||!!(!((e=t.constructor)===null||e===void 0)&&e[B_])||ag(t)||ug(t))}function os(t,e,n){n===void 0&&(n=!1),ka(t)===0?(n?Object.keys:ta)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,o){return e(o,r,t)})}function ka(t){var e=t[Ye];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:ag(t)?2:ug(t)?3:0}function ea(t,e){return ka(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function cb(t,e){return ka(t)===2?t.get(e):t[e]}function _6(t,e,n){var r=ka(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function w6(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function ag(t){return gb&&t instanceof Map}function ug(t){return yb&&t instanceof Set}function Bi(t){return t.o||t.t}function lg(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=x6(t);delete e[Ye];for(var n=ta(e),r=0;r<n.length;r++){var o=n[r],i=e[o];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(e[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:t[o]})}return Object.create(Object.getPrototypeOf(t),e)}function cg(t,e){return e===void 0&&(e=!1),fg(t)||ai(t)||!Jr(t)||(ka(t)>1&&(t.set=t.add=t.clear=t.delete=fb),Object.freeze(t),e&&os(t,function(n,r){return cg(r,!0)},!0)),t}function fb(){lr(2)}function fg(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Tr(t){var e=l2[t];return e||lr(18,t),e}function db(t,e){l2[t]||(l2[t]=e)}function s2(){return El}function Kh(t,e){e&&(Tr("Patches"),t.u=[],t.s=[],t.v=e)}function af(t){a2(t),t.p.forEach(hb),t.p=null}function a2(t){t===El&&(El=t.l)}function R_(t){return El={p:[],l:El,h:t,m:!0,_:0}}function hb(t){var e=t[Ye];e.i===0||e.i===1?e.j():e.g=!0}function Xh(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||Tr("ES5").S(e,t,r),r?(n[Ye].P&&(af(e),lr(4)),Jr(t)&&(t=uf(e,t),e.l||lf(e,t)),e.u&&Tr("Patches").M(n[Ye].t,t,e.u,e.s)):t=uf(e,n,[]),af(e),e.u&&e.v(e.u,e.s),t!==E6?t:void 0}function uf(t,e,n){if(fg(e))return e;var r=e[Ye];if(!r)return os(e,function(a,u){return P_(t,r,e,a,u,n)},!0),e;if(r.A!==t)return e;if(!r.P)return lf(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=r.i===4||r.i===5?r.o=lg(r.k):r.o,i=o,s=!1;r.i===3&&(i=new Set(o),o.clear(),s=!0),os(i,function(a,u){return P_(t,r,o,a,u,n,s)}),lf(t,o,!1),n&&t.u&&Tr("Patches").N(r,n,t.u,t.s)}return r.o}function P_(t,e,n,r,o,i,s){if(ai(o)){var a=uf(t,o,i&&e&&e.i!==3&&!ea(e.R,r)?i.concat(r):void 0);if(_6(n,r,a),!ai(a))return;t.m=!1}else s&&n.add(o);if(Jr(o)&&!fg(o)){if(!t.h.D&&t._<1)return;uf(t,o),e&&e.A.l||lf(t,o)}}function lf(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&cg(e,n)}function Yh(t,e){var n=t[Ye];return(n?Bi(n):t)[e]}function D_(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Ro(t){t.P||(t.P=!0,t.l&&Ro(t.l))}function Qh(t){t.o||(t.o=lg(t.t))}function u2(t,e,n){var r=ag(e)?Tr("MapSet").F(e,n):ug(e)?Tr("MapSet").T(e,n):t.O?function(o,i){var s=Array.isArray(o),a={i:s?1:0,A:i?i.A:s2(),P:!1,I:!1,R:{},l:i,t:o,k:null,o:null,j:null,C:!1},u=a,l=xl;s&&(u=[a],l=Su);var c=Proxy.revocable(u,l),f=c.revoke,d=c.proxy;return a.k=d,a.j=f,d}(e,n):Tr("ES5").J(e,n);return(n?n.A:s2()).p.push(r),r}function pb(t){return ai(t)||lr(22,t),function e(n){if(!Jr(n))return n;var r,o=n[Ye],i=ka(n);if(o){if(!o.P&&(o.i<4||!Tr("ES5").K(o)))return o.t;o.I=!0,r=N_(n,i),o.I=!1}else r=N_(n,i);return os(r,function(s,a){o&&cb(o.t,s)===a||_6(r,s,e(a))}),i===3?new Set(r):r}(t)}function N_(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return lg(t)}function mb(){function t(i,s){var a=o[i];return a?a.enumerable=s:o[i]=a={configurable:!0,enumerable:s,get:function(){var u=this[Ye];return xl.get(u,i)},set:function(u){var l=this[Ye];xl.set(l,i,u)}},a}function e(i){for(var s=i.length-1;s>=0;s--){var a=i[s][Ye];if(!a.P)switch(a.i){case 5:r(a)&&Ro(a);break;case 4:n(a)&&Ro(a)}}}function n(i){for(var s=i.t,a=i.k,u=ta(a),l=u.length-1;l>=0;l--){var c=u[l];if(c!==Ye){var f=s[c];if(f===void 0&&!ea(s,c))return!0;var d=a[c],p=d&&d[Ye];if(p?p.t!==f:!w6(d,f))return!0}}var m=!!s[Ye];return u.length!==ta(s).length+(m?0:1)}function r(i){var s=i.k;if(s.length!==i.t.length)return!0;var a=Object.getOwnPropertyDescriptor(s,s.length-1);if(a&&!a.get)return!0;for(var u=0;u<s.length;u++)if(!s.hasOwnProperty(u))return!0;return!1}var o={};db("ES5",{J:function(i,s){var a=Array.isArray(i),u=function(c,f){if(c){for(var d=Array(f.length),p=0;p<f.length;p++)Object.defineProperty(d,""+p,t(p,!0));return d}var m=x6(f);delete m[Ye];for(var y=ta(m),_=0;_<y.length;_++){var v=y[_];m[v]=t(v,c||!!m[v].enumerable)}return Object.create(Object.getPrototypeOf(f),m)}(a,i),l={i:a?5:4,A:s?s.A:s2(),P:!1,I:!1,R:{},l:s,t:i,k:u,o:null,g:!1,C:!1};return Object.defineProperty(u,Ye,{value:l,writable:!0}),u},S:function(i,s,a){a?ai(s)&&s[Ye].A===i&&e(i.p):(i.u&&function u(l){if(l&&typeof l=="object"){var c=l[Ye];if(c){var f=c.t,d=c.k,p=c.R,m=c.i;if(m===4)os(d,function(E){E!==Ye&&(f[E]!==void 0||ea(f,E)?p[E]||u(d[E]):(p[E]=!0,Ro(c)))}),os(f,function(E){d[E]!==void 0||ea(d,E)||(p[E]=!1,Ro(c))});else if(m===5){if(r(c)&&(Ro(c),p.length=!0),d.length<f.length)for(var y=d.length;y<f.length;y++)p[y]=!1;else for(var _=f.length;_<d.length;_++)p[_]=!0;for(var v=Math.min(d.length,f.length),g=0;g<v;g++)d.hasOwnProperty(g)||(p[g]=!0),p[g]===void 0&&u(d[g])}}}}(i.p[0]),e(i.p))},K:function(i){return i.i===4?n(i):r(i)}})}var O_,El,dg=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",gb=typeof Map<"u",yb=typeof Set<"u",k_=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",E6=dg?Symbol.for("immer-nothing"):((O_={})["immer-nothing"]=!0,O_),B_=dg?Symbol.for("immer-draftable"):"__$immer_draftable",Ye=dg?Symbol.for("immer-state"):"__$immer_state",vb=""+Object.prototype.constructor,ta=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,x6=Object.getOwnPropertyDescriptors||function(t){var e={};return ta(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},l2={},xl={get:function(t,e){if(e===Ye)return t;var n=Bi(t);if(!ea(n,e))return function(o,i,s){var a,u=D_(i,s);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(o.k):void 0}(t,n,e);var r=n[e];return t.I||!Jr(r)?r:r===Yh(t.t,e)?(Qh(t),t.o[e]=u2(t.A.h,r,t)):r},has:function(t,e){return e in Bi(t)},ownKeys:function(t){return Reflect.ownKeys(Bi(t))},set:function(t,e,n){var r=D_(Bi(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var o=Yh(Bi(t),e),i=o==null?void 0:o[Ye];if(i&&i.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(w6(n,o)&&(n!==void 0||ea(t.t,e)))return!0;Qh(t),Ro(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return Yh(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Qh(t),Ro(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Bi(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){lr(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){lr(12)}},Su={};os(xl,function(t,e){Su[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Su.deleteProperty=function(t,e){return Su.set.call(this,t,e,void 0)},Su.set=function(t,e,n){return xl.set.call(this,t[0],e,n,t[0])};var _b=function(){function t(n){var r=this;this.O=k_,this.D=!0,this.produce=function(o,i,s){if(typeof o=="function"&&typeof i!="function"){var a=i;i=o;var u=r;return function(y){var _=this;y===void 0&&(y=a);for(var v=arguments.length,g=Array(v>1?v-1:0),E=1;E<v;E++)g[E-1]=arguments[E];return u.produce(y,function(x){var P;return(P=i).call.apply(P,[_,x].concat(g))})}}var l;if(typeof i!="function"&&lr(6),s!==void 0&&typeof s!="function"&&lr(7),Jr(o)){var c=R_(r),f=u2(r,o,void 0),d=!0;try{l=i(f),d=!1}finally{d?af(c):a2(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(y){return Kh(c,s),Xh(y,c)},function(y){throw af(c),y}):(Kh(c,s),Xh(l,c))}if(!o||typeof o!="object"){if((l=i(o))===void 0&&(l=o),l===E6&&(l=void 0),r.D&&cg(l,!0),s){var p=[],m=[];Tr("Patches").M(o,l,p,m),s(p,m)}return l}lr(21,o)},this.produceWithPatches=function(o,i){if(typeof o=="function")return function(l){for(var c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return r.produceWithPatches(l,function(p){return o.apply(void 0,[p].concat(f))})};var s,a,u=r.produce(o,i,function(l,c){s=l,a=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,s,a]}):[u,s,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){Jr(n)||lr(8),ai(n)&&(n=pb(n));var r=R_(this),o=u2(this,n,void 0);return o[Ye].C=!0,a2(r),o},e.finishDraft=function(n,r){var o=n&&n[Ye],i=o.A;return Kh(i,r),Xh(void 0,i)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!k_&&lr(20),this.O=n},e.applyPatches=function(n,r){var o;for(o=r.length-1;o>=0;o--){var i=r[o];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}o>-1&&(r=r.slice(o+1));var s=Tr("Patches").$;return ai(n)?s(n,r):this.produce(n,function(a){return s(a,r)})},t}(),Vn=new _b,C6=Vn.produce;Vn.produceWithPatches.bind(Vn);Vn.setAutoFreeze.bind(Vn);Vn.setUseProxies.bind(Vn);Vn.applyPatches.bind(Vn);Vn.createDraft.bind(Vn);Vn.finishDraft.bind(Vn);function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}function wb(t,e){if(Cl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eb(t){var e=wb(t,"string");return Cl(e)==="symbol"?e:String(e)}function xb(t,e,n){return e=Eb(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function F_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M_(Object(n),!0).forEach(function(r){xb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var L_=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Zh=function(){return Math.random().toString(36).substring(7).split("").join(".")},cf={INIT:"@@redux/INIT"+Zh(),REPLACE:"@@redux/REPLACE"+Zh(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Zh()}};function Cb(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function A6(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Jt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Jt(1));return n(A6)(t,e)}if(typeof t!="function")throw new Error(Jt(2));var o=t,i=e,s=[],a=s,u=!1;function l(){a===s&&(a=s.slice())}function c(){if(u)throw new Error(Jt(3));return i}function f(y){if(typeof y!="function")throw new Error(Jt(4));if(u)throw new Error(Jt(5));var _=!0;return l(),a.push(y),function(){if(_){if(u)throw new Error(Jt(6));_=!1,l();var g=a.indexOf(y);a.splice(g,1),s=null}}}function d(y){if(!Cb(y))throw new Error(Jt(7));if(typeof y.type>"u")throw new Error(Jt(8));if(u)throw new Error(Jt(9));try{u=!0,i=o(i,y)}finally{u=!1}for(var _=s=a,v=0;v<_.length;v++){var g=_[v];g()}return y}function p(y){if(typeof y!="function")throw new Error(Jt(10));o=y,d({type:cf.REPLACE})}function m(){var y,_=f;return y={subscribe:function(g){if(typeof g!="object"||g===null)throw new Error(Jt(11));function E(){g.next&&g.next(c())}E();var x=_(E);return{unsubscribe:x}}},y[L_]=function(){return this},y}return d({type:cf.INIT}),r={dispatch:d,subscribe:f,getState:c,replaceReducer:p},r[L_]=m,r}function Ab(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:cf.INIT});if(typeof r>"u")throw new Error(Jt(12));if(typeof n(void 0,{type:cf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Jt(13))})}function Ib(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var o=e[r];typeof t[o]=="function"&&(n[o]=t[o])}var i=Object.keys(n),s;try{Ab(n)}catch(a){s=a}return function(u,l){if(u===void 0&&(u={}),s)throw s;for(var c=!1,f={},d=0;d<i.length;d++){var p=i[d],m=n[p],y=u[p],_=m(y,l);if(typeof _>"u")throw l&&l.type,new Error(Jt(14));f[p]=_,c=c||_!==y}return c=c||i.length!==Object.keys(u).length,c?f:u}}function ff(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,o){return function(){return r(o.apply(void 0,arguments))}})}function Tb(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var o=r.apply(void 0,arguments),i=function(){throw new Error(Jt(15))},s={getState:o.getState,dispatch:function(){return i.apply(void 0,arguments)}},a=e.map(function(u){return u(s)});return i=ff.apply(void 0,a)(o.dispatch),F_(F_({},o),{},{dispatch:i})}}}function I6(t){var e=function(r){var o=r.dispatch,i=r.getState;return function(s){return function(a){return typeof a=="function"?a(o,i,t):s(a)}}};return e}var T6=I6();T6.withExtraArgument=I6;const V_=T6;var S6=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sb=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(i=l[0]&2?o.return:l[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,l[1])).done)return i;switch(o=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,o=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],o=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},pa=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,o=t.length;n<r;n++,o++)t[o]=e[n];return t},bb=Object.defineProperty,Rb=Object.defineProperties,Pb=Object.getOwnPropertyDescriptors,j_=Object.getOwnPropertySymbols,Db=Object.prototype.hasOwnProperty,Nb=Object.prototype.propertyIsEnumerable,U_=function(t,e,n){return e in t?bb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Yo=function(t,e){for(var n in e||(e={}))Db.call(e,n)&&U_(t,n,e[n]);if(j_)for(var r=0,o=j_(e);r<o.length;r++){var n=o[r];Nb.call(e,n)&&U_(t,n,e[n])}return t},Jh=function(t,e){return Rb(t,Pb(e))},Ob=function(t,e,n){return new Promise(function(r,o){var i=function(u){try{a(n.next(u))}catch(l){o(l)}},s=function(u){try{a(n.throw(u))}catch(l){o(l)}},a=function(u){return u.done?r(u.value):Promise.resolve(u.value).then(i,s)};a((n=n.apply(t,e)).next())})},kb=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ff:ff.apply(null,arguments)};function Bb(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var Mb=function(t){S6(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.apply(this,n)||this;return Object.setPrototypeOf(o,e.prototype),o}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,pa([void 0],n[0].concat(this)))):new(e.bind.apply(e,pa([void 0],n.concat(this))))},e}(Array),Fb=function(t){S6(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.apply(this,n)||this;return Object.setPrototypeOf(o,e.prototype),o}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,pa([void 0],n[0].concat(this)))):new(e.bind.apply(e,pa([void 0],n.concat(this))))},e}(Array);function c2(t){return Jr(t)?C6(t,function(){}):t}function Lb(t){return typeof t=="boolean"}function Vb(){return function(e){return jb(e)}}function jb(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new Mb;return n&&(Lb(n)?r.push(V_):r.push(V_.withExtraArgument(n.extraArgument))),r}var Ub=!0;function $b(t){var e=Vb(),n=t||{},r=n.reducer,o=r===void 0?void 0:r,i=n.middleware,s=i===void 0?e():i,a=n.devTools,u=a===void 0?!0:a,l=n.preloadedState,c=l===void 0?void 0:l,f=n.enhancers,d=f===void 0?void 0:f,p;if(typeof o=="function")p=o;else if(Bb(o))p=Ib(o);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var m=s;typeof m=="function"&&(m=m(e));var y=Tb.apply(void 0,m),_=ff;u&&(_=kb(Yo({trace:!Ub},typeof u=="object"&&u)));var v=new Fb(y),g=v;Array.isArray(d)?g=pa([y],d):typeof d=="function"&&(g=d(v));var E=_.apply(void 0,g);return A6(p,c,E)}function Qo(t,e){function n(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(e){var i=e.apply(void 0,r);if(!i)throw new Error("prepareAction did not return an object");return Yo(Yo({type:t,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function b6(t){var e={},n=[],r,o={addCase:function(i,s){var a=typeof i=="string"?i:i.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=s,o},addMatcher:function(i,s){return n.push({matcher:i,reducer:s}),o},addDefaultCase:function(i){return r=i,o}};return t(o),[e,n,r]}function Hb(t){return typeof t=="function"}function zb(t,e,n,r){n===void 0&&(n=[]);var o=typeof e=="function"?b6(e):[e,n,r],i=o[0],s=o[1],a=o[2],u;if(Hb(t))u=function(){return c2(t())};else{var l=c2(t);u=function(){return l}}function c(f,d){f===void 0&&(f=u());var p=pa([i[d.type]],s.filter(function(m){var y=m.matcher;return y(d)}).map(function(m){var y=m.reducer;return y}));return p.filter(function(m){return!!m}).length===0&&(p=[a]),p.reduce(function(m,y){if(y)if(ai(m)){var _=m,v=y(_,d);return v===void 0?m:v}else{if(Jr(m))return C6(m,function(g){return y(g,d)});var v=y(m,d);if(v===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}return m},f)}return c.getInitialState=u,c}function Wb(t,e){return t+"/"+e}function Gb(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:c2(t.initialState),r=t.reducers||{},o=Object.keys(r),i={},s={},a={};o.forEach(function(c){var f=r[c],d=Wb(e,c),p,m;"reducer"in f?(p=f.reducer,m=f.prepare):p=f,i[c]=p,s[d]=p,a[c]=m?Qo(d,m):Qo(d)});function u(){var c=typeof t.extraReducers=="function"?b6(t.extraReducers):[t.extraReducers],f=c[0],d=f===void 0?{}:f,p=c[1],m=p===void 0?[]:p,y=c[2],_=y===void 0?void 0:y,v=Yo(Yo({},d),s);return zb(n,function(g){for(var E in v)g.addCase(E,v[E]);for(var x=0,P=m;x<P.length;x++){var N=P[x];g.addMatcher(N.matcher,N.reducer)}_&&g.addDefaultCase(_)})}var l;return{name:e,reducer:function(c,f){return l||(l=u()),l(c,f)},actions:a,caseReducers:i,getInitialState:function(){return l||(l=u()),l.getInitialState()}}}var qb="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Kb=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=qb[Math.random()*64|0];return e},Xb=["name","message","stack","code"],e1=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),$_=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),Yb=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=Xb;n<r.length;n++){var o=r[n];typeof t[o]=="string"&&(e[o]=t[o])}return e}return{message:String(t)}};(function(){function t(e,n,r){var o=Qo(e+"/fulfilled",function(l,c,f,d){return{payload:l,meta:Jh(Yo({},d||{}),{arg:f,requestId:c,requestStatus:"fulfilled"})}}),i=Qo(e+"/pending",function(l,c,f){return{payload:void 0,meta:Jh(Yo({},f||{}),{arg:c,requestId:l,requestStatus:"pending"})}}),s=Qo(e+"/rejected",function(l,c,f,d,p){return{payload:d,error:(r&&r.serializeError||Yb)(l||"Rejected"),meta:Jh(Yo({},p||{}),{arg:f,requestId:c,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function u(l){return function(c,f,d){var p=r!=null&&r.idGenerator?r.idGenerator(l):Kb(),m=new a,y;function _(g){y=g,m.abort()}var v=function(){return Ob(this,null,function(){var g,E,x,P,N,I,C;return Sb(this,function(D){switch(D.label){case 0:return D.trys.push([0,4,,5]),P=(g=r==null?void 0:r.condition)==null?void 0:g.call(r,l,{getState:f,extra:d}),Zb(P)?[4,P]:[3,2];case 1:P=D.sent(),D.label=2;case 2:if(P===!1||m.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return N=new Promise(function(T,R){return m.signal.addEventListener("abort",function(){return R({name:"AbortError",message:y||"Aborted"})})}),c(i(p,l,(E=r==null?void 0:r.getPendingMeta)==null?void 0:E.call(r,{requestId:p,arg:l},{getState:f,extra:d}))),[4,Promise.race([N,Promise.resolve(n(l,{dispatch:c,getState:f,extra:d,requestId:p,signal:m.signal,abort:_,rejectWithValue:function(T,R){return new e1(T,R)},fulfillWithValue:function(T,R){return new $_(T,R)}})).then(function(T){if(T instanceof e1)throw T;return T instanceof $_?o(T.payload,p,l,T.meta):o(T,p,l)})])];case 3:return x=D.sent(),[3,5];case 4:return I=D.sent(),x=I instanceof e1?s(null,p,l,I.payload,I.meta):s(I,p,l),[3,5];case 5:return C=r&&!r.dispatchConditionRejection&&s.match(x)&&x.meta.condition,C||c(x),[2,x]}})})}();return Object.assign(v,{abort:_,requestId:p,arg:l,unwrap:function(){return v.then(Qb)}})}}return Object.assign(u,{pending:i,rejected:s,fulfilled:o,typePrefix:e})}return t.withTypes=function(){return t},t})();function Qb(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function Zb(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var hg="listenerMiddleware";Qo(hg+"/add");Qo(hg+"/removeAll");Qo(hg+"/remove");var H_;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);mb();const Jb=JSON.parse(localStorage.getItem("cart"))??[],R6=Gb({name:"cart",initialState:Jb,reducers:{addToCart(t,e){t.push(e.payload)},deleteFromCart(t,e){return t.filter(n=>n.id!=e.payload.id)}}}),{addToCart:P6,deleteFromCart:eR}=R6.actions,tR=R6.reducer;function D6(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=D6(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Fo(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=D6(t))&&(r&&(r+=" "),r+=e);return r}const Gu=t=>typeof t=="number"&&!isNaN(t),is=t=>typeof t=="string",Cn=t=>typeof t=="function",p0=t=>is(t)||Cn(t)?t:null,t1=t=>B.isValidElement(t)||is(t)||Cn(t)||Gu(t);function nR(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:o}=t;requestAnimationFrame(()=>{o.minHeight="initial",o.height=r+"px",o.transition=`all ${n}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,n)})})}function Ad(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:o=!0,collapseDuration:i=300}=t;return function(s){let{children:a,position:u,preventExitTransition:l,done:c,nodeRef:f,isIn:d}=s;const p=r?`${e}--${u}`:e,m=r?`${n}--${u}`:n,y=B.useRef(0);return B.useLayoutEffect(()=>{const _=f.current,v=p.split(" "),g=E=>{E.target===f.current&&(_.dispatchEvent(new Event("d")),_.removeEventListener("animationend",g),_.removeEventListener("animationcancel",g),y.current===0&&E.type!=="animationcancel"&&_.classList.remove(...v))};_.classList.add(...v),_.addEventListener("animationend",g),_.addEventListener("animationcancel",g)},[]),B.useEffect(()=>{const _=f.current,v=()=>{_.removeEventListener("animationend",v),o?nR(_,c,i):c()};d||(l?v():(y.current=1,_.className+=` ${m}`,_.addEventListener("animationend",v)))},[d]),ne.createElement(ne.Fragment,null,a)}}function z_(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const Gn={list:new Map,emitQueue:new Map,on(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off(t,e){if(e){const n=this.list.get(t).filter(r=>r!==e);return this.list.set(t,n),this}return this.list.delete(t),this},cancelEmit(t){const e=this.emitQueue.get(t);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach(e=>{const n=setTimeout(()=>{e(...[].slice.call(arguments,1))},0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(n)})}},Uc=t=>{let{theme:e,type:n,...r}=t;return ne.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},n1={info:function(t){return ne.createElement(Uc,{...t},ne.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return ne.createElement(Uc,{...t},ne.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return ne.createElement(Uc,{...t},ne.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return ne.createElement(Uc,{...t},ne.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return ne.createElement("div",{className:"Toastify__spinner"})}};function rR(t){const[,e]=B.useReducer(p=>p+1,0),[n,r]=B.useState([]),o=B.useRef(null),i=B.useRef(new Map).current,s=p=>n.indexOf(p)!==-1,a=B.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:s,getToast:p=>i.get(p)}).current;function u(p){let{containerId:m}=p;const{limit:y}=a.props;!y||m&&a.containerId!==m||(a.count-=a.queue.length,a.queue=[])}function l(p){r(m=>p==null?[]:m.filter(y=>y!==p))}function c(){const{toastContent:p,toastProps:m,staleId:y}=a.queue.shift();d(p,m,y)}function f(p,m){let{delay:y,staleId:_,...v}=m;if(!t1(p)||function(k){return!o.current||a.props.enableMultiContainer&&k.containerId!==a.props.containerId||i.has(k.toastId)&&k.updateId==null}(v))return;const{toastId:g,updateId:E,data:x}=v,{props:P}=a,N=()=>l(g),I=E==null;I&&a.count++;const C={...P,style:P.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(v).filter(k=>{let[b,U]=k;return U!=null})),toastId:g,updateId:E,data:x,closeToast:N,isIn:!1,className:p0(v.className||P.toastClassName),bodyClassName:p0(v.bodyClassName||P.bodyClassName),progressClassName:p0(v.progressClassName||P.progressClassName),autoClose:!v.isLoading&&(D=v.autoClose,T=P.autoClose,D===!1||Gu(D)&&D>0?D:T),deleteToast(){const k=z_(i.get(g),"removed");i.delete(g),Gn.emit(4,k);const b=a.queue.length;if(a.count=g==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),b>0){const U=g==null?a.props.limit:1;if(b===1||U===1)a.displayedToast++,c();else{const K=U>b?b:U;a.displayedToast=K;for(let te=0;te<K;te++)c()}}else e()}};var D,T;C.iconOut=function(k){let{theme:b,type:U,isLoading:K,icon:te}=k,re=null;const $={theme:b,type:U};return te===!1||(Cn(te)?re=te($):B.isValidElement(te)?re=B.cloneElement(te,$):is(te)||Gu(te)?re=te:K?re=n1.spinner():(Y=>Y in n1)(U)&&(re=n1[U]($))),re}(C),Cn(v.onOpen)&&(C.onOpen=v.onOpen),Cn(v.onClose)&&(C.onClose=v.onClose),C.closeButton=P.closeButton,v.closeButton===!1||t1(v.closeButton)?C.closeButton=v.closeButton:v.closeButton===!0&&(C.closeButton=!t1(P.closeButton)||P.closeButton);let R=p;B.isValidElement(p)&&!is(p.type)?R=B.cloneElement(p,{closeToast:N,toastProps:C,data:x}):Cn(p)&&(R=p({closeToast:N,toastProps:C,data:x})),P.limit&&P.limit>0&&a.count>P.limit&&I?a.queue.push({toastContent:R,toastProps:C,staleId:_}):Gu(y)?setTimeout(()=>{d(R,C,_)},y):d(R,C,_)}function d(p,m,y){const{toastId:_}=m;y&&i.delete(y);const v={content:p,props:m};i.set(_,v),r(g=>[...g,_].filter(E=>E!==y)),Gn.emit(4,z_(v,v.props.updateId==null?"added":"updated"))}return B.useEffect(()=>(a.containerId=t.containerId,Gn.cancelEmit(3).on(0,f).on(1,p=>o.current&&l(p)).on(5,u).emit(2,a),()=>{i.clear(),Gn.emit(3,a)}),[]),B.useEffect(()=>{a.props=t,a.isToastActive=s,a.displayedToast=n.length}),{getToastToRender:function(p){const m=new Map,y=Array.from(i.values());return t.newestOnTop&&y.reverse(),y.forEach(_=>{const{position:v}=_.props;m.has(v)||m.set(v,[]),m.get(v).push(_)}),Array.from(m,_=>p(_[0],_[1]))},containerRef:o,isToastActive:s}}function W_(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function G_(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function oR(t){const[e,n]=B.useState(!1),[r,o]=B.useState(!1),i=B.useRef(null),s=B.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=B.useRef(t),{autoClose:u,pauseOnHover:l,closeToast:c,onClick:f,closeOnClick:d}=t;function p(x){if(t.draggable){x.nativeEvent.type==="touchstart"&&x.nativeEvent.preventDefault(),s.didMove=!1,document.addEventListener("mousemove",v),document.addEventListener("mouseup",g),document.addEventListener("touchmove",v),document.addEventListener("touchend",g);const P=i.current;s.canCloseOnClick=!0,s.canDrag=!0,s.boundingRect=P.getBoundingClientRect(),P.style.transition="",s.x=W_(x.nativeEvent),s.y=G_(x.nativeEvent),t.draggableDirection==="x"?(s.start=s.x,s.removalDistance=P.offsetWidth*(t.draggablePercent/100)):(s.start=s.y,s.removalDistance=P.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent/100))}}function m(x){if(s.boundingRect){const{top:P,bottom:N,left:I,right:C}=s.boundingRect;x.nativeEvent.type!=="touchend"&&t.pauseOnHover&&s.x>=I&&s.x<=C&&s.y>=P&&s.y<=N?_():y()}}function y(){n(!0)}function _(){n(!1)}function v(x){const P=i.current;s.canDrag&&P&&(s.didMove=!0,e&&_(),s.x=W_(x),s.y=G_(x),s.delta=t.draggableDirection==="x"?s.x-s.start:s.y-s.start,s.start!==s.x&&(s.canCloseOnClick=!1),P.style.transform=`translate${t.draggableDirection}(${s.delta}px)`,P.style.opacity=""+(1-Math.abs(s.delta/s.removalDistance)))}function g(){document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",g),document.removeEventListener("touchmove",v),document.removeEventListener("touchend",g);const x=i.current;if(s.canDrag&&s.didMove&&x){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance)return o(!0),void t.closeToast();x.style.transition="transform 0.2s, opacity 0.2s",x.style.transform=`translate${t.draggableDirection}(0)`,x.style.opacity="1"}}B.useEffect(()=>{a.current=t}),B.useEffect(()=>(i.current&&i.current.addEventListener("d",y,{once:!0}),Cn(t.onOpen)&&t.onOpen(B.isValidElement(t.children)&&t.children.props),()=>{const x=a.current;Cn(x.onClose)&&x.onClose(B.isValidElement(x.children)&&x.children.props)}),[]),B.useEffect(()=>(t.pauseOnFocusLoss&&(document.hasFocus()||_(),window.addEventListener("focus",y),window.addEventListener("blur",_)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",y),window.removeEventListener("blur",_))}),[t.pauseOnFocusLoss]);const E={onMouseDown:p,onTouchStart:p,onMouseUp:m,onTouchEnd:m};return u&&l&&(E.onMouseEnter=_,E.onMouseLeave=y),d&&(E.onClick=x=>{f&&f(x),s.canCloseOnClick&&c()}),{playToast:y,pauseToast:_,isRunning:e,preventExitTransition:r,toastRef:i,eventHandlers:E}}function N6(t){let{closeToast:e,theme:n,ariaLabel:r="close"}=t;return ne.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:o=>{o.stopPropagation(),e(o)},"aria-label":r},ne.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ne.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function iR(t){let{delay:e,isRunning:n,closeToast:r,type:o="default",hide:i,className:s,style:a,controlledProgress:u,progress:l,rtl:c,isIn:f,theme:d}=t;const p=i||u&&l===0,m={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused",opacity:p?0:1};u&&(m.transform=`scaleX(${l})`);const y=Fo("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${o}`,{"Toastify__progress-bar--rtl":c}),_=Cn(s)?s({rtl:c,type:o,defaultClassName:y}):Fo(y,s);return ne.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:_,style:m,[u&&l>=1?"onTransitionEnd":"onAnimationEnd"]:u&&l<1?null:()=>{f&&r()}})}const sR=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:o}=oR(t),{closeButton:i,children:s,autoClose:a,onClick:u,type:l,hideProgressBar:c,closeToast:f,transition:d,position:p,className:m,style:y,bodyClassName:_,bodyStyle:v,progressClassName:g,progressStyle:E,updateId:x,role:P,progress:N,rtl:I,toastId:C,deleteToast:D,isIn:T,isLoading:R,iconOut:k,closeOnClick:b,theme:U}=t,K=Fo("Toastify__toast",`Toastify__toast-theme--${U}`,`Toastify__toast--${l}`,{"Toastify__toast--rtl":I},{"Toastify__toast--close-on-click":b}),te=Cn(m)?m({rtl:I,position:p,type:l,defaultClassName:K}):Fo(K,m),re=!!N||!a,$={closeToast:f,type:l,theme:U};let Y=null;return i===!1||(Y=Cn(i)?i($):B.isValidElement(i)?B.cloneElement(i,$):N6($)),ne.createElement(d,{isIn:T,done:D,position:p,preventExitTransition:n,nodeRef:r},ne.createElement("div",{id:C,onClick:u,className:te,...o,style:y,ref:r},ne.createElement("div",{...T&&{role:P},className:Cn(_)?_({type:l}):Fo("Toastify__toast-body",_),style:v},k!=null&&ne.createElement("div",{className:Fo("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},k),ne.createElement("div",null,s)),Y,ne.createElement(iR,{...x&&!re?{key:`pb-${x}`}:{},rtl:I,theme:U,delay:a,isRunning:e,isIn:T,closeToast:f,hide:c,type:l,style:E,className:g,controlledProgress:re,progress:N||0})))},Id=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},aR=Ad(Id("bounce",!0));Ad(Id("slide",!0));Ad(Id("zoom"));Ad(Id("flip"));const f2=B.forwardRef((t,e)=>{const{getToastToRender:n,containerRef:r,isToastActive:o}=rR(t),{className:i,style:s,rtl:a,containerId:u}=t;function l(c){const f=Fo("Toastify__toast-container",`Toastify__toast-container--${c}`,{"Toastify__toast-container--rtl":a});return Cn(i)?i({position:c,rtl:a,defaultClassName:f}):Fo(f,p0(i))}return B.useEffect(()=>{e&&(e.current=r.current)},[]),ne.createElement("div",{ref:r,className:"Toastify",id:u},n((c,f)=>{const d=f.length?{...s}:{...s,pointerEvents:"none"};return ne.createElement("div",{className:l(c),style:d,key:`container-${c}`},f.map((p,m)=>{let{content:y,props:_}=p;return ne.createElement(sR,{..._,isIn:o(_.toastId),style:{..._.style,"--nth":m+1,"--len":f.length},key:`toast-${_.key}`},y)}))}))});f2.displayName="ToastContainer",f2.defaultProps={position:"top-right",transition:aR,autoClose:5e3,closeButton:N6,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let r1,Mi=new Map,bu=[],uR=1;function O6(){return""+uR++}function lR(t){return t&&(is(t.toastId)||Gu(t.toastId))?t.toastId:O6()}function qu(t,e){return Mi.size>0?Gn.emit(0,t,e):bu.push({content:t,options:e}),e.toastId}function df(t,e){return{...e,type:e&&e.type||t,toastId:lR(e)}}function $c(t){return(e,n)=>qu(e,df(t,n))}function Se(t,e){return qu(t,df("default",e))}Se.loading=(t,e)=>qu(t,df("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Se.promise=function(t,e,n){let r,{pending:o,error:i,success:s}=e;o&&(r=is(o)?Se.loading(o,n):Se.loading(o.render,{...n,...o}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(c,f,d)=>{if(f==null)return void Se.dismiss(r);const p={type:c,...a,...n,data:d},m=is(f)?{render:f}:f;return r?Se.update(r,{...p,...m}):Se(m.render,{...p,...m}),d},l=Cn(t)?t():t;return l.then(c=>u("success",s,c)).catch(c=>u("error",i,c)),l},Se.success=$c("success"),Se.info=$c("info"),Se.error=$c("error"),Se.warning=$c("warning"),Se.warn=Se.warning,Se.dark=(t,e)=>qu(t,df("default",{theme:"dark",...e})),Se.dismiss=t=>{Mi.size>0?Gn.emit(1,t):bu=bu.filter(e=>t!=null&&e.options.toastId!==t)},Se.clearWaitingQueue=function(t){return t===void 0&&(t={}),Gn.emit(5,t)},Se.isActive=t=>{let e=!1;return Mi.forEach(n=>{n.isToastActive&&n.isToastActive(t)&&(e=!0)}),e},Se.update=function(t,e){e===void 0&&(e={}),setTimeout(()=>{const n=function(r,o){let{containerId:i}=o;const s=Mi.get(i||r1);return s&&s.getToast(r)}(t,e);if(n){const{props:r,content:o}=n,i={delay:100,...r,...e,toastId:e.toastId||t,updateId:O6()};i.toastId!==t&&(i.staleId=t);const s=i.render||o;delete i.render,qu(s,i)}},0)},Se.done=t=>{Se.update(t,{progress:1})},Se.onChange=t=>(Gn.on(4,t),()=>{Gn.off(4,t)}),Se.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Se.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Gn.on(2,t=>{r1=t.containerId||t,Mi.set(r1,t),bu.forEach(e=>{Gn.emit(0,e.content,e.options)}),bu=[]}).on(3,t=>{Mi.delete(t.containerId||t),Mi.size===0&&Gn.off(0).off(1).off(5)});function cR(){const t=B.useContext(gn),{mode:e,product:n,searchkey:r,setSearchkey:o,filterType:i,setFilterType:s,filterPrice:a,setFilterPrice:u}=t,l=sg(),c=rd(d=>d.cart);console.log(c);const f=d=>{l(P6(d)),Se.success("add to cart")};return B.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(c))},[c]),S.jsx("section",{className:"text-gray-600 body-font",children:S.jsxs("div",{className:"container px-5 py-8 md:py-16 mx-auto",children:[S.jsxs("div",{class:"lg:w-1/2 w-full mb-6 lg:mb-10",children:[S.jsx("h1",{class:"sm:text-3xl text-2xl font-medium title-font mb-2 text-gray-900",style:{color:e==="dark"?"white":""},children:"Our Menu"}),S.jsx("div",{class:"h-1 w-20 bg-pink-600 rounded"})]}),S.jsx("div",{className:"flex flex-wrap -m-4",children:n.filter(d=>d.title.toLowerCase().includes(r)).filter(d=>d.category.toLowerCase().includes(i)).filter(d=>d.price.includes(a)).slice(0,8).map((d,p)=>{const{title:m,price:y,inStock:_,imageUrl:v,id:g}=d;return S.jsx("div",{className:"p-4 md:w-1/4 drop-shadow-lg",children:S.jsxs("div",{className:"h-full border-2 hover:shadow-gray-100 hover:shadow-2xl transition-shadow duration-300 ease-in-out border-gray-200 border-opacity-60 rounded-2xl overflow-hidden",style:{backgroundColor:e==="dark"?"rgb(46 49 55)":"",color:e==="dark"?"white":""},children:[S.jsx("div",{className:"flex justify-center cursor-pointer",children:S.jsx("img",{className:"rounded-2xl w-full h-80 object-cover p-2 hover:scale-110 transition-transform duration-300 ease-in-out",src:v,alt:"product"})}),S.jsxs("div",{className:"p-5 border-t-2",children:[S.jsx("h2",{className:"tracking-widest text-xs title-font font-medium text-gray-400 mb-1",style:{color:e==="dark"?"white":""},children:"JIIT Cafeteria"}),S.jsxs("h1",{className:"title-font text-lg font-medium text-gray-900 mb-3",style:{color:e==="dark"?"white":""},children:[m," ",S.jsx("span",{className:_==="1"?"":"border-4 border-red-500 font-bold ",style:{color:e==="dark"?"white":""},children:_==="1"?"":"Out of Stock"})]}),S.jsxs("p",{className:"leading-relaxed mb-3",style:{color:e==="dark"?"white":""},children:["",y]}),S.jsx("div",{className:"flex justify-center",children:S.jsx("button",{type:"button",onClick:()=>{_==="1"&&f(d)},className:"focus:outline-none text-white bg-pink-600 hover:bg-pink-700 focus:ring-4 focus:ring-purple-300 font-medium rounded-lg text-sm w-full py-2",children:_==="1"?"Add To Cart":"Out of Stock"})})]})]})},p)})})]})})}function fR(){return B.useContext(gn),S.jsx("div",{})}function dR(){return B.useContext(gn),S.jsx("div",{})}function hR(){return S.jsxs(hs,{children:[S.jsx(lb,{}),S.jsx(cR,{}),S.jsx("div",{className:"flex justify-center -mt-10 mb-4",children:S.jsx(Wn,{to:"/allproducts",children:S.jsx("button",{className:" bg-gray-300 px-5 py-2 rounded-xl",children:"See more"})})}),S.jsx(fR,{}),S.jsx(dR,{})]})}function k6(){return S.jsx("div",{children:S.jsxs("div",{role:"status",className:"absolute top-0 right-0 bottom-0 left-0 m-auto w-[3em] h-10 md:h-32 z-50",children:[S.jsxs("svg",{"aria-hidden":"true",className:"w-10 h-10 text-gray-300 animate-spin fill-violet-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),S.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),S.jsx("span",{className:"sr-only",children:"Loading..."})]})})}function pR(){const t=JSON.parse(localStorage.getItem("user")).user.uid,e=B.useContext(gn),{mode:n,loading:r,order:o}=e;return S.jsxs(hs,{children:[r&&S.jsx(k6,{}),o.length>0?S.jsx(S.Fragment,{children:S.jsx("div",{className:" h-full pt-10",children:o.filter(i=>i.userid==t).map(i=>S.jsx("div",{className:"mx-auto max-w-5xl justify-center px-6 md:flex md:space-x-6 xl:px-0",children:i.cartItems.map(s=>S.jsx("div",{className:"rounded-lg md:w-2/3",children:S.jsxs("div",{className:"justify-between mb-6 rounded-lg bg-white p-6 shadow-md sm:flex sm:justify-start",style:{backgroundColor:n==="dark"?"#282c34":"",color:n==="dark"?"white":""},children:[S.jsx("img",{src:s.imageUrl,alt:"product-image",className:"w-full rounded-lg sm:w-40"}),S.jsx("div",{className:"sm:ml-4 sm:flex sm:w-full sm:justify-between",children:S.jsxs("div",{className:"mt-5 sm:mt-0",children:[S.jsx("h2",{className:"text-lg font-bold text-gray-900",style:{color:n==="dark"?"white":""},children:s.title}),S.jsx("p",{className:"mt-1 text-xs text-gray-700",style:{color:n==="dark"?"white":""},children:s.inStock}),S.jsx("p",{className:"mt-1 text-xs text-gray-700",style:{color:n==="dark"?"white":""},children:s.price})]})})]})}))}))})}):S.jsx("h2",{className:" text-center tex-2xl text-white",children:"Not Order"})]})}function mR({name:t,phoneNumber:e,email:n,setName:r,setPhoneNumber:o,setEmail:i,buyNow:s}){let[a,u]=B.useState(!1);function l(){u(!1)}function c(){u(!0)}return S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"  text-center rounded-lg text-white font-bold",children:S.jsx("button",{type:"button",onClick:c,className:"w-full  bg-violet-600 py-2 text-center rounded-lg text-white font-bold ",children:"Buy Now"})}),S.jsx(Js,{appear:!0,show:a,as:B.Fragment,children:S.jsxs(sf,{as:"div",className:"relative z-10",onClose:l,children:[S.jsx(Js.Child,{as:B.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:S.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),S.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:S.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:S.jsx(Js.Child,{as:B.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:S.jsx(sf.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl p-2  text-left align-middle shadow-xl transition-all bg-gray-50",children:S.jsx("section",{className:"",children:S.jsx("div",{className:"flex flex-col items-center justify-center py-8 mx-auto lg:py-0",children:S.jsx("div",{className:"w-full rounded-lg md:mt-0 sm:max-w-md xl:p-0 ",children:S.jsx("div",{className:"p-6 space-y-4 md:space-y-6 sm:p-8",children:S.jsxs("form",{className:"space-y-4 md:space-y-6",onSubmit:f=>{f.preventDefault(),s(),l()},children:[S.jsxs("div",{children:[S.jsx("label",{htmlFor:"name",className:"block mb-2 text-sm font-medium text-gray-900",children:"Enter Full Name"}),S.jsx("input",{value:t,onChange:f=>r(f.target.value),type:"text",name:"name",id:"name",className:"border outline-0 border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 bg-gray-100",required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"mobileNumber",className:"block mb-2 text-sm font-medium text-gray-900",children:"Enter Mobile Number"}),S.jsx("input",{value:e,onChange:f=>o(f.target.value),type:"text",name:"mobileNumber",id:"mobileNumber",className:"border outline-0 border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 bg-gray-100",required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-900",children:"Enter Email Address (CAREFULLY)"}),S.jsx("input",{value:n,onChange:f=>i(f.target.value),type:"email",name:"email",id:"email",className:"border outline-0 border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 bg-gray-100",required:!0})]}),S.jsx("button",{type:"submit",className:"focus:outline-none w-full text-white bg-violet-600 hover:bg-violet-800 outline-0 font-medium rounded-lg text-sm px-5 py-2.5",children:"Order Now"})]})})})})})})})})})]})})]})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},gR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=t[n++];e[r++]=String.fromCharCode((o&31)<<6|i&63)}else if(o>239&&o<365){const i=t[n++],s=t[n++],a=t[n++],u=((o&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],s=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(i&63)<<6|s&63)}}return e.join("")},M6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const i=t[o],s=o+1<t.length,a=s?t[o+1]:0,u=o+2<t.length,l=u?t[o+2]:0,c=i>>2,f=(i&3)<<4|a>>4;let d=(a&15)<<2|l>>6,p=l&63;u||(p=64,s||(d=64)),r.push(n[c],n[f],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(B6(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):gR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const i=n[t.charAt(o++)],a=o<t.length?n[t.charAt(o)]:0;++o;const l=o<t.length?n[t.charAt(o)]:64;++o;const f=o<t.length?n[t.charAt(o)]:64;if(++o,i==null||a==null||l==null||f==null)throw new yR;const d=i<<2|a>>4;if(r.push(d),l!==64){const p=a<<4&240|l>>2;if(r.push(p),f!==64){const m=l<<6&192|f;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class yR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vR=function(t){const e=B6(t);return M6.encodeByteArray(e,!0)},hf=function(t){return vR(t).replace(/\./g,"")},F6=function(t){try{return M6.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=()=>_R().__FIREBASE_DEFAULTS__,ER=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&F6(t[1]);return e&&JSON.parse(e)},Td=()=>{try{return wR()||ER()||xR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},L6=t=>{var e,n;return(n=(e=Td())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},CR=t=>{const e=L6(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},V6=()=>{var t;return(t=Td())===null||t===void 0?void 0:t.config},j6=t=>{var e;return(e=Td())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[hf(JSON.stringify(n)),hf(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function SR(){var t;const e=(t=Td())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function RR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PR(){const t=sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function DR(){return!SR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NR(){try{return typeof indexedDB=="object"}catch{return!1}}function OR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var i;e(((i=o.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="FirebaseError";class ao extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=kR,Object.setPrototypeOf(this,ao.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wl.prototype.create)}}class Wl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,i=this.errors[e],s=i?BR(i,r):"Error",a=`${this.serviceName}: ${s} (${o}).`;return new ao(o,a,r)}}function BR(t,e){return t.replace(MR,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const MR=/\{\$([^}]+)}/g;function FR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function pf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const i=t[o],s=e[o];if(q_(i)&&q_(s)){if(!pf(i,s))return!1}else if(i!==s)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function q_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ru(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,i]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(i)}}),e}function Pu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function LR(t,e){const n=new VR(t,e);return n.subscribe.bind(n)}class VR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");jR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=o1),o.error===void 0&&(o.error=o1),o.complete===void 0&&(o.complete=o1);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function o1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(t){return t&&t._delegate?t._delegate:t}class ss{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new AR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(o)return null;throw i}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HR(e))try{this.getOrInitializeService({instanceIdentifier:Fi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:o});r.resolve(i)}catch{}}}}clearInstance(e=Fi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fi){return this.instances.has(e)}getOptions(e=Fi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&s.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(o,i);const s=this.instances.get(o);return s&&e(s,o),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$R(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fi){return this.component?this.component.multipleInstances?e:Fi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $R(t){return t===Fi?void 0:t}function HR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new UR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ee||(Ee={}));const WR={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},GR=Ee.INFO,qR={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},KR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=qR[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pg{constructor(e){this.name=e,this._logLevel=GR,this._logHandler=KR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const XR=(t,e)=>e.some(n=>t instanceof n);let K_,X_;function YR(){return K_||(K_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QR(){return X_||(X_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const U6=new WeakMap,d2=new WeakMap,$6=new WeakMap,i1=new WeakMap,mg=new WeakMap;function ZR(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{n(Zo(t.result)),o()},s=()=>{r(t.error),o()};t.addEventListener("success",i),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&U6.set(n,t)}).catch(()=>{}),mg.set(e,t),e}function JR(t){if(d2.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{n(),o()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});d2.set(t,e)}let h2={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return d2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$6.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eP(t){h2=t(h2)}function tP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(s1(this),e,...n);return $6.set(r,e.sort?e.sort():[e]),Zo(r)}:QR().includes(t)?function(...e){return t.apply(s1(this),e),Zo(U6.get(this))}:function(...e){return Zo(t.apply(s1(this),e))}}function nP(t){return typeof t=="function"?tP(t):(t instanceof IDBTransaction&&JR(t),XR(t,YR())?new Proxy(t,h2):t)}function Zo(t){if(t instanceof IDBRequest)return ZR(t);if(i1.has(t))return i1.get(t);const e=nP(t);return e!==t&&(i1.set(t,e),mg.set(e,t)),e}const s1=t=>mg.get(t);function rP(t,e,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const s=indexedDB.open(t,e),a=Zo(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Zo(s.result),u.oldVersion,u.newVersion,Zo(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{i&&u.addEventListener("close",()=>i()),o&&u.addEventListener("versionchange",l=>o(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const oP=["get","getKey","getAll","getAllKeys","count"],iP=["put","add","delete","clear"],a1=new Map;function Y_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(a1.get(e))return a1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=iP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||oP.includes(n)))return;const i=async function(s,...a){const u=this.transaction(s,o?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),o&&u.done]))[0]};return a1.set(e,i),i}eP(t=>({...t,get:(e,n,r)=>Y_(e,n)||t.get(e,n,r),has:(e,n)=>!!Y_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function aP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const p2="@firebase/app",Q_="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=new pg("@firebase/app"),uP="@firebase/app-compat",lP="@firebase/analytics-compat",cP="@firebase/analytics",fP="@firebase/app-check-compat",dP="@firebase/app-check",hP="@firebase/auth",pP="@firebase/auth-compat",mP="@firebase/database",gP="@firebase/database-compat",yP="@firebase/functions",vP="@firebase/functions-compat",_P="@firebase/installations",wP="@firebase/installations-compat",EP="@firebase/messaging",xP="@firebase/messaging-compat",CP="@firebase/performance",AP="@firebase/performance-compat",IP="@firebase/remote-config",TP="@firebase/remote-config-compat",SP="@firebase/storage",bP="@firebase/storage-compat",RP="@firebase/firestore",PP="@firebase/vertexai-preview",DP="@firebase/firestore-compat",NP="firebase",OP="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="[DEFAULT]",kP={[p2]:"fire-core",[uP]:"fire-core-compat",[cP]:"fire-analytics",[lP]:"fire-analytics-compat",[dP]:"fire-app-check",[fP]:"fire-app-check-compat",[hP]:"fire-auth",[pP]:"fire-auth-compat",[mP]:"fire-rtdb",[gP]:"fire-rtdb-compat",[yP]:"fire-fn",[vP]:"fire-fn-compat",[_P]:"fire-iid",[wP]:"fire-iid-compat",[EP]:"fire-fcm",[xP]:"fire-fcm-compat",[CP]:"fire-perf",[AP]:"fire-perf-compat",[IP]:"fire-rc",[TP]:"fire-rc-compat",[SP]:"fire-gcs",[bP]:"fire-gcs-compat",[RP]:"fire-fst",[DP]:"fire-fst-compat",[PP]:"fire-vertex","fire-js":"fire-js",[NP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf=new Map,BP=new Map,g2=new Map;function Z_(t,e){try{t.container.addComponent(e)}catch(n){eo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ma(t){const e=t.name;if(g2.has(e))return eo.debug(`There were multiple attempts to register component ${e}.`),!1;g2.set(e,t);for(const n of mf.values())Z_(n,t);for(const n of BP.values())Z_(n,t);return!0}function gg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function $r(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jo=new Wl("app","Firebase",MP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=OP;function H6(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:m2,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw Jo.create("bad-app-name",{appName:String(o)});if(n||(n=V6()),!n)throw Jo.create("no-options");const i=mf.get(o);if(i){if(pf(n,i.options)&&pf(r,i.config))return i;throw Jo.create("duplicate-app",{appName:o})}const s=new zR(o);for(const u of g2.values())s.addComponent(u);const a=new FP(n,r,s);return mf.set(o,a),a}function z6(t=m2){const e=mf.get(t);if(!e&&t===m2&&V6())return H6();if(!e)throw Jo.create("no-app",{appName:t});return e}function ei(t,e,n){var r;let o=(r=kP[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const i=o.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${o}" with version "${e}":`];i&&a.push(`library name "${o}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),eo.warn(a.join(" "));return}ma(new ss(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP="firebase-heartbeat-database",VP=1,Al="firebase-heartbeat-store";let u1=null;function W6(){return u1||(u1=rP(LP,VP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Al)}catch(n){console.warn(n)}}}}).catch(t=>{throw Jo.create("idb-open",{originalErrorMessage:t.message})})),u1}async function jP(t){try{const n=(await W6()).transaction(Al),r=await n.objectStore(Al).get(G6(t));return await n.done,r}catch(e){if(e instanceof ao)eo.warn(e.message);else{const n=Jo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});eo.warn(n.message)}}}async function J_(t,e){try{const r=(await W6()).transaction(Al,"readwrite");await r.objectStore(Al).put(e,G6(t)),await r.done}catch(n){if(n instanceof ao)eo.warn(n.message);else{const r=Jo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});eo.warn(r.message)}}}function G6(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=1024,$P=30*24*60*60*1e3;class HP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new WP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=ew();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=$P}),this._storage.overwrite(this._heartbeatsCache))}catch(r){eo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ew(),{heartbeatsToSend:r,unsentEntries:o}=zP(this._heartbeatsCache.heartbeats),i=hf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return eo.warn(n),""}}}function ew(){return new Date().toISOString().substring(0,10)}function zP(t,e=UP){const n=[];let r=t.slice();for(const o of t){const i=n.find(s=>s.agent===o.agent);if(i){if(i.dates.push(o.date),tw(n)>e){i.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),tw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class WP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NR()?OR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return J_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return J_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function tw(t){return hf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(t){ma(new ss("platform-logger",e=>new sP(e),"PRIVATE")),ma(new ss("heartbeat",e=>new HP(e),"PRIVATE")),ei(p2,Q_,t),ei(p2,Q_,"esm2017"),ei("fire-js","")}GP("");var nw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qi,q6;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,C){function D(){}D.prototype=C.prototype,I.D=C.prototype,I.prototype=new D,I.prototype.constructor=I,I.C=function(T,R,k){for(var b=Array(arguments.length-2),U=2;U<arguments.length;U++)b[U-2]=arguments[U];return C.prototype[R].apply(T,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,C,D){D||(D=0);var T=Array(16);if(typeof C=="string")for(var R=0;16>R;++R)T[R]=C.charCodeAt(D++)|C.charCodeAt(D++)<<8|C.charCodeAt(D++)<<16|C.charCodeAt(D++)<<24;else for(R=0;16>R;++R)T[R]=C[D++]|C[D++]<<8|C[D++]<<16|C[D++]<<24;C=I.g[0],D=I.g[1],R=I.g[2];var k=I.g[3],b=C+(k^D&(R^k))+T[0]+3614090360&4294967295;C=D+(b<<7&4294967295|b>>>25),b=k+(R^C&(D^R))+T[1]+3905402710&4294967295,k=C+(b<<12&4294967295|b>>>20),b=R+(D^k&(C^D))+T[2]+606105819&4294967295,R=k+(b<<17&4294967295|b>>>15),b=D+(C^R&(k^C))+T[3]+3250441966&4294967295,D=R+(b<<22&4294967295|b>>>10),b=C+(k^D&(R^k))+T[4]+4118548399&4294967295,C=D+(b<<7&4294967295|b>>>25),b=k+(R^C&(D^R))+T[5]+1200080426&4294967295,k=C+(b<<12&4294967295|b>>>20),b=R+(D^k&(C^D))+T[6]+2821735955&4294967295,R=k+(b<<17&4294967295|b>>>15),b=D+(C^R&(k^C))+T[7]+4249261313&4294967295,D=R+(b<<22&4294967295|b>>>10),b=C+(k^D&(R^k))+T[8]+1770035416&4294967295,C=D+(b<<7&4294967295|b>>>25),b=k+(R^C&(D^R))+T[9]+2336552879&4294967295,k=C+(b<<12&4294967295|b>>>20),b=R+(D^k&(C^D))+T[10]+4294925233&4294967295,R=k+(b<<17&4294967295|b>>>15),b=D+(C^R&(k^C))+T[11]+2304563134&4294967295,D=R+(b<<22&4294967295|b>>>10),b=C+(k^D&(R^k))+T[12]+1804603682&4294967295,C=D+(b<<7&4294967295|b>>>25),b=k+(R^C&(D^R))+T[13]+4254626195&4294967295,k=C+(b<<12&4294967295|b>>>20),b=R+(D^k&(C^D))+T[14]+2792965006&4294967295,R=k+(b<<17&4294967295|b>>>15),b=D+(C^R&(k^C))+T[15]+1236535329&4294967295,D=R+(b<<22&4294967295|b>>>10),b=C+(R^k&(D^R))+T[1]+4129170786&4294967295,C=D+(b<<5&4294967295|b>>>27),b=k+(D^R&(C^D))+T[6]+3225465664&4294967295,k=C+(b<<9&4294967295|b>>>23),b=R+(C^D&(k^C))+T[11]+643717713&4294967295,R=k+(b<<14&4294967295|b>>>18),b=D+(k^C&(R^k))+T[0]+3921069994&4294967295,D=R+(b<<20&4294967295|b>>>12),b=C+(R^k&(D^R))+T[5]+3593408605&4294967295,C=D+(b<<5&4294967295|b>>>27),b=k+(D^R&(C^D))+T[10]+38016083&4294967295,k=C+(b<<9&4294967295|b>>>23),b=R+(C^D&(k^C))+T[15]+3634488961&4294967295,R=k+(b<<14&4294967295|b>>>18),b=D+(k^C&(R^k))+T[4]+3889429448&4294967295,D=R+(b<<20&4294967295|b>>>12),b=C+(R^k&(D^R))+T[9]+568446438&4294967295,C=D+(b<<5&4294967295|b>>>27),b=k+(D^R&(C^D))+T[14]+3275163606&4294967295,k=C+(b<<9&4294967295|b>>>23),b=R+(C^D&(k^C))+T[3]+4107603335&4294967295,R=k+(b<<14&4294967295|b>>>18),b=D+(k^C&(R^k))+T[8]+1163531501&4294967295,D=R+(b<<20&4294967295|b>>>12),b=C+(R^k&(D^R))+T[13]+2850285829&4294967295,C=D+(b<<5&4294967295|b>>>27),b=k+(D^R&(C^D))+T[2]+4243563512&4294967295,k=C+(b<<9&4294967295|b>>>23),b=R+(C^D&(k^C))+T[7]+1735328473&4294967295,R=k+(b<<14&4294967295|b>>>18),b=D+(k^C&(R^k))+T[12]+2368359562&4294967295,D=R+(b<<20&4294967295|b>>>12),b=C+(D^R^k)+T[5]+4294588738&4294967295,C=D+(b<<4&4294967295|b>>>28),b=k+(C^D^R)+T[8]+2272392833&4294967295,k=C+(b<<11&4294967295|b>>>21),b=R+(k^C^D)+T[11]+1839030562&4294967295,R=k+(b<<16&4294967295|b>>>16),b=D+(R^k^C)+T[14]+4259657740&4294967295,D=R+(b<<23&4294967295|b>>>9),b=C+(D^R^k)+T[1]+2763975236&4294967295,C=D+(b<<4&4294967295|b>>>28),b=k+(C^D^R)+T[4]+1272893353&4294967295,k=C+(b<<11&4294967295|b>>>21),b=R+(k^C^D)+T[7]+4139469664&4294967295,R=k+(b<<16&4294967295|b>>>16),b=D+(R^k^C)+T[10]+3200236656&4294967295,D=R+(b<<23&4294967295|b>>>9),b=C+(D^R^k)+T[13]+681279174&4294967295,C=D+(b<<4&4294967295|b>>>28),b=k+(C^D^R)+T[0]+3936430074&4294967295,k=C+(b<<11&4294967295|b>>>21),b=R+(k^C^D)+T[3]+3572445317&4294967295,R=k+(b<<16&4294967295|b>>>16),b=D+(R^k^C)+T[6]+76029189&4294967295,D=R+(b<<23&4294967295|b>>>9),b=C+(D^R^k)+T[9]+3654602809&4294967295,C=D+(b<<4&4294967295|b>>>28),b=k+(C^D^R)+T[12]+3873151461&4294967295,k=C+(b<<11&4294967295|b>>>21),b=R+(k^C^D)+T[15]+530742520&4294967295,R=k+(b<<16&4294967295|b>>>16),b=D+(R^k^C)+T[2]+3299628645&4294967295,D=R+(b<<23&4294967295|b>>>9),b=C+(R^(D|~k))+T[0]+4096336452&4294967295,C=D+(b<<6&4294967295|b>>>26),b=k+(D^(C|~R))+T[7]+1126891415&4294967295,k=C+(b<<10&4294967295|b>>>22),b=R+(C^(k|~D))+T[14]+2878612391&4294967295,R=k+(b<<15&4294967295|b>>>17),b=D+(k^(R|~C))+T[5]+4237533241&4294967295,D=R+(b<<21&4294967295|b>>>11),b=C+(R^(D|~k))+T[12]+1700485571&4294967295,C=D+(b<<6&4294967295|b>>>26),b=k+(D^(C|~R))+T[3]+2399980690&4294967295,k=C+(b<<10&4294967295|b>>>22),b=R+(C^(k|~D))+T[10]+4293915773&4294967295,R=k+(b<<15&4294967295|b>>>17),b=D+(k^(R|~C))+T[1]+2240044497&4294967295,D=R+(b<<21&4294967295|b>>>11),b=C+(R^(D|~k))+T[8]+1873313359&4294967295,C=D+(b<<6&4294967295|b>>>26),b=k+(D^(C|~R))+T[15]+4264355552&4294967295,k=C+(b<<10&4294967295|b>>>22),b=R+(C^(k|~D))+T[6]+2734768916&4294967295,R=k+(b<<15&4294967295|b>>>17),b=D+(k^(R|~C))+T[13]+1309151649&4294967295,D=R+(b<<21&4294967295|b>>>11),b=C+(R^(D|~k))+T[4]+4149444226&4294967295,C=D+(b<<6&4294967295|b>>>26),b=k+(D^(C|~R))+T[11]+3174756917&4294967295,k=C+(b<<10&4294967295|b>>>22),b=R+(C^(k|~D))+T[2]+718787259&4294967295,R=k+(b<<15&4294967295|b>>>17),b=D+(k^(R|~C))+T[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(R+(b<<21&4294967295|b>>>11))&4294967295,I.g[2]=I.g[2]+R&4294967295,I.g[3]=I.g[3]+k&4294967295}r.prototype.u=function(I,C){C===void 0&&(C=I.length);for(var D=C-this.blockSize,T=this.B,R=this.h,k=0;k<C;){if(R==0)for(;k<=D;)o(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<C;)if(T[R++]=I.charCodeAt(k++),R==this.blockSize){o(this,T),R=0;break}}else for(;k<C;)if(T[R++]=I[k++],R==this.blockSize){o(this,T),R=0;break}}this.h=R,this.o+=C},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;var D=8*this.o;for(C=I.length-8;C<I.length;++C)I[C]=D&255,D/=256;for(this.u(I),I=Array(16),C=D=0;4>C;++C)for(var T=0;32>T;T+=8)I[D++]=this.g[C]>>>T&255;return I};function i(I,C){var D=a;return Object.prototype.hasOwnProperty.call(D,I)?D[I]:D[I]=C(I)}function s(I,C){this.h=C;for(var D=[],T=!0,R=I.length-1;0<=R;R--){var k=I[R]|0;T&&k==C||(D[R]=k,T=!1)}this.g=D}var a={};function u(I){return-128<=I&&128>I?i(I,function(C){return new s([C|0],0>C?-1:0)}):new s([I|0],0>I?-1:0)}function l(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return _(l(-I));for(var C=[],D=1,T=0;I>=D;T++)C[T]=I/D|0,D*=4294967296;return new s(C,0)}function c(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return _(c(I.substring(1),C));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=l(Math.pow(C,8)),T=f,R=0;R<I.length;R+=8){var k=Math.min(8,I.length-R),b=parseInt(I.substring(R,R+k),C);8>k?(k=l(Math.pow(C,k)),T=T.j(k).add(l(b))):(T=T.j(D),T=T.add(l(b)))}return T}var f=u(0),d=u(1),p=u(16777216);t=s.prototype,t.m=function(){if(y(this))return-_(this).m();for(var I=0,C=1,D=0;D<this.g.length;D++){var T=this.i(D);I+=(0<=T?T:4294967296+T)*C,C*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(m(this))return"0";if(y(this))return"-"+_(this).toString(I);for(var C=l(Math.pow(I,6)),D=this,T="";;){var R=x(D,C).g;D=v(D,R.j(C));var k=((0<D.g.length?D.g[0]:D.h)>>>0).toString(I);if(D=R,m(D))return k+T;for(;6>k.length;)k="0"+k;T=k+T}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function m(I){if(I.h!=0)return!1;for(var C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function y(I){return I.h==-1}t.l=function(I){return I=v(this,I),y(I)?-1:m(I)?0:1};function _(I){for(var C=I.g.length,D=[],T=0;T<C;T++)D[T]=~I.g[T];return new s(D,~I.h).add(d)}t.abs=function(){return y(this)?_(this):this},t.add=function(I){for(var C=Math.max(this.g.length,I.g.length),D=[],T=0,R=0;R<=C;R++){var k=T+(this.i(R)&65535)+(I.i(R)&65535),b=(k>>>16)+(this.i(R)>>>16)+(I.i(R)>>>16);T=b>>>16,k&=65535,b&=65535,D[R]=b<<16|k}return new s(D,D[D.length-1]&-2147483648?-1:0)};function v(I,C){return I.add(_(C))}t.j=function(I){if(m(this)||m(I))return f;if(y(this))return y(I)?_(this).j(_(I)):_(_(this).j(I));if(y(I))return _(this.j(_(I)));if(0>this.l(p)&&0>I.l(p))return l(this.m()*I.m());for(var C=this.g.length+I.g.length,D=[],T=0;T<2*C;T++)D[T]=0;for(T=0;T<this.g.length;T++)for(var R=0;R<I.g.length;R++){var k=this.i(T)>>>16,b=this.i(T)&65535,U=I.i(R)>>>16,K=I.i(R)&65535;D[2*T+2*R]+=b*K,g(D,2*T+2*R),D[2*T+2*R+1]+=k*K,g(D,2*T+2*R+1),D[2*T+2*R+1]+=b*U,g(D,2*T+2*R+1),D[2*T+2*R+2]+=k*U,g(D,2*T+2*R+2)}for(T=0;T<C;T++)D[T]=D[2*T+1]<<16|D[2*T];for(T=C;T<2*C;T++)D[T]=0;return new s(D,0)};function g(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function E(I,C){this.g=I,this.h=C}function x(I,C){if(m(C))throw Error("division by zero");if(m(I))return new E(f,f);if(y(I))return C=x(_(I),C),new E(_(C.g),_(C.h));if(y(C))return C=x(I,_(C)),new E(_(C.g),C.h);if(30<I.g.length){if(y(I)||y(C))throw Error("slowDivide_ only works with positive integers.");for(var D=d,T=C;0>=T.l(I);)D=P(D),T=P(T);var R=N(D,1),k=N(T,1);for(T=N(T,2),D=N(D,2);!m(T);){var b=k.add(T);0>=b.l(I)&&(R=R.add(D),k=b),T=N(T,1),D=N(D,1)}return C=v(I,R.j(C)),new E(R,C)}for(R=f;0<=I.l(C);){for(D=Math.max(1,Math.floor(I.m()/C.m())),T=Math.ceil(Math.log(D)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),k=l(D),b=k.j(C);y(b)||0<b.l(I);)D-=T,k=l(D),b=k.j(C);m(k)&&(k=d),R=R.add(k),I=v(I,b)}return new E(R,I)}t.A=function(I){return x(this,I).h},t.and=function(I){for(var C=Math.max(this.g.length,I.g.length),D=[],T=0;T<C;T++)D[T]=this.i(T)&I.i(T);return new s(D,this.h&I.h)},t.or=function(I){for(var C=Math.max(this.g.length,I.g.length),D=[],T=0;T<C;T++)D[T]=this.i(T)|I.i(T);return new s(D,this.h|I.h)},t.xor=function(I){for(var C=Math.max(this.g.length,I.g.length),D=[],T=0;T<C;T++)D[T]=this.i(T)^I.i(T);return new s(D,this.h^I.h)};function P(I){for(var C=I.g.length+1,D=[],T=0;T<C;T++)D[T]=I.i(T)<<1|I.i(T-1)>>>31;return new s(D,I.h)}function N(I,C){var D=C>>5;C%=32;for(var T=I.g.length-D,R=[],k=0;k<T;k++)R[k]=0<C?I.i(k+D)>>>C|I.i(k+D+1)<<32-C:I.i(k+D);return new s(R,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,q6=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=c,Qi=s}).apply(typeof nw<"u"?nw:typeof self<"u"?self:typeof window<"u"?window:{});var Hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var K6,X6,Du,Y6,m0,y2,Q6,Z6,J6;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,w,A){return h==Array.prototype||h==Object.prototype||(h[w]=A.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hc=="object"&&Hc];for(var w=0;w<h.length;++w){var A=h[w];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function o(h,w){if(w)e:{var A=r;h=h.split(".");for(var O=0;O<h.length-1;O++){var F=h[O];if(!(F in A))break e;A=A[F]}h=h[h.length-1],O=A[h],w=w(O),w!=O&&w!=null&&e(A,h,{configurable:!0,writable:!0,value:w})}}function i(h,w){h instanceof String&&(h+="");var A=0,O=!1,F={next:function(){if(!O&&A<h.length){var j=A++;return{value:w(j,h[j]),done:!1}}return O=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(h){return h||function(){return i(this,function(w,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function u(h){var w=typeof h;return w=w!="object"?w:h?Array.isArray(h)?"array":w:"null",w=="array"||w=="object"&&typeof h.length=="number"}function l(h){var w=typeof h;return w=="object"&&h!=null||w=="function"}function c(h,w,A){return h.call.apply(h.bind,arguments)}function f(h,w,A){if(!h)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,O),h.apply(w,F)}}return function(){return h.apply(w,arguments)}}function d(h,w,A){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,d.apply(null,arguments)}function p(h,w){var A=Array.prototype.slice.call(arguments,1);return function(){var O=A.slice();return O.push.apply(O,arguments),h.apply(this,O)}}function m(h,w){function A(){}A.prototype=w.prototype,h.aa=w.prototype,h.prototype=new A,h.prototype.constructor=h,h.Qb=function(O,F,j){for(var Z=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)Z[Ve-2]=arguments[Ve];return w.prototype[F].apply(O,Z)}}function y(h){const w=h.length;if(0<w){const A=Array(w);for(let O=0;O<w;O++)A[O]=h[O];return A}return[]}function _(h,w){for(let A=1;A<arguments.length;A++){const O=arguments[A];if(u(O)){const F=h.length||0,j=O.length||0;h.length=F+j;for(let Z=0;Z<j;Z++)h[F+Z]=O[Z]}else h.push(O)}}class v{constructor(w,A){this.i=w,this.j=A,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function g(h){return/^[\s\xa0]*$/.test(h)}function E(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function x(h){return x[" "](h),h}x[" "]=function(){};var P=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function N(h,w,A){for(const O in h)w.call(A,h[O],O,h)}function I(h,w){for(const A in h)w.call(void 0,h[A],A,h)}function C(h){const w={};for(const A in h)w[A]=h[A];return w}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(h,w){let A,O;for(let F=1;F<arguments.length;F++){O=arguments[F];for(A in O)h[A]=O[A];for(let j=0;j<D.length;j++)A=D[j],Object.prototype.hasOwnProperty.call(O,A)&&(h[A]=O[A])}}function R(h){var w=1;h=h.split(":");const A=[];for(;0<w&&h.length;)A.push(h.shift()),w--;return h.length&&A.push(h.join(":")),A}function k(h){a.setTimeout(()=>{throw h},0)}function b(){var h=Y;let w=null;return h.g&&(w=h.g,h.g=h.g.next,h.g||(h.h=null),w.next=null),w}class U{constructor(){this.h=this.g=null}add(w,A){const O=K.get();O.set(w,A),this.h?this.h.next=O:this.g=O,this.h=O}}var K=new v(()=>new te,h=>h.reset());class te{constructor(){this.next=this.g=this.h=null}set(w,A){this.h=w,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let re,$=!1,Y=new U,ee=()=>{const h=a.Promise.resolve(void 0);re=()=>{h.then(V)}};var V=()=>{for(var h;h=b();){try{h.h.call(h.g)}catch(A){k(A)}var w=K;w.j(h),100>w.h&&(w.h++,h.next=w.g,w.g=h)}$=!1};function H(){this.s=this.s,this.C=this.C}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(h,w){this.type=h,this.g=this.target=w,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var W=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,w=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const A=()=>{};a.addEventListener("test",A,w),a.removeEventListener("test",A,w)}catch{}return h}();function ye(h,w){if(G.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var A=this.type=h.type,O=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=w,w=h.relatedTarget){if(P){e:{try{x(w.nodeName);var F=!0;break e}catch{}F=!1}F||(w=null)}}else A=="mouseover"?w=h.fromElement:A=="mouseout"&&(w=h.toElement);this.relatedTarget=w,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:fe[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ye.aa.h.call(this)}}m(ye,G);var fe={2:"touch",3:"pen",4:"mouse"};ye.prototype.h=function(){ye.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Pe="closure_listenable_"+(1e6*Math.random()|0),pe=0;function Me(h,w,A,O,F){this.listener=h,this.proxy=null,this.src=w,this.type=A,this.capture=!!O,this.ha=F,this.key=++pe,this.da=this.fa=!1}function He(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Xe(h){this.src=h,this.g={},this.h=0}Xe.prototype.add=function(h,w,A,O,F){var j=h.toString();h=this.g[j],h||(h=this.g[j]=[],this.h++);var Z=Dt(h,w,O,F);return-1<Z?(w=h[Z],A||(w.fa=!1)):(w=new Me(w,this.src,j,!!O,F),w.fa=A,h.push(w)),w};function xt(h,w){var A=w.type;if(A in h.g){var O=h.g[A],F=Array.prototype.indexOf.call(O,w,void 0),j;(j=0<=F)&&Array.prototype.splice.call(O,F,1),j&&(He(w),h.g[A].length==0&&(delete h.g[A],h.h--))}}function Dt(h,w,A,O){for(var F=0;F<h.length;++F){var j=h[F];if(!j.da&&j.listener==w&&j.capture==!!A&&j.ha==O)return F}return-1}var Nt="closure_lm_"+(1e6*Math.random()|0),uo={};function lo(h,w,A,O,F){if(O&&O.once)return _s(h,w,A,O,F);if(Array.isArray(w)){for(var j=0;j<w.length;j++)lo(h,w[j],A,O,F);return null}return A=_r(A),h&&h[Pe]?h.K(w,A,l(O)?!!O.capture:!!O,F):wi(h,w,A,!1,O,F)}function wi(h,w,A,O,F,j){if(!w)throw Error("Invalid event type");var Z=l(F)?!!F.capture:!!F,Ve=fo(h);if(Ve||(h[Nt]=Ve=new Xe(h)),A=Ve.add(w,A,O,Z,j),A.proxy)return A;if(O=Ei(),A.proxy=O,O.src=h,O.listener=A,h.addEventListener)W||(F=Z),F===void 0&&(F=!1),h.addEventListener(w.toString(),O,F);else if(h.attachEvent)h.attachEvent(un(w.toString()),O);else if(h.addListener&&h.removeListener)h.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Ei(){function h(A){return w.call(h.src,h.listener,A)}const w=vr;return h}function _s(h,w,A,O,F){if(Array.isArray(w)){for(var j=0;j<w.length;j++)_s(h,w[j],A,O,F);return null}return A=_r(A),h&&h[Pe]?h.L(w,A,l(O)?!!O.capture:!!O,F):wi(h,w,A,!0,O,F)}function co(h,w,A,O,F){if(Array.isArray(w))for(var j=0;j<w.length;j++)co(h,w[j],A,O,F);else O=l(O)?!!O.capture:!!O,A=_r(A),h&&h[Pe]?(h=h.i,w=String(w).toString(),w in h.g&&(j=h.g[w],A=Dt(j,A,O,F),-1<A&&(He(j[A]),Array.prototype.splice.call(j,A,1),j.length==0&&(delete h.g[w],h.h--)))):h&&(h=fo(h))&&(w=h.g[w.toString()],h=-1,w&&(h=Dt(w,A,O,F)),(A=-1<h?w[h]:null)&&an(A))}function an(h){if(typeof h!="number"&&h&&!h.da){var w=h.src;if(w&&w[Pe])xt(w.i,h);else{var A=h.type,O=h.proxy;w.removeEventListener?w.removeEventListener(A,O,h.capture):w.detachEvent?w.detachEvent(un(A),O):w.addListener&&w.removeListener&&w.removeListener(O),(A=fo(w))?(xt(A,h),A.h==0&&(A.src=null,w[Nt]=null)):He(h)}}}function un(h){return h in uo?uo[h]:uo[h]="on"+h}function vr(h,w){if(h.da)h=!0;else{w=new ye(w,this);var A=h.listener,O=h.ha||h.src;h.fa&&an(h),h=A.call(O,w)}return h}function fo(h){return h=h[Nt],h instanceof Xe?h:null}var ws="__closure_events_fn_"+(1e9*Math.random()>>>0);function _r(h){return typeof h=="function"?h:(h[ws]||(h[ws]=function(w){return h.handleEvent(w)}),h[ws])}function ot(){H.call(this),this.i=new Xe(this),this.M=this,this.F=null}m(ot,H),ot.prototype[Pe]=!0,ot.prototype.removeEventListener=function(h,w,A,O){co(this,h,w,A,O)};function Ot(h,w){var A,O=h.F;if(O)for(A=[];O;O=O.F)A.push(O);if(h=h.M,O=w.type||w,typeof w=="string")w=new G(w,h);else if(w instanceof G)w.target=w.target||h;else{var F=w;w=new G(O,h),T(w,F)}if(F=!0,A)for(var j=A.length-1;0<=j;j--){var Z=w.g=A[j];F=xi(Z,O,!0,w)&&F}if(Z=w.g=h,F=xi(Z,O,!0,w)&&F,F=xi(Z,O,!1,w)&&F,A)for(j=0;j<A.length;j++)Z=w.g=A[j],F=xi(Z,O,!1,w)&&F}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var h=this.i,w;for(w in h.g){for(var A=h.g[w],O=0;O<A.length;O++)He(A[O]);delete h.g[w],h.h--}}this.F=null},ot.prototype.K=function(h,w,A,O){return this.i.add(String(h),w,!1,A,O)},ot.prototype.L=function(h,w,A,O){return this.i.add(String(h),w,!0,A,O)};function xi(h,w,A,O){if(w=h.i.g[String(w)],!w)return!0;w=w.concat();for(var F=!0,j=0;j<w.length;++j){var Z=w[j];if(Z&&!Z.da&&Z.capture==A){var Ve=Z.listener,kt=Z.ha||Z.src;Z.fa&&xt(h.i,Z),F=Ve.call(kt,O)!==!1&&F}}return F&&!O.defaultPrevented}function za(h,w,A){if(typeof h=="function")A&&(h=d(h,A));else if(h&&typeof h.handleEvent=="function")h=d(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:a.setTimeout(h,w||0)}function Nr(h){h.g=za(()=>{h.g=null,h.i&&(h.i=!1,Nr(h))},h.l);const w=h.h;h.h=null,h.m.apply(null,w)}class Ci extends H{constructor(w,A){super(),this.m=w,this.l=A,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Nr(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ai(h){H.call(this),this.h=h,this.g={}}m(Ai,H);var Wa=[];function Ga(h){N(h.g,function(w,A){this.g.hasOwnProperty(A)&&an(w)},h),h.g={}}Ai.prototype.N=function(){Ai.aa.N.call(this),Ga(this)},Ai.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qa=a.JSON.stringify,eh=a.JSON.parse,ic=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function Ka(){}Ka.prototype.h=null;function Xa(h){return h.h||(h.h=h.i())}function sc(){}var ho={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ya(){G.call(this,"d")}m(Ya,G);function Qa(){G.call(this,"c")}m(Qa,G);var Or={},Za=null;function Es(){return Za=Za||new ot}Or.La="serverreachability";function ac(h){G.call(this,Or.La,h)}m(ac,G);function po(h){const w=Es();Ot(w,new ac(w))}Or.STAT_EVENT="statevent";function uc(h,w){G.call(this,Or.STAT_EVENT,h),this.stat=w}m(uc,G);function Ct(h){const w=Es();Ot(w,new uc(w,h))}Or.Ma="timingevent";function qt(h,w){G.call(this,Or.Ma,h),this.size=w}m(qt,G);function yn(h,w){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},w)}function mo(){this.g=!0}mo.prototype.xa=function(){this.g=!1};function th(h,w,A,O,F,j){h.info(function(){if(h.g)if(j)for(var Z="",Ve=j.split("&"),kt=0;kt<Ve.length;kt++){var Te=Ve[kt].split("=");if(1<Te.length){var Kt=Te[0];Te=Te[1];var Xt=Kt.split("_");Z=2<=Xt.length&&Xt[1]=="type"?Z+(Kt+"="+Te+"&"):Z+(Kt+"=redacted&")}}else Z=null;else Z=j;return"XMLHTTP REQ ("+O+") [attempt "+F+"]: "+w+`
`+A+`
`+Z})}function SA(h,w,A,O,F,j,Z){h.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+F+"]: "+w+`
`+A+`
`+j+" "+Z})}function xs(h,w,A,O){h.info(function(){return"XMLHTTP TEXT ("+w+"): "+RA(h,A)+(O?" "+O:"")})}function bA(h,w){h.info(function(){return"TIMEOUT: "+w})}mo.prototype.info=function(){};function RA(h,w){if(!h.g)return w;if(!w)return null;try{var A=JSON.parse(w);if(A){for(h=0;h<A.length;h++)if(Array.isArray(A[h])){var O=A[h];if(!(2>O.length)){var F=O[1];if(Array.isArray(F)&&!(1>F.length)){var j=F[0];if(j!="noop"&&j!="stop"&&j!="close")for(var Z=1;Z<F.length;Z++)F[Z]=""}}}}return qa(A)}catch{return w}}var lc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_y={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},nh;function cc(){}m(cc,Ka),cc.prototype.g=function(){return new XMLHttpRequest},cc.prototype.i=function(){return{}},nh=new cc;function go(h,w,A,O){this.j=h,this.i=w,this.l=A,this.R=O||1,this.U=new Ai(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wy}function wy(){this.i=null,this.g="",this.h=!1}var Ey={},rh={};function oh(h,w,A){h.L=1,h.v=pc(kr(w)),h.m=A,h.P=!0,xy(h,null)}function xy(h,w){h.F=Date.now(),fc(h),h.A=kr(h.v);var A=h.A,O=h.R;Array.isArray(O)||(O=[String(O)]),My(A.i,"t",O),h.C=0,A=h.j.J,h.h=new wy,h.g=ev(h.j,A?w:null,!h.m),0<h.O&&(h.M=new Ci(d(h.Y,h,h.g),h.O)),w=h.U,A=h.g,O=h.ca;var F="readystatechange";Array.isArray(F)||(F&&(Wa[0]=F.toString()),F=Wa);for(var j=0;j<F.length;j++){var Z=lo(A,F[j],O||w.handleEvent,!1,w.h||w);if(!Z)break;w.g[Z.key]=Z}w=h.H?C(h.H):{},h.m?(h.u||(h.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,w)):(h.u="GET",h.g.ea(h.A,h.u,null,w)),po(),th(h.i,h.u,h.A,h.l,h.R,h.m)}go.prototype.ca=function(h){h=h.target;const w=this.M;w&&Br(h)==3?w.j():this.Y(h)},go.prototype.Y=function(h){try{if(h==this.g)e:{const Xt=Br(this.g);var w=this.g.Ba();const Is=this.g.Z();if(!(3>Xt)&&(Xt!=3||this.g&&(this.h.h||this.g.oa()||Hy(this.g)))){this.J||Xt!=4||w==7||(w==8||0>=Is?po(3):po(2)),ih(this);var A=this.g.Z();this.X=A;t:if(Cy(this)){var O=Hy(this.g);h="";var F=O.length,j=Br(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ii(this),Ja(this);var Z="";break t}this.h.i=new a.TextDecoder}for(w=0;w<F;w++)this.h.h=!0,h+=this.h.i.decode(O[w],{stream:!(j&&w==F-1)});O.length=0,this.h.g+=h,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=A==200,SA(this.i,this.u,this.A,this.l,this.R,Xt,A),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,kt=this.g;if((Ve=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!g(Ve)){var Te=Ve;break t}}Te=null}if(A=Te)xs(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sh(this,A);else{this.o=!1,this.s=3,Ct(12),Ii(this),Ja(this);break e}}if(this.P){A=!0;let rr;for(;!this.J&&this.C<Z.length;)if(rr=PA(this,Z),rr==rh){Xt==4&&(this.s=4,Ct(14),A=!1),xs(this.i,this.l,null,"[Incomplete Response]");break}else if(rr==Ey){this.s=4,Ct(15),xs(this.i,this.l,Z,"[Invalid Chunk]"),A=!1;break}else xs(this.i,this.l,rr,null),sh(this,rr);if(Cy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xt!=4||Z.length!=0||this.h.h||(this.s=1,Ct(16),A=!1),this.o=this.o&&A,!A)xs(this.i,this.l,Z,"[Invalid Chunked Response]"),Ii(this),Ja(this);else if(0<Z.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),dh(Kt),Kt.M=!0,Ct(11))}}else xs(this.i,this.l,Z,null),sh(this,Z);Xt==4&&Ii(this),this.o&&!this.J&&(Xt==4?Yy(this.j,this):(this.o=!1,fc(this)))}else qA(this.g),A==400&&0<Z.indexOf("Unknown SID")?(this.s=3,Ct(12)):(this.s=0,Ct(13)),Ii(this),Ja(this)}}}catch{}finally{}};function Cy(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function PA(h,w){var A=h.C,O=w.indexOf(`
`,A);return O==-1?rh:(A=Number(w.substring(A,O)),isNaN(A)?Ey:(O+=1,O+A>w.length?rh:(w=w.slice(O,O+A),h.C=O+A,w)))}go.prototype.cancel=function(){this.J=!0,Ii(this)};function fc(h){h.S=Date.now()+h.I,Ay(h,h.I)}function Ay(h,w){if(h.B!=null)throw Error("WatchDog timer not null");h.B=yn(d(h.ba,h),w)}function ih(h){h.B&&(a.clearTimeout(h.B),h.B=null)}go.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(bA(this.i,this.A),this.L!=2&&(po(),Ct(17)),Ii(this),this.s=2,Ja(this)):Ay(this,this.S-h)};function Ja(h){h.j.G==0||h.J||Yy(h.j,h)}function Ii(h){ih(h);var w=h.M;w&&typeof w.ma=="function"&&w.ma(),h.M=null,Ga(h.U),h.g&&(w=h.g,h.g=null,w.abort(),w.ma())}function sh(h,w){try{var A=h.j;if(A.G!=0&&(A.g==h||ah(A.h,h))){if(!h.K&&ah(A.h,h)&&A.G==3){try{var O=A.Da.g.parse(w)}catch{O=null}if(Array.isArray(O)&&O.length==3){var F=O;if(F[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<h.F)_c(A),yc(A);else break e;fh(A),Ct(18)}}else A.za=F[1],0<A.za-A.T&&37500>F[2]&&A.F&&A.v==0&&!A.C&&(A.C=yn(d(A.Za,A),6e3));if(1>=Sy(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else Si(A,11)}else if((h.K||A.g==h)&&_c(A),!g(w))for(F=A.Da.g.parse(w),w=0;w<F.length;w++){let Te=F[w];if(A.T=Te[0],Te=Te[1],A.G==2)if(Te[0]=="c"){A.K=Te[1],A.ia=Te[2];const Kt=Te[3];Kt!=null&&(A.la=Kt,A.j.info("VER="+A.la));const Xt=Te[4];Xt!=null&&(A.Aa=Xt,A.j.info("SVER="+A.Aa));const Is=Te[5];Is!=null&&typeof Is=="number"&&0<Is&&(O=1.5*Is,A.L=O,A.j.info("backChannelRequestTimeoutMs_="+O)),O=A;const rr=h.g;if(rr){const Ec=rr.g?rr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ec){var j=O.h;j.g||Ec.indexOf("spdy")==-1&&Ec.indexOf("quic")==-1&&Ec.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(uh(j,j.h),j.h=null))}if(O.D){const hh=rr.g?rr.g.getResponseHeader("X-HTTP-Session-Id"):null;hh&&(O.ya=hh,ze(O.I,O.D,hh))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-h.F,A.j.info("Handshake RTT: "+A.R+"ms")),O=A;var Z=h;if(O.qa=Jy(O,O.J?O.ia:null,O.W),Z.K){by(O.h,Z);var Ve=Z,kt=O.L;kt&&(Ve.I=kt),Ve.B&&(ih(Ve),fc(Ve)),O.g=Z}else Ky(O);0<A.i.length&&vc(A)}else Te[0]!="stop"&&Te[0]!="close"||Si(A,7);else A.G==3&&(Te[0]=="stop"||Te[0]=="close"?Te[0]=="stop"?Si(A,7):ch(A):Te[0]!="noop"&&A.l&&A.l.ta(Te),A.v=0)}}po(4)}catch{}}var DA=class{constructor(h,w){this.g=h,this.map=w}};function Iy(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ty(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Sy(h){return h.h?1:h.g?h.g.size:0}function ah(h,w){return h.h?h.h==w:h.g?h.g.has(w):!1}function uh(h,w){h.g?h.g.add(w):h.h=w}function by(h,w){h.h&&h.h==w?h.h=null:h.g&&h.g.has(w)&&h.g.delete(w)}Iy.prototype.cancel=function(){if(this.i=Ry(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Ry(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let w=h.i;for(const A of h.g.values())w=w.concat(A.D);return w}return y(h.i)}function NA(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(u(h)){for(var w=[],A=h.length,O=0;O<A;O++)w.push(h[O]);return w}w=[],A=0;for(O in h)w[A++]=h[O];return w}function OA(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(u(h)||typeof h=="string"){var w=[];h=h.length;for(var A=0;A<h;A++)w.push(A);return w}w=[],A=0;for(const O in h)w[A++]=O;return w}}}function Py(h,w){if(h.forEach&&typeof h.forEach=="function")h.forEach(w,void 0);else if(u(h)||typeof h=="string")Array.prototype.forEach.call(h,w,void 0);else for(var A=OA(h),O=NA(h),F=O.length,j=0;j<F;j++)w.call(void 0,O[j],A&&A[j],h)}var Dy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kA(h,w){if(h){h=h.split("&");for(var A=0;A<h.length;A++){var O=h[A].indexOf("="),F=null;if(0<=O){var j=h[A].substring(0,O);F=h[A].substring(O+1)}else j=h[A];w(j,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Ti(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ti){this.h=h.h,dc(this,h.j),this.o=h.o,this.g=h.g,hc(this,h.s),this.l=h.l;var w=h.i,A=new nu;A.i=w.i,w.g&&(A.g=new Map(w.g),A.h=w.h),Ny(this,A),this.m=h.m}else h&&(w=String(h).match(Dy))?(this.h=!1,dc(this,w[1]||"",!0),this.o=eu(w[2]||""),this.g=eu(w[3]||"",!0),hc(this,w[4]),this.l=eu(w[5]||"",!0),Ny(this,w[6]||"",!0),this.m=eu(w[7]||"")):(this.h=!1,this.i=new nu(null,this.h))}Ti.prototype.toString=function(){var h=[],w=this.j;w&&h.push(tu(w,Oy,!0),":");var A=this.g;return(A||w=="file")&&(h.push("//"),(w=this.o)&&h.push(tu(w,Oy,!0),"@"),h.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&h.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&h.push("/"),h.push(tu(A,A.charAt(0)=="/"?FA:MA,!0))),(A=this.i.toString())&&h.push("?",A),(A=this.m)&&h.push("#",tu(A,VA)),h.join("")};function kr(h){return new Ti(h)}function dc(h,w,A){h.j=A?eu(w,!0):w,h.j&&(h.j=h.j.replace(/:$/,""))}function hc(h,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);h.s=w}else h.s=null}function Ny(h,w,A){w instanceof nu?(h.i=w,jA(h.i,h.h)):(A||(w=tu(w,LA)),h.i=new nu(w,h.h))}function ze(h,w,A){h.i.set(w,A)}function pc(h){return ze(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function eu(h,w){return h?w?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function tu(h,w,A){return typeof h=="string"?(h=encodeURI(h).replace(w,BA),A&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function BA(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Oy=/[#\/\?@]/g,MA=/[#\?:]/g,FA=/[#\?]/g,LA=/[#\?@]/g,VA=/#/g;function nu(h,w){this.h=this.g=null,this.i=h||null,this.j=!!w}function yo(h){h.g||(h.g=new Map,h.h=0,h.i&&kA(h.i,function(w,A){h.add(decodeURIComponent(w.replace(/\+/g," ")),A)}))}t=nu.prototype,t.add=function(h,w){yo(this),this.i=null,h=Cs(this,h);var A=this.g.get(h);return A||this.g.set(h,A=[]),A.push(w),this.h+=1,this};function ky(h,w){yo(h),w=Cs(h,w),h.g.has(w)&&(h.i=null,h.h-=h.g.get(w).length,h.g.delete(w))}function By(h,w){return yo(h),w=Cs(h,w),h.g.has(w)}t.forEach=function(h,w){yo(this),this.g.forEach(function(A,O){A.forEach(function(F){h.call(w,F,O,this)},this)},this)},t.na=function(){yo(this);const h=Array.from(this.g.values()),w=Array.from(this.g.keys()),A=[];for(let O=0;O<w.length;O++){const F=h[O];for(let j=0;j<F.length;j++)A.push(w[O])}return A},t.V=function(h){yo(this);let w=[];if(typeof h=="string")By(this,h)&&(w=w.concat(this.g.get(Cs(this,h))));else{h=Array.from(this.g.values());for(let A=0;A<h.length;A++)w=w.concat(h[A])}return w},t.set=function(h,w){return yo(this),this.i=null,h=Cs(this,h),By(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[w]),this.h+=1,this},t.get=function(h,w){return h?(h=this.V(h),0<h.length?String(h[0]):w):w};function My(h,w,A){ky(h,w),0<A.length&&(h.i=null,h.g.set(Cs(h,w),y(A)),h.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],w=Array.from(this.g.keys());for(var A=0;A<w.length;A++){var O=w[A];const j=encodeURIComponent(String(O)),Z=this.V(O);for(O=0;O<Z.length;O++){var F=j;Z[O]!==""&&(F+="="+encodeURIComponent(String(Z[O]))),h.push(F)}}return this.i=h.join("&")};function Cs(h,w){return w=String(w),h.j&&(w=w.toLowerCase()),w}function jA(h,w){w&&!h.j&&(yo(h),h.i=null,h.g.forEach(function(A,O){var F=O.toLowerCase();O!=F&&(ky(this,O),My(this,F,A))},h)),h.j=w}function UA(h,w){const A=new mo;if(a.Image){const O=new Image;O.onload=p(vo,A,"TestLoadImage: loaded",!0,w,O),O.onerror=p(vo,A,"TestLoadImage: error",!1,w,O),O.onabort=p(vo,A,"TestLoadImage: abort",!1,w,O),O.ontimeout=p(vo,A,"TestLoadImage: timeout",!1,w,O),a.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=h}else w(!1)}function $A(h,w){const A=new mo,O=new AbortController,F=setTimeout(()=>{O.abort(),vo(A,"TestPingServer: timeout",!1,w)},1e4);fetch(h,{signal:O.signal}).then(j=>{clearTimeout(F),j.ok?vo(A,"TestPingServer: ok",!0,w):vo(A,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(F),vo(A,"TestPingServer: error",!1,w)})}function vo(h,w,A,O,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),O(A)}catch{}}function HA(){this.g=new ic}function zA(h,w,A){const O=A||"";try{Py(h,function(F,j){let Z=F;l(F)&&(Z=qa(F)),w.push(O+j+"="+encodeURIComponent(Z))})}catch(F){throw w.push(O+"type="+encodeURIComponent("_badmap")),F}}function ru(h){this.l=h.Ub||null,this.j=h.eb||!1}m(ru,Ka),ru.prototype.g=function(){return new mc(this.l,this.j)},ru.prototype.i=function(h){return function(){return h}}({});function mc(h,w){ot.call(this),this.D=h,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(mc,ot),t=mc.prototype,t.open=function(h,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=w,this.readyState=1,iu(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(w.body=h),(this.D||a).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ou(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,iu(this)),this.g&&(this.readyState=3,iu(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fy(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fy(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var w=h.value?h.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!h.done}))&&(this.response=this.responseText+=w)}h.done?ou(this):iu(this),this.readyState==3&&Fy(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,ou(this))},t.Qa=function(h){this.g&&(this.response=h,ou(this))},t.ga=function(){this.g&&ou(this)};function ou(h){h.readyState=4,h.l=null,h.j=null,h.v=null,iu(h)}t.setRequestHeader=function(h,w){this.u.append(h,w)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],w=this.h.entries();for(var A=w.next();!A.done;)A=A.value,h.push(A[0]+": "+A[1]),A=w.next();return h.join(`\r
`)};function iu(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(mc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ly(h){let w="";return N(h,function(A,O){w+=O,w+=":",w+=A,w+=`\r
`}),w}function lh(h,w,A){e:{for(O in A){var O=!1;break e}O=!0}O||(A=Ly(A),typeof h=="string"?A!=null&&encodeURIComponent(String(A)):ze(h,w,A))}function it(h){ot.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(it,ot);var WA=/^https?$/i,GA=["POST","PUT"];t=it.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,w,A,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);w=w?w.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():nh.g(),this.v=this.o?Xa(this.o):Xa(nh),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(w,String(h),!0),this.B=!1}catch(j){Vy(this,j);return}if(h=A||"",A=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var F in O)A.set(F,O[F]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const j of O.keys())A.set(j,O.get(j));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(A.keys()).find(j=>j.toLowerCase()=="content-type"),F=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(GA,w,void 0))||O||F||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,Z]of A)this.g.setRequestHeader(j,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$y(this),this.u=!0,this.g.send(h),this.u=!1}catch(j){Vy(this,j)}};function Vy(h,w){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=w,h.m=5,jy(h),gc(h)}function jy(h){h.A||(h.A=!0,Ot(h,"complete"),Ot(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ot(this,"complete"),Ot(this,"abort"),gc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gc(this,!0)),it.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Uy(this):this.bb())},t.bb=function(){Uy(this)};function Uy(h){if(h.h&&typeof s<"u"&&(!h.v[1]||Br(h)!=4||h.Z()!=2)){if(h.u&&Br(h)==4)za(h.Ea,0,h);else if(Ot(h,"readystatechange"),Br(h)==4){h.h=!1;try{const Z=h.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var A;if(!(A=w)){var O;if(O=Z===0){var F=String(h.D).match(Dy)[1]||null;!F&&a.self&&a.self.location&&(F=a.self.location.protocol.slice(0,-1)),O=!WA.test(F?F.toLowerCase():"")}A=O}if(A)Ot(h,"complete"),Ot(h,"success");else{h.m=6;try{var j=2<Br(h)?h.g.statusText:""}catch{j=""}h.l=j+" ["+h.Z()+"]",jy(h)}}finally{gc(h)}}}}function gc(h,w){if(h.g){$y(h);const A=h.g,O=h.v[0]?()=>{}:null;h.g=null,h.v=null,w||Ot(h,"ready");try{A.onreadystatechange=O}catch{}}}function $y(h){h.I&&(a.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Br(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Br(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var w=this.g.responseText;return h&&w.indexOf(h)==0&&(w=w.substring(h.length)),eh(w)}};function Hy(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function qA(h){const w={};h=(h.g&&2<=Br(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<h.length;O++){if(g(h[O]))continue;var A=R(h[O]);const F=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const j=w[F]||[];w[F]=j,j.push(A)}I(w,function(O){return O.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function su(h,w,A){return A&&A.internalChannelParams&&A.internalChannelParams[h]||w}function zy(h){this.Aa=0,this.i=[],this.j=new mo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=su("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=su("baseRetryDelayMs",5e3,h),this.cb=su("retryDelaySeedMs",1e4,h),this.Wa=su("forwardChannelMaxRetries",2,h),this.wa=su("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Iy(h&&h.concurrentRequestLimit),this.Da=new HA,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=zy.prototype,t.la=8,t.G=1,t.connect=function(h,w,A,O){Ct(0),this.W=h,this.H=w||{},A&&O!==void 0&&(this.H.OSID=A,this.H.OAID=O),this.F=this.X,this.I=Jy(this,null,this.W),vc(this)};function ch(h){if(Wy(h),h.G==3){var w=h.U++,A=kr(h.I);if(ze(A,"SID",h.K),ze(A,"RID",w),ze(A,"TYPE","terminate"),au(h,A),w=new go(h,h.j,w),w.L=2,w.v=pc(kr(A)),A=!1,a.navigator&&a.navigator.sendBeacon)try{A=a.navigator.sendBeacon(w.v.toString(),"")}catch{}!A&&a.Image&&(new Image().src=w.v,A=!0),A||(w.g=ev(w.j,null),w.g.ea(w.v)),w.F=Date.now(),fc(w)}Zy(h)}function yc(h){h.g&&(dh(h),h.g.cancel(),h.g=null)}function Wy(h){yc(h),h.u&&(a.clearTimeout(h.u),h.u=null),_c(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function vc(h){if(!Ty(h.h)&&!h.s){h.s=!0;var w=h.Ga;re||ee(),$||(re(),$=!0),Y.add(w,h),h.B=0}}function KA(h,w){return Sy(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=w.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=yn(d(h.Ga,h,w),Qy(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const F=new go(this,this.j,h);let j=this.o;if(this.S&&(j?(j=C(j),T(j,this.S)):j=this.S),this.m!==null||this.O||(F.H=j,j=null),this.P)e:{for(var w=0,A=0;A<this.i.length;A++){t:{var O=this.i[A];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(w+=O,4096<w){w=A;break e}if(w===4096||A===this.i.length-1){w=A+1;break e}}w=1e3}else w=1e3;w=qy(this,F,w),A=kr(this.I),ze(A,"RID",h),ze(A,"CVER",22),this.D&&ze(A,"X-HTTP-Session-Id",this.D),au(this,A),j&&(this.O?w="headers="+encodeURIComponent(String(Ly(j)))+"&"+w:this.m&&lh(A,this.m,j)),uh(this.h,F),this.Ua&&ze(A,"TYPE","init"),this.P?(ze(A,"$req",w),ze(A,"SID","null"),F.T=!0,oh(F,A,null)):oh(F,A,w),this.G=2}}else this.G==3&&(h?Gy(this,h):this.i.length==0||Ty(this.h)||Gy(this))};function Gy(h,w){var A;w?A=w.l:A=h.U++;const O=kr(h.I);ze(O,"SID",h.K),ze(O,"RID",A),ze(O,"AID",h.T),au(h,O),h.m&&h.o&&lh(O,h.m,h.o),A=new go(h,h.j,A,h.B+1),h.m===null&&(A.H=h.o),w&&(h.i=w.D.concat(h.i)),w=qy(h,A,1e3),A.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),uh(h.h,A),oh(A,O,w)}function au(h,w){h.H&&N(h.H,function(A,O){ze(w,O,A)}),h.l&&Py({},function(A,O){ze(w,O,A)})}function qy(h,w,A){A=Math.min(h.i.length,A);var O=h.l?d(h.l.Na,h.l,h):null;e:{var F=h.i;let j=-1;for(;;){const Z=["count="+A];j==-1?0<A?(j=F[0].g,Z.push("ofs="+j)):j=0:Z.push("ofs="+j);let Ve=!0;for(let kt=0;kt<A;kt++){let Te=F[kt].g;const Kt=F[kt].map;if(Te-=j,0>Te)j=Math.max(0,F[kt].g-100),Ve=!1;else try{zA(Kt,Z,"req"+Te+"_")}catch{O&&O(Kt)}}if(Ve){O=Z.join("&");break e}}}return h=h.i.splice(0,A),w.D=h,O}function Ky(h){if(!h.g&&!h.u){h.Y=1;var w=h.Fa;re||ee(),$||(re(),$=!0),Y.add(w,h),h.v=0}}function fh(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=yn(d(h.Fa,h),Qy(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Xy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=yn(d(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ct(10),yc(this),Xy(this))};function dh(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function Xy(h){h.g=new go(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var w=kr(h.qa);ze(w,"RID","rpc"),ze(w,"SID",h.K),ze(w,"AID",h.T),ze(w,"CI",h.F?"0":"1"),!h.F&&h.ja&&ze(w,"TO",h.ja),ze(w,"TYPE","xmlhttp"),au(h,w),h.m&&h.o&&lh(w,h.m,h.o),h.L&&(h.g.I=h.L);var A=h.g;h=h.ia,A.L=1,A.v=pc(kr(w)),A.m=null,A.P=!0,xy(A,h)}t.Za=function(){this.C!=null&&(this.C=null,yc(this),fh(this),Ct(19))};function _c(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function Yy(h,w){var A=null;if(h.g==w){_c(h),dh(h),h.g=null;var O=2}else if(ah(h.h,w))A=w.D,by(h.h,w),O=1;else return;if(h.G!=0){if(w.o)if(O==1){A=w.m?w.m.length:0,w=Date.now()-w.F;var F=h.B;O=Es(),Ot(O,new qt(O,A)),vc(h)}else Ky(h);else if(F=w.s,F==3||F==0&&0<w.X||!(O==1&&KA(h,w)||O==2&&fh(h)))switch(A&&0<A.length&&(w=h.h,w.i=w.i.concat(A)),F){case 1:Si(h,5);break;case 4:Si(h,10);break;case 3:Si(h,6);break;default:Si(h,2)}}}function Qy(h,w){let A=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(A*=2),A*w}function Si(h,w){if(h.j.info("Error code "+w),w==2){var A=d(h.fb,h),O=h.Xa;const F=!O;O=new Ti(O||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||dc(O,"https"),pc(O),F?UA(O.toString(),A):$A(O.toString(),A)}else Ct(2);h.G=0,h.l&&h.l.sa(w),Zy(h),Wy(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function Zy(h){if(h.G=0,h.ka=[],h.l){const w=Ry(h.h);(w.length!=0||h.i.length!=0)&&(_(h.ka,w),_(h.ka,h.i),h.h.i.length=0,y(h.i),h.i.length=0),h.l.ra()}}function Jy(h,w,A){var O=A instanceof Ti?kr(A):new Ti(A);if(O.g!="")w&&(O.g=w+"."+O.g),hc(O,O.s);else{var F=a.location;O=F.protocol,w=w?w+"."+F.hostname:F.hostname,F=+F.port;var j=new Ti(null);O&&dc(j,O),w&&(j.g=w),F&&hc(j,F),A&&(j.l=A),O=j}return A=h.D,w=h.ya,A&&w&&ze(O,A,w),ze(O,"VER",h.la),au(h,O),O}function ev(h,w,A){if(w&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=h.Ca&&!h.pa?new it(new ru({eb:A})):new it(h.pa),w.Ha(h.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function tv(){}t=tv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function wc(){}wc.prototype.g=function(h,w){return new Rn(h,w)};function Rn(h,w){ot.call(this),this.g=new zy(w),this.l=h,this.h=w&&w.messageUrlParams||null,h=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(h?h["X-WebChannel-Content-Type"]=w.messageContentType:h={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(h?h["X-WebChannel-Client-Profile"]=w.va:h={"X-WebChannel-Client-Profile":w.va}),this.g.S=h,(h=w&&w.Sb)&&!g(h)&&(this.g.m=h),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!g(w)&&(this.g.D=w,h=this.h,h!==null&&w in h&&(h=this.h,w in h&&delete h[w])),this.j=new As(this)}m(Rn,ot),Rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){ch(this.g)},Rn.prototype.o=function(h){var w=this.g;if(typeof h=="string"){var A={};A.__data__=h,h=A}else this.u&&(A={},A.__data__=qa(h),h=A);w.i.push(new DA(w.Ya++,h)),w.G==3&&vc(w)},Rn.prototype.N=function(){this.g.l=null,delete this.j,ch(this.g),delete this.g,Rn.aa.N.call(this)};function nv(h){Ya.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var w=h.__sm__;if(w){e:{for(const A in w){h=A;break e}h=void 0}(this.i=h)&&(h=this.i,w=w!==null&&h in w?w[h]:void 0),this.data=w}else this.data=h}m(nv,Ya);function rv(){Qa.call(this),this.status=1}m(rv,Qa);function As(h){this.g=h}m(As,tv),As.prototype.ua=function(){Ot(this.g,"a")},As.prototype.ta=function(h){Ot(this.g,new nv(h))},As.prototype.sa=function(h){Ot(this.g,new rv)},As.prototype.ra=function(){Ot(this.g,"b")},wc.prototype.createWebChannel=wc.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,J6=function(){return new wc},Z6=function(){return Es()},Q6=Or,y2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lc.NO_ERROR=0,lc.TIMEOUT=8,lc.HTTP_ERROR=6,m0=lc,_y.COMPLETE="complete",Y6=_y,sc.EventType=ho,ho.OPEN="a",ho.CLOSE="b",ho.ERROR="c",ho.MESSAGE="d",ot.prototype.listen=ot.prototype.K,Du=sc,X6=ru,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,K6=it}).apply(typeof Hc<"u"?Hc:typeof self<"u"?self:typeof window<"u"?window:{});const rw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ma="10.13.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new pg("@firebase/firestore");function vu(){return as.logLevel}function se(t,...e){if(as.logLevel<=Ee.DEBUG){const n=e.map(yg);as.debug(`Firestore (${Ma}): ${t}`,...n)}}function to(t,...e){if(as.logLevel<=Ee.ERROR){const n=e.map(yg);as.error(`Firestore (${Ma}): ${t}`,...n)}}function ga(t,...e){if(as.logLevel<=Ee.WARN){const n=e.map(yg);as.warn(`Firestore (${Ma}): ${t}`,...n)}}function yg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t="Unexpected state"){const e=`FIRESTORE (${Ma}) INTERNAL ASSERTION FAILED: `+t;throw to(e),new Error(e)}function Ue(t,e){t||he()}function ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends ao{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(en.UNAUTHENTICATED))}shutdown(){}}class KP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class XP{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const o=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new ti;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ti,e.enqueueRetryable(()=>o(this.currentUser))};const s=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await o(this.currentUser)})},a=u=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ti)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ue(typeof r.accessToken=="string"),new e3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new en(e)}}class YP{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=en.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class QP{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new YP(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ZP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.R;return this.R=i.token,se("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const o=i=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>o(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?o(i):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string"),this.R=n.token,new ZP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=eD(40);for(let i=0;i<o.length;++i)r.length<20&&o[i]<n&&(r+=e.charAt(o[i]%e.length))}return r}}function Re(t,e){return t<e?-1:t>e?1:0}function ya(t,e,n){return t.length===e.length&&t.every((r,o)=>n(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ie(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new gt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new me(e)}static min(){return new me(new gt(0,0))}static max(){return new me(new gt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(),r===void 0?r=e.length-n:r>e.length-n&&he(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Il.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Il?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const i=e.get(o),s=n.get(o);if(i<s)return-1;if(i>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ge extends Il{construct(e,n,r){return new Ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ie(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(o=>o.length>0))}return new Ge(n)}static emptyPath(){return new Ge([])}}const tD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lt extends Il{construct(e,n,r){return new Lt(e,n,r)}static isValidIdentifier(e){return tD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Lt(["__name__"])}static fromServerFormat(e){const n=[];let r="",o=0;const i=()=>{if(r.length===0)throw new ie(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;o<e.length;){const a=e[o];if(a==="\\"){if(o+1===e.length)throw new ie(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[o+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ie(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,o+=2}else a==="`"?(s=!s,o++):a!=="."||s?(r+=a,o++):(i(),o++)}if(i(),s)throw new ie(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lt(n)}static emptyPath(){return new Lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(Ge.fromString(e))}static fromName(e){return new ue(Ge.fromString(e).popFirst(5))}static empty(){return new ue(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new Ge(e.slice()))}}function nD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=me.fromTimestamp(r===1e9?new gt(n+1,0):new gt(n,r));return new ui(o,ue.empty(),e)}function rD(t){return new ui(t.readTime,t.key,-1)}class ui{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ui(me.min(),ue.empty(),-1)}static max(){return new ui(me.max(),ue.empty(),-1)}}function oD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(t.documentKey,e.documentKey),n!==0?n:Re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==iD)throw t;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new X((r,o)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,o)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):X.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):X.reject(n)}static resolve(e){return new X((n,r)=>{n(e)})}static reject(e){return new X((n,r)=>{r(e)})}static waitFor(e){return new X((n,r)=>{let o=0,i=0,s=!1;e.forEach(a=>{++o,a.next(()=>{++i,s&&i===o&&n()},u=>r(u))}),s=!0,i===o&&n()})}static or(e){let n=X.resolve(!1);for(const r of e)n=n.next(o=>o?X.resolve(o):r());return n}static forEach(e,n){const r=[];return e.forEach((o,i)=>{r.push(n.call(this,o,i))}),this.waitFor(r)}static mapArray(e,n){return new X((r,o)=>{const i=e.length,s=new Array(i);let a=0;for(let u=0;u<i;u++){const l=u;n(e[l]).next(c=>{s[l]=c,++a,a===i&&r(s)},c=>o(c))}})}static doWhile(e,n){return new X((r,o)=>{const i=()=>{e()===!0?n().next(()=>{i()},o):r()};i()})}}function aD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Kl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}vg.oe=-1;function Sd(t){return t==null}function gf(t){return t===0&&1/t==-1/0}function uD(t){return typeof t=="number"&&Number.isInteger(t)&&!gf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ps(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function n3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zc(this.root,e,this.comparator,!0)}}class zc{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&o&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,r,o,i){this.key=e,this.value=n,this.color=r??Ft.RED,this.left=o??Ft.EMPTY,this.right=i??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,i){return new Ft(e??this.key,n??this.value,r??this.color,o??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const i=r(e,o.key);return o=i<0?o.copy(null,null,null,o.left.insert(e,n,r),null):i===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();const e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(e,n,r,o,i){return this}insert(e,n,r){return new Ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new iw(this.data.getIterator())}getIteratorFrom(e){return new iw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,i=r.getNext().key;if(this.comparator(o,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ht(this.comparator);return n.data=e,n}}class iw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.fields=e,e.sort(Lt.comparator)}static empty(){return new Bn([])}unionWith(e){let n=new Ht(Lt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ya(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new r3("Invalid base64 string: "+i):i}}(e);return new Gt(n)}static fromUint8Array(e){const n=function(o){let i="";for(let s=0;s<o.length;++s)i+=String.fromCharCode(o[s]);return i}(e);return new Gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const lD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function li(t){if(Ue(!!t),typeof t=="string"){let e=0;const n=lD.exec(t);if(Ue(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ct(t.seconds),nanos:ct(t.nanos)}}function ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function us(t){return typeof t=="string"?Gt.fromBase64String(t):Gt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function wg(t){const e=t.mapValue.fields.__previous_value__;return _g(e)?wg(e):e}function Tl(t){const e=li(t.mapValue.fields.__local_write_time__.timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,n,r,o,i,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class Sl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Sl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Sl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ls(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_g(t)?4:dD(t)?9007199254740991:fD(t)?10:11:he()}function Dr(t,e){if(t===e)return!0;const n=ls(t);if(n!==ls(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tl(t).isEqual(Tl(e));case 3:return function(o,i){if(typeof o.timestampValue=="string"&&typeof i.timestampValue=="string"&&o.timestampValue.length===i.timestampValue.length)return o.timestampValue===i.timestampValue;const s=li(o.timestampValue),a=li(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,i){return us(o.bytesValue).isEqual(us(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,i){return ct(o.geoPointValue.latitude)===ct(i.geoPointValue.latitude)&&ct(o.geoPointValue.longitude)===ct(i.geoPointValue.longitude)}(t,e);case 2:return function(o,i){if("integerValue"in o&&"integerValue"in i)return ct(o.integerValue)===ct(i.integerValue);if("doubleValue"in o&&"doubleValue"in i){const s=ct(o.doubleValue),a=ct(i.doubleValue);return s===a?gf(s)===gf(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ya(t.arrayValue.values||[],e.arrayValue.values||[],Dr);case 10:case 11:return function(o,i){const s=o.mapValue.fields||{},a=i.mapValue.fields||{};if(ow(s)!==ow(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Dr(s[u],a[u])))return!1;return!0}(t,e);default:return he()}}function bl(t,e){return(t.values||[]).find(n=>Dr(n,e))!==void 0}function va(t,e){if(t===e)return 0;const n=ls(t),r=ls(e);if(n!==r)return Re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(i,s){const a=ct(i.integerValue||i.doubleValue),u=ct(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return sw(t.timestampValue,e.timestampValue);case 4:return sw(Tl(t),Tl(e));case 5:return Re(t.stringValue,e.stringValue);case 6:return function(i,s){const a=us(i),u=us(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const a=i.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){const c=Re(a[l],u[l]);if(c!==0)return c}return Re(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const a=Re(ct(i.latitude),ct(s.latitude));return a!==0?a:Re(ct(i.longitude),ct(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return aw(t.arrayValue,e.arrayValue);case 10:return function(i,s){var a,u,l,c;const f=i.fields||{},d=s.fields||{},p=(a=f.value)===null||a===void 0?void 0:a.arrayValue,m=(u=d.value)===null||u===void 0?void 0:u.arrayValue,y=Re(((l=p==null?void 0:p.values)===null||l===void 0?void 0:l.length)||0,((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0);return y!==0?y:aw(p,m)}(t.mapValue,e.mapValue);case 11:return function(i,s){if(i===Wc.mapValue&&s===Wc.mapValue)return 0;if(i===Wc.mapValue)return 1;if(s===Wc.mapValue)return-1;const a=i.fields||{},u=Object.keys(a),l=s.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let f=0;f<u.length&&f<c.length;++f){const d=Re(u[f],c[f]);if(d!==0)return d;const p=va(a[u[f]],l[c[f]]);if(p!==0)return p}return Re(u.length,c.length)}(t.mapValue,e.mapValue);default:throw he()}}function sw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Re(t,e);const n=li(t),r=li(e),o=Re(n.seconds,r.seconds);return o!==0?o:Re(n.nanos,r.nanos)}function aw(t,e){const n=t.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const i=va(n[o],r[o]);if(i)return i}return Re(n.length,r.length)}function _a(t){return v2(t)}function v2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=li(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return us(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ue.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",o=!0;for(const i of n.values||[])o?o=!1:r+=",",r+=v2(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let o="{",i=!0;for(const s of r)i?i=!1:o+=",",o+=`${s}:${v2(n.fields[s])}`;return o+"}"}(t.mapValue):he()}function uw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function _2(t){return!!t&&"integerValue"in t}function Eg(t){return!!t&&"arrayValue"in t}function lw(t){return!!t&&"nullValue"in t}function cw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function g0(t){return!!t&&"mapValue"in t}function fD(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ku(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ps(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ku(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ku(t.arrayValue.values[n]);return e}return Object.assign({},t)}function dD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!g0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ku(n)}setAll(e){let n=Lt.emptyPath(),r={},o=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,o),r={},o=[],n=a.popLast()}s?r[a.lastSegment()]=Ku(s):o.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,o)}delete(e){const n=this.field(e.popLast());g0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];g0(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){ps(n,(o,i)=>e[o]=i);for(const o of r)delete e[o]}clone(){return new En(Ku(this.value))}}function o3(t){const e=[];return ps(t.fields,(n,r)=>{const o=new Lt([n]);if(g0(r)){const i=o3(r.mapValue).fields;if(i.length===0)e.push(o);else for(const s of i)e.push(o.child(s))}else e.push(o)}),new Bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n,r,o,i,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new nn(e,0,me.min(),me.min(),me.min(),En.empty(),0)}static newFoundDocument(e,n,r,o){return new nn(e,1,n,me.min(),r,o,0)}static newNoDocument(e,n){return new nn(e,2,n,me.min(),me.min(),En.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,me.min(),me.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,n){this.position=e,this.inclusive=n}}function fw(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const i=e[o],s=t.position[o];if(i.field.isKeyField()?r=ue.comparator(ue.fromName(s.referenceValue),n.key):r=va(s,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function dw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Dr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n="asc"){this.field=e,this.dir=n}}function hD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{}class mt extends i3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new mD(e,n,r):n==="array-contains"?new vD(e,r):n==="in"?new _D(e,r):n==="not-in"?new wD(e,r):n==="array-contains-any"?new ED(e,r):new mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new gD(e,r):new yD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(va(n,this.value)):n!==null&&ls(this.value)===ls(n)&&this.matchesComparison(va(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mr extends i3{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new mr(e,n)}matches(e){return s3(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function s3(t){return t.op==="and"}function a3(t){return pD(t)&&s3(t)}function pD(t){for(const e of t.filters)if(e instanceof mr)return!1;return!0}function w2(t){if(t instanceof mt)return t.field.canonicalString()+t.op.toString()+_a(t.value);if(a3(t))return t.filters.map(e=>w2(e)).join(",");{const e=t.filters.map(n=>w2(n)).join(",");return`${t.op}(${e})`}}function u3(t,e){return t instanceof mt?function(r,o){return o instanceof mt&&r.op===o.op&&r.field.isEqual(o.field)&&Dr(r.value,o.value)}(t,e):t instanceof mr?function(r,o){return o instanceof mr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((i,s,a)=>i&&u3(s,o.filters[a]),!0):!1}(t,e):void he()}function l3(t){return t instanceof mt?function(n){return`${n.field.canonicalString()} ${n.op} ${_a(n.value)}`}(t):t instanceof mr?function(n){return n.op.toString()+" {"+n.getFilters().map(l3).join(" ,")+"}"}(t):"Filter"}class mD extends mt{constructor(e,n,r){super(e,n,r),this.key=ue.fromName(r.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class gD extends mt{constructor(e,n){super(e,"in",n),this.keys=c3("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class yD extends mt{constructor(e,n){super(e,"not-in",n),this.keys=c3("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function c3(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ue.fromName(r.referenceValue))}class vD extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Eg(n)&&bl(n.arrayValue,this.value)}}class _D extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&bl(this.value.arrayValue,n)}}class wD extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!bl(this.value.arrayValue,n)}}class ED extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Eg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>bl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,n=null,r=[],o=[],i=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=i,this.startAt=s,this.endAt=a,this.ue=null}}function hw(t,e=null,n=[],r=[],o=null,i=null,s=null){return new xD(t,e,n,r,o,i,s)}function xg(t){const e=ge(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>w2(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Sd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>_a(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>_a(r)).join(",")),e.ue=n}return e.ue}function Cg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!hD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!u3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!dw(t.startAt,e.startAt)&&dw(t.endAt,e.endAt)}function E2(t){return ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n=null,r=[],o=[],i=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function CD(t,e,n,r,o,i,s,a){return new Fa(t,e,n,r,o,i,s,a)}function Ag(t){return new Fa(t)}function pw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function f3(t){return t.collectionGroup!==null}function Xu(t){const e=ge(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ht(Lt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Rl(i,r))}),n.has(Lt.keyField().canonicalString())||e.ce.push(new Rl(Lt.keyField(),r))}return e.ce}function Sr(t){const e=ge(t);return e.le||(e.le=AD(e,Xu(t))),e.le}function AD(t,e){if(t.limitType==="F")return hw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(o=>{const i=o.dir==="desc"?"asc":"desc";return new Rl(o.field,i)});const n=t.endAt?new yf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new yf(t.startAt.position,t.startAt.inclusive):null;return hw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function x2(t,e){const n=t.filters.concat([e]);return new Fa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function C2(t,e,n){return new Fa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bd(t,e){return Cg(Sr(t),Sr(e))&&t.limitType===e.limitType}function d3(t){return`${xg(Sr(t))}|lt:${t.limitType}`}function Ss(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(o=>l3(o)).join(", ")}]`),Sd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(o=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(o)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(o=>_a(o)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(o=>_a(o)).join(",")),`Target(${r})`}(Sr(t))}; limitType=${t.limitType})`}function Rd(t,e){return e.isFoundDocument()&&function(r,o){const i=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ue.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,o){for(const i of Xu(r))if(!i.field.isKeyField()&&o.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,o){for(const i of r.filters)if(!i.matches(o))return!1;return!0}(t,e)&&function(r,o){return!(r.startAt&&!function(s,a,u){const l=fw(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Xu(r),o)||r.endAt&&!function(s,a,u){const l=fw(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Xu(r),o))}(t,e)}function ID(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function h3(t){return(e,n)=>{let r=!1;for(const o of Xu(t)){const i=TD(o,e,n);if(i!==0)return i;r=r||o.field.isKeyField()}return 0}}function TD(t,e,n){const r=t.field.isKeyField()?ue.comparator(e.key,n.key):function(i,s,a){const u=s.data.field(i),l=a.data.field(i);return u!==null&&l!==null?va(u,l):he()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,i]of r)if(this.equalsFn(o,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<o.length;i++)if(this.equalsFn(o[i][0],e))return void(o[i]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ps(this.inner,(n,r)=>{for(const[o,i]of r)e(o,i)})}isEmpty(){return n3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=new rt(ue.comparator);function no(){return SD}const p3=new rt(ue.comparator);function Nu(...t){let e=p3;for(const n of t)e=e.insert(n.key,n);return e}function m3(t){let e=p3;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Wi(){return Yu()}function g3(){return Yu()}function Yu(){return new La(t=>t.toString(),(t,e)=>t.isEqual(e))}const bD=new rt(ue.comparator),RD=new Ht(ue.comparator);function _e(...t){let e=RD;for(const n of t)e=e.add(n);return e}const PD=new Ht(Re);function DD(){return PD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gf(e)?"-0":e}}function y3(t){return{integerValue:""+t}}function ND(t,e){return uD(e)?y3(e):Ig(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(){this._=void 0}}function OD(t,e,n){return t instanceof vf?function(o,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return i&&_g(i)&&(i=wg(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Pl?_3(t,e):t instanceof Dl?w3(t,e):function(o,i){const s=v3(o,i),a=mw(s)+mw(o.Pe);return _2(s)&&_2(o.Pe)?y3(a):Ig(o.serializer,a)}(t,e)}function kD(t,e,n){return t instanceof Pl?_3(t,e):t instanceof Dl?w3(t,e):n}function v3(t,e){return t instanceof _f?function(r){return _2(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class vf extends Pd{}class Pl extends Pd{constructor(e){super(),this.elements=e}}function _3(t,e){const n=E3(e);for(const r of t.elements)n.some(o=>Dr(o,r))||n.push(r);return{arrayValue:{values:n}}}class Dl extends Pd{constructor(e){super(),this.elements=e}}function w3(t,e){let n=E3(e);for(const r of t.elements)n=n.filter(o=>!Dr(o,r));return{arrayValue:{values:n}}}class _f extends Pd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function mw(t){return ct(t.integerValue||t.doubleValue)}function E3(t){return Eg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function BD(t,e){return t.field.isEqual(e.field)&&function(r,o){return r instanceof Pl&&o instanceof Pl||r instanceof Dl&&o instanceof Dl?ya(r.elements,o.elements,Dr):r instanceof _f&&o instanceof _f?Dr(r.Pe,o.Pe):r instanceof vf&&o instanceof vf}(t.transform,e.transform)}class MD{constructor(e,n){this.version=e,this.transformResults=n}}class Qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qn}static exists(e){return new Qn(void 0,e)}static updateTime(e){return new Qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function y0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Dd{}function x3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Tg(t.key,Qn.none()):new Xl(t.key,t.data,Qn.none());{const n=t.data,r=En.empty();let o=new Ht(Lt.comparator);for(let i of e.fields)if(!o.has(i)){let s=n.field(i);s===null&&i.length>1&&(i=i.popLast(),s=n.field(i)),s===null?r.delete(i):r.set(i,s),o=o.add(i)}return new gi(t.key,r,new Bn(o.toArray()),Qn.none())}}function FD(t,e,n){t instanceof Xl?function(o,i,s){const a=o.value.clone(),u=yw(o.fieldTransforms,i,s.transformResults);a.setAll(u),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof gi?function(o,i,s){if(!y0(o.precondition,i))return void i.convertToUnknownDocument(s.version);const a=yw(o.fieldTransforms,i,s.transformResults),u=i.data;u.setAll(C3(o)),u.setAll(a),i.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(o,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Qu(t,e,n,r){return t instanceof Xl?function(i,s,a,u){if(!y0(i.precondition,s))return a;const l=i.value.clone(),c=vw(i.fieldTransforms,u,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof gi?function(i,s,a,u){if(!y0(i.precondition,s))return a;const l=vw(i.fieldTransforms,u,s),c=s.data;return c.setAll(C3(i)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,s,a){return y0(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function LD(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),i=v3(r.transform,o||null);i!=null&&(n===null&&(n=En.empty()),n.set(r.field,i))}return n||null}function gw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ya(r,o,(i,s)=>BD(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xl extends Dd{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class gi extends Dd{constructor(e,n,r,o,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function C3(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function yw(t,e,n){const r=new Map;Ue(t.length===n.length);for(let o=0;o<n.length;o++){const i=t[o],s=i.transform,a=e.data.field(i.field);r.set(i.field,kD(s,a,n[o]))}return r}function vw(t,e,n){const r=new Map;for(const o of t){const i=o.transform,s=n.data.field(o.field);r.set(o.field,OD(i,s,e))}return r}class Tg extends Dd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VD extends Dd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const i=this.mutations[o];i.key.isEqual(e.key)&&FD(i,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Qu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Qu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=g3();return this.mutations.forEach(o=>{const i=e.get(o.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=n.has(o.key)?null:a;const u=x3(s,a);u!==null&&r.set(o.key,u),s.isValidDocument()||s.convertToNoDocument(me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&ya(this.mutations,e.mutations,(n,r)=>gw(n,r))&&ya(this.baseMutations,e.baseMutations,(n,r)=>gw(n,r))}}class Sg{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){Ue(e.mutations.length===r.length);let o=function(){return bD}();const i=e.mutations;for(let s=0;s<i.length;s++)o=o.insert(i[s].key,r[s].version);return new Sg(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht,Ce;function HD(t){switch(t){default:return he();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function A3(t){if(t===void 0)return to("GRPC error has no .code"),q.UNKNOWN;switch(t){case ht.OK:return q.OK;case ht.CANCELLED:return q.CANCELLED;case ht.UNKNOWN:return q.UNKNOWN;case ht.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case ht.INTERNAL:return q.INTERNAL;case ht.UNAVAILABLE:return q.UNAVAILABLE;case ht.UNAUTHENTICATED:return q.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case ht.NOT_FOUND:return q.NOT_FOUND;case ht.ALREADY_EXISTS:return q.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return q.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case ht.ABORTED:return q.ABORTED;case ht.OUT_OF_RANGE:return q.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return q.UNIMPLEMENTED;case ht.DATA_LOSS:return q.DATA_LOSS;default:return he()}}(Ce=ht||(ht={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=new Qi([4294967295,4294967295],0);function _w(t){const e=zD().encode(t),n=new q6;return n.update(e),new Uint8Array(n.digest())}function ww(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Qi([n,r],0),new Qi([o,i],0)]}class bg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ou(`Invalid padding: ${n}`);if(r<0)throw new Ou(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ou(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ou(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Qi.fromNumber(this.Ie)}Ee(e,n,r){let o=e.add(n.multiply(Qi.fromNumber(r)));return o.compare(WD)===1&&(o=new Qi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=_w(e),[r,o]=ww(n);for(let i=0;i<this.hashCount;i++){const s=this.Ee(r,o,i);if(!this.de(s))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new bg(i,o,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=_w(e),[r,o]=ww(n);for(let i=0;i<this.hashCount;i++){const s=this.Ee(r,o,i);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n,r,o,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Yl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Nd(me.min(),o,new rt(Re),no(),_e())}}class Yl{constructor(e,n,r,o,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Yl(r,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,n,r,o){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=o}}class I3{constructor(e,n){this.targetId=e,this.me=n}}class T3{constructor(e,n,r=Gt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class Ew{constructor(){this.fe=0,this.ge=Cw(),this.pe=Gt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=_e(),n=_e(),r=_e();return this.ge.forEach((o,i)=>{switch(i){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:he()}}),new Yl(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Cw()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ue(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class GD{constructor(e){this.Le=e,this.Be=new Map,this.ke=no(),this.qe=xw(),this.Qe=new rt(Re)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:he()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,o)=>{this.ze(o)&&n(o)})}He(e){const n=e.targetId,r=e.me.count,o=this.Je(n);if(o){const i=o.target;if(E2(i))if(r===0){const s=new ue(i.path);this.Ue(n,s,nn.newNoDocument(s,me.min()))}else Ue(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);const l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:i=0}=n;let s,a;try{s=us(r).toUint8Array()}catch(u){if(u instanceof r3)return ga("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new bg(s,o,i)}catch(u){return ga(u instanceof Ou?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let o=0;return r.forEach(i=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),o++)}),o}rt(e){const n=new Map;this.Be.forEach((i,s)=>{const a=this.Je(s);if(a){if(i.current&&E2(a.target)){const u=new ue(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,nn.newNoDocument(u,e))}i.be&&(n.set(s,i.ve()),i.Ce())}});let r=_e();this.qe.forEach((i,s)=>{let a=!0;s.forEachWhile(u=>{const l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,s)=>s.setReadTime(e));const o=new Nd(e,n,this.Qe,this.ke,r);return this.ke=no(),this.qe=xw(),this.Qe=new rt(Re),o}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,n)?o.Fe(n,1):o.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Ew,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ht(Re),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ew),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function xw(){return new rt(ue.comparator)}function Cw(){return new rt(ue.comparator)}const qD=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),KD=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),XD=(()=>({and:"AND",or:"OR"}))();class YD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function A2(t,e){return t.useProto3Json||Sd(e)?e:{value:e}}function wf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function S3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function QD(t,e){return wf(t,e.toTimestamp())}function br(t){return Ue(!!t),me.fromTimestamp(function(n){const r=li(n);return new gt(r.seconds,r.nanos)}(t))}function Rg(t,e){return I2(t,e).canonicalString()}function I2(t,e){const n=function(o){return new Ge(["projects",o.projectId,"databases",o.database])}(t).child("documents");return e===void 0?n:n.child(e)}function b3(t){const e=Ge.fromString(t);return Ue(O3(e)),e}function T2(t,e){return Rg(t.databaseId,e.path)}function l1(t,e){const n=b3(e);if(n.get(1)!==t.databaseId.projectId)throw new ie(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ie(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ue(P3(n))}function R3(t,e){return Rg(t.databaseId,e)}function ZD(t){const e=b3(t);return e.length===4?Ge.emptyPath():P3(e)}function S2(t){return new Ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function P3(t){return Ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Aw(t,e,n){return{name:T2(t,e),fields:n.value.mapValue.fields}}function JD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:he()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],i=function(l,c){return l.useProto3Json?(Ue(c===void 0||typeof c=="string"),Gt.fromBase64String(c||"")):(Ue(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Gt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const c=l.code===void 0?q.UNKNOWN:A3(l.code);return new ie(c,l.message||"")}(s);n=new T3(r,o,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=l1(t,r.document.name),i=br(r.document.updateTime),s=r.document.createTime?br(r.document.createTime):me.min(),a=new En({mapValue:{fields:r.document.fields}}),u=nn.newFoundDocument(o,i,s,a),l=r.targetIds||[],c=r.removedTargetIds||[];n=new v0(l,c,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=l1(t,r.document),i=r.readTime?br(r.readTime):me.min(),s=nn.newNoDocument(o,i),a=r.removedTargetIds||[];n=new v0([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=l1(t,r.document),i=r.removedTargetIds||[];n=new v0([],i,o,null)}else{if(!("filter"in e))return he();{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:i}=r,s=new $D(o,i),a=r.targetId;n=new I3(a,s)}}return n}function eN(t,e){let n;if(e instanceof Xl)n={update:Aw(t,e.key,e.value)};else if(e instanceof Tg)n={delete:T2(t,e.key)};else if(e instanceof gi)n={update:Aw(t,e.key,e.data),updateMask:lN(e.fieldMask)};else{if(!(e instanceof VD))return he();n={verify:T2(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const a=s.transform;if(a instanceof vf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Pl)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Dl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof _f)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw he()}(0,r))),e.precondition.isNone||(n.currentDocument=function(o,i){return i.updateTime!==void 0?{updateTime:QD(o,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:he()}(t,e.precondition)),n}function tN(t,e){return t&&t.length>0?(Ue(e!==void 0),t.map(n=>function(o,i){let s=o.updateTime?br(o.updateTime):br(i);return s.isEqual(me.min())&&(s=br(i)),new MD(s,o.transformResults||[])}(n,e))):[]}function nN(t,e){return{documents:[R3(t,e.path)]}}function rN(t,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=R3(t,o);const i=function(l){if(l.length!==0)return N3(mr.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(c=>function(d){return{field:bs(d.field),direction:sN(d.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=A2(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:o}}function oN(t){let e=ZD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Ue(r===1);const c=n.from[0];c.allDescendants?o=c.collectionId:e=e.child(c.collectionId)}let i=[];n.where&&(i=function(f){const d=D3(f);return d instanceof mr&&a3(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(d=>function(m){return new Rl(Rs(m.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,Sd(d)?null:d}(n.limit));let u=null;n.startAt&&(u=function(f){const d=!!f.before,p=f.values||[];return new yf(p,d)}(n.startAt));let l=null;return n.endAt&&(l=function(f){const d=!f.before,p=f.values||[];return new yf(p,d)}(n.endAt)),CD(e,o,s,i,a,"F",u,l)}function iN(t,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function D3(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Rs(n.unaryFilter.field);return mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Rs(n.unaryFilter.field);return mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Rs(n.unaryFilter.field);return mt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Rs(n.unaryFilter.field);return mt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(t):t.fieldFilter!==void 0?function(n){return mt.create(Rs(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return mr.create(n.compositeFilter.filters.map(r=>D3(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return he()}}(n.compositeFilter.op))}(t):he()}function sN(t){return qD[t]}function aN(t){return KD[t]}function uN(t){return XD[t]}function bs(t){return{fieldPath:t.canonicalString()}}function Rs(t){return Lt.fromServerFormat(t.fieldPath)}function N3(t){return t instanceof mt?function(n){if(n.op==="=="){if(cw(n.value))return{unaryFilter:{field:bs(n.field),op:"IS_NAN"}};if(lw(n.value))return{unaryFilter:{field:bs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(cw(n.value))return{unaryFilter:{field:bs(n.field),op:"IS_NOT_NAN"}};if(lw(n.value))return{unaryFilter:{field:bs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bs(n.field),op:aN(n.op),value:n.value}}}(t):t instanceof mr?function(n){const r=n.getFilters().map(o=>N3(o));return r.length===1?r[0]:{compositeFilter:{op:uN(n.op),filters:r}}}(t):he()}function lN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function O3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n,r,o,i=me.min(),s=me.min(),a=Gt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Lo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Lo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e){this.ct=e}}function fN(t){const e=oN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?C2(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(){this.un=new hN}addToCollectionParentIndex(e,n){return this.un.add(n),X.resolve()}getCollectionParents(e,n){return X.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return X.resolve()}deleteFieldIndex(e,n){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,n){return X.resolve()}getDocumentsMatchingTarget(e,n){return X.resolve(null)}getIndexType(e,n){return X.resolve(0)}getFieldIndexes(e,n){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,n){return X.resolve(ui.min())}getMinOffsetFromCollectionGroup(e,n){return X.resolve(ui.min())}updateCollectionGroup(e,n,r){return X.resolve()}updateIndexEntries(e,n){return X.resolve()}}class hN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Ht(Ge.comparator),i=!o.has(r);return this.index[n]=o.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ht(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new wa(0)}static kn(){return new wa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(){this.changes=new La(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?X.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(r!==null&&Qu(r.mutation,o,Bn.empty(),gt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){const o=Wi();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,r).next(i=>{let s=Nu();return i.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Wi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){const o=[];return r.forEach(i=>{n.has(i)||o.push(i)}),this.documentOverlayCache.getOverlays(e,o).next(i=>{i.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,o){let i=no();const s=Yu(),a=function(){return Yu()}();return n.forEach((u,l)=>{const c=r.get(l.key);o.has(l.key)&&(c===void 0||c.mutation instanceof gi)?i=i.insert(l.key,l):c!==void 0?(s.set(l.key,c.mutation.getFieldMask()),Qu(c.mutation,l,c.mutation.getFieldMask(),gt.now())):s.set(l.key,Bn.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((l,c)=>s.set(l,c)),n.forEach((l,c)=>{var f;return a.set(l,new mN(c,(f=s.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Yu();let o=new rt((s,a)=>s-a),i=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||Bn.empty();c=a.applyToLocalView(l,c),r.set(u,c);const f=(o.get(a.batchId)||_e()).add(u);o=o.insert(a.batchId,f)})}).next(()=>{const s=[],a=o.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,f=g3();c.forEach(d=>{if(!i.has(d)){const p=x3(n.get(d),r.get(d));p!==null&&f.set(d,p),i=i.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,f))}return X.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,o){return function(s){return ue.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):f3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next(i=>{const s=o-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-i.size):X.resolve(Wi());let a=-1,u=i;return s.next(l=>X.forEach(l,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(c)?X.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{u=u.insert(c,d)}))).next(()=>this.populateOverlays(e,l,i)).next(()=>this.computeViews(e,u,l,_e())).next(c=>({batchId:a,changes:m3(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(r=>{let o=Nu();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const i=n.collectionGroup;let s=Nu();return this.indexManager.getCollectionParents(e,i).next(a=>X.forEach(a,u=>{const l=function(f,d){return new Fa(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r,o).next(c=>{c.forEach((f,d)=>{s=s.insert(f,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,o){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,o))).next(s=>{i.forEach((u,l)=>{const c=l.getKey();s.get(c)===null&&(s=s.insert(c,nn.newInvalidDocument(c)))});let a=Nu();return s.forEach((u,l)=>{const c=i.get(u);c!==void 0&&Qu(c.mutation,l,Bn.empty(),gt.now()),Rd(n,l)&&(a=a.insert(u,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return X.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:br(o.createTime)}}(n)),X.resolve()}getNamedQuery(e,n){return X.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(o){return{name:o.name,query:fN(o.bundledQuery),readTime:br(o.readTime)}}(n)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(){this.overlays=new rt(ue.comparator),this.Ir=new Map}getOverlay(e,n){return X.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wi();return X.forEach(n,o=>this.getOverlay(e,o).next(i=>{i!==null&&r.set(o,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((o,i)=>{this.ht(e,n,i)}),X.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Ir.get(r);return o!==void 0&&(o.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),X.resolve()}getOverlaysForCollection(e,n,r){const o=Wi(),i=n.length+1,s=new ue(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===i&&u.largestBatchId>r&&o.set(u.getKey(),u)}return X.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let i=new rt((l,c)=>l-c);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=i.get(l.largestBatchId);c===null&&(c=Wi(),i=i.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=Wi(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=o)););return X.resolve(a)}ht(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const s=this.Ir.get(o.largestBatchId).delete(r.key);this.Ir.set(o.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new UD(n,r));let i=this.Ir.get(n);i===void 0&&(i=_e(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(){this.Tr=new Ht(Tt.Er),this.dr=new Ht(Tt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Tt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Tt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ue(new Ge([])),r=new Tt(n,e),o=new Tt(n,e+1),i=[];return this.dr.forEachInRange([r,o],s=>{this.Vr(s),i.push(s.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ue(new Ge([])),r=new Tt(n,e),o=new Tt(n,e+1);let i=_e();return this.dr.forEachInRange([r,o],s=>{i=i.add(s.key)}),i}containsKey(e){const n=new Tt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Tt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ue.comparator(e.key,n.key)||Re(e.wr,n.wr)}static Ar(e,n){return Re(e.wr,n.wr)||ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ht(Tt.Er)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new jD(i,n,r,o);this.mutationQueue.push(s);for(const a of o)this.br=this.br.add(new Tt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return X.resolve(s)}lookupMutationBatch(e,n){return X.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.vr(r),i=o<0?0:o;return X.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Tt(n,0),o=new Tt(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,o],s=>{const a=this.Dr(s.wr);i.push(a)}),X.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ht(Re);return n.forEach(o=>{const i=new Tt(o,0),s=new Tt(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,s],a=>{r=r.add(a.wr)})}),X.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let i=r;ue.isDocumentKey(i)||(i=i.child(""));const s=new Tt(new ue(i),0);let a=new Ht(Re);return this.br.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===o&&(a=a.add(u.wr)),!0)},s),X.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const o=this.Dr(r);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ue(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return X.forEach(n.mutations,o=>{const i=new Tt(o.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Tt(n,0),o=this.br.firstAfterOrEqual(r);return X.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e){this.Mr=e,this.docs=function(){return new rt(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),i=o?o.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return X.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let r=no();return n.forEach(o=>{const i=this.docs.get(o);r=r.insert(o,i?i.document.mutableCopy():nn.newInvalidDocument(o))}),X.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let i=no();const s=n.path,a=new ue(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||oD(rD(c),r)<=0||(o.has(c.key)||Rd(n,c))&&(i=i.insert(c.key,c.mutableCopy()))}return X.resolve(i)}getAllFromCollectionGroup(e,n,r,o){he()}Or(e,n){return X.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new xN(this)}getSize(e){return X.resolve(this.size)}}class xN extends pN{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?n.push(this.cr.addEntry(e,o)):this.cr.removeEntry(r)}),X.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e){this.persistence=e,this.Nr=new La(n=>xg(n),Cg),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Pg,this.targetCount=0,this.kr=wa.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,o)=>n(o)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),X.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new wa(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,X.resolve()}updateTargetData(e,n){return this.Kn(n),X.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,n,r){let o=0;const i=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),o++)}),X.waitFor(i).next(()=>o)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return X.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),X.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const o=this.persistence.referenceDelegate,i=[];return o&&n.forEach(s=>{i.push(o.markPotentiallyOrphaned(e,s))}),X.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),X.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return X.resolve(r)}containsKey(e,n){return X.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,n){this.qr={},this.overlays={},this.Qr=new vg(0),this.Kr=!1,this.Kr=!0,this.$r=new _N,this.referenceDelegate=e(this),this.Ur=new CN(this),this.indexManager=new dN,this.remoteDocumentCache=function(o){return new EN(o)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new cN(n),this.Gr=new yN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new wN(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){se("MemoryPersistence","Starting transaction:",e);const o=new IN(this.Qr.next());return this.referenceDelegate.zr(),r(o).next(i=>this.referenceDelegate.jr(o).next(()=>i)).toPromise().then(i=>(o.raiseOnCommittedEvent(),i))}Hr(e,n){return X.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class IN extends sD{constructor(e){super(),this.currentSequenceNumber=e}}class Dg{constructor(e){this.persistence=e,this.Jr=new Pg,this.Yr=null}static Zr(e){return new Dg(e)}get Xr(){if(this.Yr)return this.Yr;throw he()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),X.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),X.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(o=>this.Xr.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.Xr,r=>{const o=ue.fromPath(r);return this.ei(e,o).next(i=>{i||n.removeEntry(o,me.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return X.or([()=>X.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=o}static Wi(e,n){let r=_e(),o=_e();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:o=o.add(i.doc.key)}return new Ng(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return DR()?8:aD(sn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,o){const i={result:null};return this.Yi(e,n).next(s=>{i.result=s}).next(()=>{if(!i.result)return this.Zi(e,n,o,r).next(s=>{i.result=s})}).next(()=>{if(i.result)return;const s=new TN;return this.Xi(e,n,s).next(a=>{if(i.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>i.result)}es(e,n,r,o){return r.documentReadCount<this.ji?(vu()<=Ee.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",Ss(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),X.resolve()):(vu()<=Ee.DEBUG&&se("QueryEngine","Query:",Ss(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.Hi*o?(vu()<=Ee.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",Ss(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sr(n))):X.resolve())}Yi(e,n){if(pw(n))return X.resolve(null);let r=Sr(n);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=C2(n,null,"F"),r=Sr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const s=_e(...i);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.ts(n,a);return this.ns(n,l,s,u.readTime)?this.Yi(e,C2(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,o){return pw(n)||o.isEqual(me.min())?X.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const s=this.ts(n,i);return this.ns(n,s,r,o)?X.resolve(null):(vu()<=Ee.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ss(n)),this.rs(e,s,n,nD(o,-1)).next(a=>a))})}ts(e,n){let r=new Ht(h3(e));return n.forEach((o,i)=>{Rd(e,i)&&(r=r.add(i))}),r}ns(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(o)>0)}Xi(e,n,r){return vu()<=Ee.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Ss(n)),this.Ji.getDocumentsMatchingQuery(e,n,ui.min(),r)}rs(e,n,r,o){return this.Ji.getDocumentsMatchingQuery(e,r,o).next(i=>(n.forEach(s=>{i=i.insert(s.key,s)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,n,r,o){this.persistence=e,this.ss=n,this.serializer=o,this.os=new rt(Re),this._s=new La(i=>xg(i),Cg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gN(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function RN(t,e,n,r){return new bN(t,e,n,r)}async function k3(t,e){const n=ge(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next(i=>(o=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const s=[],a=[];let u=_e();for(const l of o){s.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of i){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})}function PN(t,e){const n=ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,c){const f=l.batch,d=f.keys();let p=X.resolve();return d.forEach(m=>{p=p.next(()=>c.getEntry(u,m)).next(y=>{const _=l.docVersions.get(m);Ue(_!==null),y.version.compareTo(_)<0&&(f.applyToRemoteDocument(y,l),y.isValidDocument()&&(y.setReadTime(l.commitVersion),c.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=_e();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,o))})}function B3(t){const e=ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function DN(t,e){const n=ge(t),r=e.snapshotVersion;let o=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});o=n.os;const a=[];e.targetChanges.forEach((c,f)=>{const d=o.get(f);if(!d)return;a.push(n.Ur.removeMatchingKeys(i,c.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(i,c.addedDocuments,f)));let p=d.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Gt.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),o=o.insert(f,p),function(y,_,v){return y.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(d,p,c)&&a.push(n.Ur.updateTargetData(i,p))});let u=no(),l=_e();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,c))}),a.push(NN(i,s,e.documentUpdates).next(c=>{u=c.Ps,l=c.Is})),!r.isEqual(me.min())){const c=n.Ur.getLastRemoteSnapshotVersion(i).next(f=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(c)}return X.waitFor(a).next(()=>s.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,l)).next(()=>u)}).then(i=>(n.os=o,i))}function NN(t,e,n){let r=_e(),o=_e();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let s=no();return n.forEach((a,u)=>{const l=i.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(o=o.add(a)),u.isNoDocument()&&u.version.isEqual(me.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):se("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:o}})}function ON(t,e){const n=ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function kN(t,e){const n=ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return n.Ur.getTargetData(r,e).next(i=>i?(o=i,X.resolve(o)):n.Ur.allocateTargetId(r).next(s=>(o=new Lo(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=n.os.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function b2(t,e,n){const r=ge(t),o=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,s=>r.persistence.referenceDelegate.removeTarget(s,o))}catch(s){if(!Kl(s))throw s;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(o.target)}function Iw(t,e,n){const r=ge(t);let o=me.min(),i=_e();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,c){const f=ge(u),d=f._s.get(c);return d!==void 0?X.resolve(f.os.get(d)):f.Ur.getTargetData(l,c)}(r,s,Sr(e)).next(a=>{if(a)return o=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{i=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?o:me.min(),n?i:_e())).next(a=>(BN(r,ID(e),a),{documents:a,Ts:i})))}function BN(t,e,n){let r=t.us.get(e)||me.min();n.forEach((o,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class Tw{constructor(){this.activeTargetIds=DD()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MN{constructor(){this.so=new Tw,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Tw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gc=null;function c1(){return Gc===null?Gc=function(){return 268435456+Math.round(2147483648*Math.random())}():Gc++,"0x"+Gc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class jN extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${o}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${i}`}get Fo(){return!1}Mo(n,r,o,i,s){const a=c1(),u=this.xo(n,r.toUriEncodedString());se("RestConnection",`Sending RPC '${n}' ${a}:`,u,o);const l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,i,s),this.No(n,u,l,o).then(c=>(se("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw ga("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",u,"request:",o),c})}Lo(n,r,o,i,s,a){return this.Mo(n,r,o,i,s)}Oo(n,r,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ma}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,s)=>n[s]=i),o&&o.headers.forEach((i,s)=>n[s]=i)}xo(n,r){const o=LN[n];return`${this.Do}/v1/${r}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,o){const i=c1();return new Promise((s,a)=>{const u=new K6;u.setWithCredentials(!0),u.listenOnce(Y6.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case m0.NO_ERROR:const c=u.getResponseJson();se(Zt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(c)),s(c);break;case m0.TIMEOUT:se(Zt,`RPC '${e}' ${i} timed out`),a(new ie(q.DEADLINE_EXCEEDED,"Request time out"));break;case m0.HTTP_ERROR:const f=u.getStatus();if(se(Zt,`RPC '${e}' ${i} failed with status:`,f,"response text:",u.getResponseText()),f>0){let d=u.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d==null?void 0:d.error;if(p&&p.status&&p.message){const m=function(_){const v=_.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(v)>=0?v:q.UNKNOWN}(p.status);a(new ie(m,p.message))}else a(new ie(q.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ie(q.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{se(Zt,`RPC '${e}' ${i} completed.`)}});const l=JSON.stringify(o);se(Zt,`RPC '${e}' ${i} sending request:`,o),u.send(n,"POST",l,r,15)})}Bo(e,n,r){const o=c1(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=J6(),a=Z6(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new X6({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=i.join("");se(Zt,`Creating RPC '${e}' stream ${o}: ${c}`,u);const f=s.createWebChannel(c,u);let d=!1,p=!1;const m=new VN({Io:_=>{p?se(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,_):(d||(se(Zt,`Opening RPC '${e}' stream ${o} transport.`),f.open(),d=!0),se(Zt,`RPC '${e}' stream ${o} sending:`,_),f.send(_))},To:()=>f.close()}),y=(_,v,g)=>{_.listen(v,E=>{try{g(E)}catch(x){setTimeout(()=>{throw x},0)}})};return y(f,Du.EventType.OPEN,()=>{p||(se(Zt,`RPC '${e}' stream ${o} transport opened.`),m.yo())}),y(f,Du.EventType.CLOSE,()=>{p||(p=!0,se(Zt,`RPC '${e}' stream ${o} transport closed`),m.So())}),y(f,Du.EventType.ERROR,_=>{p||(p=!0,ga(Zt,`RPC '${e}' stream ${o} transport errored:`,_),m.So(new ie(q.UNAVAILABLE,"The operation could not be completed")))}),y(f,Du.EventType.MESSAGE,_=>{var v;if(!p){const g=_.data[0];Ue(!!g);const E=g,x=E.error||((v=E[0])===null||v===void 0?void 0:v.error);if(x){se(Zt,`RPC '${e}' stream ${o} received error:`,x);const P=x.status;let N=function(D){const T=ht[D];if(T!==void 0)return A3(T)}(P),I=x.message;N===void 0&&(N=q.INTERNAL,I="Unknown error status: "+P+" with message "+x.message),p=!0,m.So(new ie(N,I)),f.close()}else se(Zt,`RPC '${e}' stream ${o} received:`,g),m.bo(g)}}),y(a,Q6.STAT_EVENT,_=>{_.stat===y2.PROXY?se(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):_.stat===y2.NOPROXY&&se(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{m.wo()},0),m}}function f1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(t){return new YD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e,n,r=1e3,o=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=o,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),o=Math.max(0,n-r);o>0&&se("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e,n,r,o,i,s,a,u){this.ui=e,this.Ho=r,this.Jo=o,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new M3(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(to(n.toString()),to("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Yo===n&&this.P_(r,o)},r=>{e(()=>{const o=new ie(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(o)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(o=>{r(()=>this.I_(o))}),this.stream.onMessage(o=>{r(()=>++this.e_==1?this.E_(o):this.onNext(o))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class UN extends F3{constructor(e,n,r,o,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,s),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=JD(this.serializer,e),r=function(i){if(!("targetChange"in i))return me.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?me.min():s.readTime?br(s.readTime):me.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=S2(this.serializer),n.addTarget=function(i,s){let a;const u=s.target;if(a=E2(u)?{documents:nN(i,u)}:{query:rN(i,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=S3(i,s.resumeToken);const l=A2(i,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(me.min())>0){a.readTime=wf(i,s.snapshotVersion.toTimestamp());const l=A2(i,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);const r=iN(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=S2(this.serializer),n.removeTarget=e,this.a_(n)}}class $N extends F3{constructor(e,n,r,o,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,s),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=tN(e.writeResults,e.commitTime),r=br(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=S2(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>eN(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN extends class{}{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new ie(q.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Mo(e,I2(n,r),o,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ie(q.UNKNOWN,i.toString())})}Lo(e,n,r,o,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,I2(n,r),o,s,a,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ie(q.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class zN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(to(n),this.D_=!1):se("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,n,r,o,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(s=>{r.enqueueAndForget(async()=>{ms(this)&&(se("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=ge(u);l.L_.add(4),await Ql(l),l.q_.set("Unknown"),l.L_.delete(4),await kd(l)}(this))})}),this.q_=new zN(r,o)}}async function kd(t){if(ms(t))for(const e of t.B_)await e(!0)}async function Ql(t){for(const e of t.B_)await e(!1)}function L3(t,e){const n=ge(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Mg(n)?Bg(n):Va(n).r_()&&kg(n,e))}function Og(t,e){const n=ge(t),r=Va(n);n.N_.delete(e),r.r_()&&V3(n,e),n.N_.size===0&&(r.r_()?r.o_():ms(n)&&n.q_.set("Unknown"))}function kg(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Va(t).A_(e)}function V3(t,e){t.Q_.xe(e),Va(t).R_(e)}function Bg(t){t.Q_=new GD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Va(t).start(),t.q_.v_()}function Mg(t){return ms(t)&&!Va(t).n_()&&t.N_.size>0}function ms(t){return ge(t).L_.size===0}function j3(t){t.Q_=void 0}async function GN(t){t.q_.set("Online")}async function qN(t){t.N_.forEach((e,n)=>{kg(t,e)})}async function KN(t,e){j3(t),Mg(t)?(t.q_.M_(e),Bg(t)):t.q_.set("Unknown")}async function XN(t,e,n){if(t.q_.set("Online"),e instanceof T3&&e.state===2&&e.cause)try{await async function(o,i){const s=i.cause;for(const a of i.targetIds)o.N_.has(a)&&(await o.remoteSyncer.rejectListen(a,s),o.N_.delete(a),o.Q_.removeTarget(a))}(t,e)}catch(r){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ef(t,r)}else if(e instanceof v0?t.Q_.Ke(e):e instanceof I3?t.Q_.He(e):t.Q_.We(e),!n.isEqual(me.min()))try{const r=await B3(t.localStore);n.compareTo(r)>=0&&await function(i,s){const a=i.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=i.N_.get(l);c&&i.N_.set(l,c.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{const c=i.N_.get(u);if(!c)return;i.N_.set(u,c.withResumeToken(Gt.EMPTY_BYTE_STRING,c.snapshotVersion)),V3(i,u);const f=new Lo(c.target,u,l,c.sequenceNumber);kg(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){se("RemoteStore","Failed to raise snapshot:",r),await Ef(t,r)}}async function Ef(t,e,n){if(!Kl(e))throw e;t.L_.add(1),await Ql(t),t.q_.set("Offline"),n||(n=()=>B3(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{se("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await kd(t)})}function U3(t,e){return e().catch(n=>Ef(t,n,e))}async function Bd(t){const e=ge(t),n=ci(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;YN(e);)try{const o=await ON(e.localStore,r);if(o===null){e.O_.length===0&&n.o_();break}r=o.batchId,QN(e,o)}catch(o){await Ef(e,o)}$3(e)&&H3(e)}function YN(t){return ms(t)&&t.O_.length<10}function QN(t,e){t.O_.push(e);const n=ci(t);n.r_()&&n.V_&&n.m_(e.mutations)}function $3(t){return ms(t)&&!ci(t).n_()&&t.O_.length>0}function H3(t){ci(t).start()}async function ZN(t){ci(t).p_()}async function JN(t){const e=ci(t);for(const n of t.O_)e.m_(n.mutations)}async function eO(t,e,n){const r=t.O_.shift(),o=Sg.from(r,e,n);await U3(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await Bd(t)}async function tO(t,e){e&&ci(t).V_&&await async function(r,o){if(function(s){return HD(s)&&s!==q.ABORTED}(o.code)){const i=r.O_.shift();ci(r).s_(),await U3(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,o)),await Bd(r)}}(t,e),$3(t)&&H3(t)}async function bw(t,e){const n=ge(t);n.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const r=ms(n);n.L_.add(3),await Ql(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await kd(n)}async function nO(t,e){const n=ge(t);e?(n.L_.delete(2),await kd(n)):e||(n.L_.add(2),await Ql(n),n.q_.set("Unknown"))}function Va(t){return t.K_||(t.K_=function(n,r,o){const i=ge(n);return i.w_(),new UN(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,o)}(t.datastore,t.asyncQueue,{Eo:GN.bind(null,t),Ro:qN.bind(null,t),mo:KN.bind(null,t),d_:XN.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Mg(t)?Bg(t):t.q_.set("Unknown")):(await t.K_.stop(),j3(t))})),t.K_}function ci(t){return t.U_||(t.U_=function(n,r,o){const i=ge(n);return i.w_(),new $N(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,o)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:ZN.bind(null,t),mo:tO.bind(null,t),f_:JN.bind(null,t),g_:eO.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Bd(t)):(await t.U_.stop(),t.O_.length>0&&(se("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,n,r,o,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=i,this.deferred=new ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,i){const s=Date.now()+r,a=new Fg(e,n,s,o,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lg(t,e){if(to("AsyncQueue",`${e}: ${t}`),Kl(t))return new ie(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ue.comparator(n.key,r.key):(n,r)=>ue.comparator(n.key,r.key),this.keyedMap=Nu(),this.sortedSet=new rt(this.comparator)}static emptySet(e){return new na(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof na)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,i=r.getNext().key;if(!o.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new na;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(){this.W_=new rt(ue.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):he():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ea{constructor(e,n,r,o,i,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,o,i){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Ea(e,n,na.emptySet(n),s,r,o,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class oO{constructor(){this.queries=Pw(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const o=ge(n),i=o.queries;o.queries=Pw(),i.forEach((s,a)=>{for(const u of a.j_)u.onError(r)})})(this,new ie(q.ABORTED,"Firestore shutting down"))}}function Pw(){return new La(t=>d3(t),bd)}async function z3(t,e){const n=ge(t);let r=3;const o=e.query;let i=n.queries.get(o);i?!i.H_()&&e.J_()&&(r=2):(i=new rO,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(o,!0);break;case 1:i.z_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(s){const a=Lg(s,`Initialization of query '${Ss(e.query)}' failed`);return void e.onError(a)}n.queries.set(o,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&Vg(n)}async function W3(t,e){const n=ge(t),r=e.query;let o=3;const i=n.queries.get(r);if(i){const s=i.j_.indexOf(e);s>=0&&(i.j_.splice(s,1),i.j_.length===0?o=e.J_()?0:1:!i.H_()&&e.J_()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function iO(t,e){const n=ge(t);let r=!1;for(const o of e){const i=o.query,s=n.queries.get(i);if(s){for(const a of s.j_)a.X_(o)&&(r=!0);s.z_=o}}r&&Vg(n)}function sO(t,e,n){const r=ge(t),o=r.queries.get(e);if(o)for(const i of o.j_)i.onError(n);r.queries.delete(e)}function Vg(t){t.Y_.forEach(e=>{e.next()})}var R2,Dw;(Dw=R2||(R2={})).ea="default",Dw.Cache="cache";class G3{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Ea(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ea.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==R2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e){this.key=e}}class K3{constructor(e){this.key=e}}class aO{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=_e(),this.mutatedKeys=_e(),this.Aa=h3(e),this.Ra=new na(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Rw,o=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,s=o,a=!1;const u=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,l=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((c,f)=>{const d=o.get(c),p=Rd(this.query,f)?f:null,m=!!d&&this.mutatedKeys.has(d.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let _=!1;d&&p?d.data.isEqual(p.data)?m!==y&&(r.track({type:3,doc:p}),_=!0):this.ga(d,p)||(r.track({type:2,doc:p}),_=!0,(u&&this.Aa(p,u)>0||l&&this.Aa(p,l)<0)&&(a=!0)):!d&&p?(r.track({type:0,doc:p}),_=!0):d&&!p&&(r.track({type:1,doc:d}),_=!0,(u||l)&&(a=!0)),_&&(p?(s=s.add(p),i=y?i.add(c):i.delete(c)):(s=s.delete(c),i=i.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),i=i.delete(c.key),r.track({type:1,doc:c})}return{Ra:s,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((c,f)=>function(p,m){const y=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return y(p)-y(m)}(c.type,f.type)||this.Aa(c.doc,f.doc)),this.pa(r),o=o!=null&&o;const a=n&&!o?this.ya():[],u=this.da.size===0&&this.current&&!o?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new Ea(this.query,e.Ra,i,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Rw,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=_e(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new K3(r))}),this.da.forEach(r=>{e.has(r)||n.push(new q3(r))}),n}ba(e){this.Ta=e.Ts,this.da=_e();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ea.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class uO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class lO{constructor(e){this.key=e,this.va=!1}}class cO{constructor(e,n,r,o,i,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new La(a=>d3(a),bd),this.Ma=new Map,this.xa=new Set,this.Oa=new rt(ue.comparator),this.Na=new Map,this.La=new Pg,this.Ba={},this.ka=new Map,this.qa=wa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function fO(t,e,n=!0){const r=eC(t);let o;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),o=i.view.Da()):o=await X3(r,e,n,!0),o}async function dO(t,e){const n=eC(t);await X3(n,e,!0,!1)}async function X3(t,e,n,r){const o=await kN(t.localStore,Sr(e)),i=o.targetId,s=n?t.sharedClientState.addLocalQueryTarget(i):"not-current";let a;return r&&(a=await hO(t,e,i,s==="current",o.resumeToken)),t.isPrimaryClient&&n&&L3(t.remoteStore,o),a}async function hO(t,e,n,r,o){t.Ka=(f,d,p)=>async function(y,_,v,g){let E=_.view.ma(v);E.ns&&(E=await Iw(y.localStore,_.query,!1).then(({documents:I})=>_.view.ma(I,E)));const x=g&&g.targetChanges.get(_.targetId),P=g&&g.targetMismatches.get(_.targetId)!=null,N=_.view.applyChanges(E,y.isPrimaryClient,x,P);return Ow(y,_.targetId,N.wa),N.snapshot}(t,f,d,p);const i=await Iw(t.localStore,e,!0),s=new aO(e,i.Ts),a=s.ma(i.documents),u=Yl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",o),l=s.applyChanges(a,t.isPrimaryClient,u);Ow(t,n,l.wa);const c=new uO(e,n,s);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot}async function pO(t,e,n){const r=ge(t),o=r.Fa.get(e),i=r.Ma.get(o.targetId);if(i.length>1)return r.Ma.set(o.targetId,i.filter(s=>!bd(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await b2(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Og(r.remoteStore,o.targetId),P2(r,o.targetId)}).catch(ql)):(P2(r,o.targetId),await b2(r.localStore,o.targetId,!0))}async function mO(t,e){const n=ge(t),r=n.Fa.get(e),o=n.Ma.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Og(n.remoteStore,r.targetId))}async function gO(t,e,n){const r=CO(t);try{const o=await function(s,a){const u=ge(s),l=gt.now(),c=a.reduce((p,m)=>p.add(m.key),_e());let f,d;return u.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=no(),y=_e();return u.cs.getEntries(p,c).next(_=>{m=_,m.forEach((v,g)=>{g.isValidDocument()||(y=y.add(v))})}).next(()=>u.localDocuments.getOverlayedDocuments(p,m)).next(_=>{f=_;const v=[];for(const g of a){const E=LD(g,f.get(g.key).overlayedDocument);E!=null&&v.push(new gi(g.key,E,o3(E.value.mapValue),Qn.exists(!0)))}return u.mutationQueue.addMutationBatch(p,l,v,a)}).next(_=>{d=_;const v=_.applyToLocalDocumentSet(f,y);return u.documentOverlayCache.saveOverlays(p,_.batchId,v)})}).then(()=>({batchId:d.batchId,changes:m3(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new rt(Re)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,o.batchId,n),await Zl(r,o.changes),await Bd(r.remoteStore)}catch(o){const i=Lg(o,"Failed to persist write");n.reject(i)}}async function Y3(t,e){const n=ge(t);try{const r=await DN(n.localStore,e);e.targetChanges.forEach((o,i)=>{const s=n.Na.get(i);s&&(Ue(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?s.va=!0:o.modifiedDocuments.size>0?Ue(s.va):o.removedDocuments.size>0&&(Ue(s.va),s.va=!1))}),await Zl(n,r,e)}catch(r){await ql(r)}}function Nw(t,e,n){const r=ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Fa.forEach((i,s)=>{const a=s.view.Z_(e);a.snapshot&&o.push(a.snapshot)}),function(s,a){const u=ge(s);u.onlineState=a;let l=!1;u.queries.forEach((c,f)=>{for(const d of f.j_)d.Z_(a)&&(l=!0)}),l&&Vg(u)}(r.eventManager,e),o.length&&r.Ca.d_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function yO(t,e,n){const r=ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Na.get(e),i=o&&o.key;if(i){let s=new rt(ue.comparator);s=s.insert(i,nn.newNoDocument(i,me.min()));const a=_e().add(i),u=new Nd(me.min(),new Map,new rt(Re),s,a);await Y3(r,u),r.Oa=r.Oa.remove(i),r.Na.delete(e),jg(r)}else await b2(r.localStore,e,!1).then(()=>P2(r,e,n)).catch(ql)}async function vO(t,e){const n=ge(t),r=e.batch.batchId;try{const o=await PN(n.localStore,e);Z3(n,r,null),Q3(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Zl(n,o)}catch(o){await ql(o)}}async function _O(t,e,n){const r=ge(t);try{const o=await function(s,a){const u=ge(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,a).next(f=>(Ue(f!==null),c=f.keys(),u.mutationQueue.removeMutationBatch(l,f))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,e);Z3(r,e,n),Q3(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Zl(r,o)}catch(o){await ql(o)}}function Q3(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Z3(t,e,n){const r=ge(t);let o=r.Ba[r.currentUser.toKey()];if(o){const i=o.get(e);i&&(n?i.reject(n):i.resolve(),o=o.remove(e)),r.Ba[r.currentUser.toKey()]=o}}function P2(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||J3(t,r)})}function J3(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Og(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),jg(t))}function Ow(t,e,n){for(const r of n)r instanceof q3?(t.La.addReference(r.key,e),wO(t,r)):r instanceof K3?(se("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||J3(t,r.key)):he()}function wO(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(se("SyncEngine","New document in limbo: "+n),t.xa.add(r),jg(t))}function jg(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ue(Ge.fromString(e)),r=t.qa.next();t.Na.set(r,new lO(n)),t.Oa=t.Oa.insert(n,r),L3(t.remoteStore,new Lo(Sr(Ag(n.path)),r,"TargetPurposeLimboResolution",vg.oe))}}async function Zl(t,e,n){const r=ge(t),o=[],i=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(l=>{var c;if((l||n)&&r.isPrimaryClient){const f=l?!l.fromCache:(c=n==null?void 0:n.targetChanges.get(u.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(l){o.push(l);const f=Ng.Wi(u.targetId,l);i.push(f)}}))}),await Promise.all(s),r.Ca.d_(o),await async function(u,l){const c=ge(u);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>X.forEach(l,d=>X.forEach(d.$i,p=>c.persistence.referenceDelegate.addReference(f,d.targetId,p)).next(()=>X.forEach(d.Ui,p=>c.persistence.referenceDelegate.removeReference(f,d.targetId,p)))))}catch(f){if(!Kl(f))throw f;se("LocalStore","Failed to update sequence numbers: "+f)}for(const f of l){const d=f.targetId;if(!f.fromCache){const p=c.os.get(d),m=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(m);c.os=c.os.insert(d,y)}}}(r.localStore,i))}async function EO(t,e){const n=ge(t);if(!n.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const r=await k3(n.localStore,e);n.currentUser=e,function(i,s){i.ka.forEach(a=>{a.forEach(u=>{u.reject(new ie(q.CANCELLED,s))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Zl(n,r.hs)}}function xO(t,e){const n=ge(t),r=n.Na.get(e);if(r&&r.va)return _e().add(r.key);{let o=_e();const i=n.Ma.get(e);if(!i)return o;for(const s of i){const a=n.Fa.get(s);o=o.unionWith(a.view.Va)}return o}}function eC(t){const e=ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Y3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yO.bind(null,e),e.Ca.d_=iO.bind(null,e.eventManager),e.Ca.$a=sO.bind(null,e.eventManager),e}function CO(t){const e=ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_O.bind(null,e),e}class kw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Od(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return RN(this.persistence,new SN,e.initialUser,this.serializer)}createPersistence(e){return new AN(Dg.Zr,this.serializer)}createSharedClientState(e){return new MN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class AO{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Nw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=EO.bind(null,this.syncEngine),await nO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new oO}()}createDatastore(e){const n=Od(e.databaseInfo.databaseId),r=function(i){return new jN(i)}(e.databaseInfo);return function(i,s,a,u){return new HN(i,s,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,o,i,s,a){return new WN(r,o,i,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Nw(this.syncEngine,n,0),function(){return Sw.D()?new Sw:new FN}())}createSyncEngine(e,n){return function(o,i,s,a,u,l,c){const f=new cO(o,i,s,a,u,l);return c&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const i=ge(o);se("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Ql(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):to("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e,n,r,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=t3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{se("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(se("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ie(q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Lg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function d1(t,e){t.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async o=>{r.isEqual(o)||(await k3(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Bw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await SO(t);se("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>bw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,o)=>bw(e.remoteStore,o)),t._onlineComponents=e}function TO(t){return t.name==="FirebaseError"?t.code===q.FAILED_PRECONDITION||t.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function SO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{await d1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!TO(n))throw n;ga("Error using user provided cache. Falling back to memory cache: "+n),await d1(t,new kw)}}else se("FirestoreClient","Using default OfflineComponentProvider"),await d1(t,new kw);return t._offlineComponents}async function nC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),await Bw(t,t._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),await Bw(t,new AO))),t._onlineComponents}function bO(t){return nC(t).then(e=>e.syncEngine)}async function D2(t){const e=await nC(t),n=e.eventManager;return n.onListen=fO.bind(null,e.syncEngine),n.onUnlisten=pO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=dO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=mO.bind(null,e.syncEngine),n}function RO(t,e,n={}){const r=new ti;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,a,u,l){const c=new tC({next:d=>{s.enqueueAndForget(()=>W3(i,f)),d.fromCache&&u.source==="server"?l.reject(new ie(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),f=new G3(a,c,{includeMetadataChanges:!0,_a:!0});return z3(i,f)}(await D2(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(t,e,n){if(!n)throw new ie(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function PO(t,e,n,r){if(e===!0&&r===!0)throw new ie(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Fw(t){if(!ue.isDocumentKey(t))throw new ie(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Lw(t){if(ue.isDocumentKey(t))throw new ie(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Md(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he()}function Zn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Md(t);throw new ie(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ie(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ie(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ie(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ie(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ie(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fd{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ie(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ie(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new qP;switch(r.type){case"firstParty":return new QP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Mw.get(n);r&&(se("ComponentProvider","Removing Datastore"),Mw.delete(n),r.terminate())}(this),Promise.resolve()}}function DO(t,e,n,r={}){var o;const i=(t=Zn(t,Fd))._getSettings(),s=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==s&&ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=en.MOCK_USER;else{a=IR(r.mockUserToken,(o=t._app)===null||o===void 0?void 0:o.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new ie(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new en(l)}t._authCredentials=new KP(new e3(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yi(this.firestore,e,this._query)}}class hn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ni(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}}class ni extends yi{constructor(e,n,r){super(e,n,Ag(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new ue(e))}withConverter(e){return new ni(this.firestore,e,this._path)}}function Gi(t,e,...n){if(t=Wt(t),oC("collection","path",e),t instanceof Fd){const r=Ge.fromString(e,...n);return Lw(r),new ni(t,null,r)}{if(!(t instanceof hn||t instanceof ni))throw new ie(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return Lw(r),new ni(t.firestore,null,r)}}function N2(t,e,...n){if(t=Wt(t),arguments.length===1&&(e=t3.newId()),oC("doc","path",e),t instanceof Fd){const r=Ge.fromString(e,...n);return Fw(r),new hn(t,null,new ue(r))}{if(!(t instanceof hn||t instanceof ni))throw new ie(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return Fw(r),new hn(t.firestore,t instanceof ni?t.converter:null,new ue(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new M3(this,"async_queue_retry"),this.Eu=()=>{const n=f1();n&&se("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=f1();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=f1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new ti;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Kl(e))throw e;se("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const o=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw to("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const o=Fg.createAndSchedule(this,e,n,r,i=>this.Vu(i));return this.lu.push(o),o}du(){this.hu&&he()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}function jw(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const i of r)if(i in o&&typeof o[i]=="function")return!0;return!1}(t,["next","error","complete"])}class fi extends Fd{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=function(){return new NO}(),this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||iC(this),this._firestoreClient.terminate()}}function OO(t,e){const n=typeof t=="object"?t:z6(),r=typeof t=="string"?t:e||"(default)",o=gg(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const i=CR("firestore");i&&DO(o,...i)}return o}function Ug(t){return t._firestoreClient||iC(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function iC(t){var e,n,r;const o=t._freezeSettings(),i=function(a,u,l,c){return new cD(a,u,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,rC(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,o);t._firestoreClient=new IO(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.localCache.kind,_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xa(Gt.fromBase64String(e))}catch(n){throw new ie(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xa(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==o[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=/^__.*__$/;class BO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new gi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xl(e,this.data,n,this.fieldTransforms)}}class sC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new gi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function aC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}class Wg{constructor(e,n,r,o,i,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,i===void 0&&this.yu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new Wg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Su({path:r,Du:!1});return o.vu(e),o}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Su({path:r,Du:!1});return o.yu(),o}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return xf(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(aC(this.wu)&&kO.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class MO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Od(e)}Nu(e,n,r,o=!1){return new Wg({wu:e,methodName:n,Ou:r,path:Lt.emptyPath(),Du:!1,xu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vd(t){const e=t._freezeSettings(),n=Od(t._databaseId);return new MO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function uC(t,e,n,r,o,i={}){const s=t.Nu(i.merge||i.mergeFields?2:0,e,n,o);Gg("Data must be an object, but it was:",s,r);const a=lC(r,s);let u,l;if(i.merge)u=new Bn(s.fieldMask),l=s.fieldTransforms;else if(i.mergeFields){const c=[];for(const f of i.mergeFields){const d=O2(e,f,n);if(!s.contains(d))throw new ie(q.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);fC(c,d)||c.push(d)}u=new Bn(c),l=s.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,l=s.fieldTransforms;return new BO(new En(a),u,l)}class jd extends $g{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jd}}function FO(t,e,n,r){const o=t.Nu(1,e,n);Gg("Data must be an object, but it was:",o,r);const i=[],s=En.empty();ps(r,(u,l)=>{const c=qg(e,u,n);l=Wt(l);const f=o.Cu(c);if(l instanceof jd)i.push(c);else{const d=Jl(l,f);d!=null&&(i.push(c),s.set(c,d))}});const a=new Bn(i);return new sC(s,a,o.fieldTransforms)}function LO(t,e,n,r,o,i){const s=t.Nu(1,e,n),a=[O2(e,r,n)],u=[o];if(i.length%2!=0)throw new ie(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<i.length;d+=2)a.push(O2(e,i[d])),u.push(i[d+1]);const l=[],c=En.empty();for(let d=a.length-1;d>=0;--d)if(!fC(l,a[d])){const p=a[d];let m=u[d];m=Wt(m);const y=s.Cu(p);if(m instanceof jd)l.push(p);else{const _=Jl(m,y);_!=null&&(l.push(p),c.set(p,_))}}const f=new Bn(l);return new sC(c,f,s.fieldTransforms)}function VO(t,e,n,r=!1){return Jl(n,t.Nu(r?4:3,e))}function Jl(t,e){if(cC(t=Wt(t)))return Gg("Unsupported field value:",e,t),lC(t,e);if(t instanceof $g)return function(r,o){if(!aC(o.wu))throw o.Mu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(o);i&&o.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,o){const i=[];let s=0;for(const a of r){let u=Jl(a,o.Fu(s));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),s++}return{arrayValue:{values:i}}}(t,e)}return function(r,o){if((r=Wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ND(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=gt.fromDate(r);return{timestampValue:wf(o.serializer,i)}}if(r instanceof gt){const i=new gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wf(o.serializer,i)}}if(r instanceof Hg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xa)return{bytesValue:S3(o.serializer,r._byteString)};if(r instanceof hn){const i=o.databaseId,s=r.firestore._databaseId;if(!s.isEqual(i))throw o.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Rg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof zg)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return Ig(a.serializer,u)})}}}}}}(r,o);throw o.Mu(`Unsupported field value: ${Md(r)}`)}(t,e)}function lC(t,e){const n={};return n3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ps(t,(r,o)=>{const i=Jl(o,e.bu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function cC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gt||t instanceof Hg||t instanceof xa||t instanceof hn||t instanceof $g||t instanceof zg)}function Gg(t,e,n){if(!cC(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const r=Md(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function O2(t,e,n){if((e=Wt(e))instanceof Ld)return e._internalPath;if(typeof e=="string")return qg(t,e);throw xf("Field path arguments must be of type string or ",t,!1,void 0,n)}const jO=new RegExp("[~\\*/\\[\\]]");function qg(t,e,n){if(e.search(jO)>=0)throw xf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ld(...e.split("."))._internalPath}catch{throw xf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function xf(t,e,n,r,o){const i=r&&!r.isEmpty(),s=o!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(i||s)&&(u+=" (found",i&&(u+=` in field ${r}`),s&&(u+=` in document ${o}`),u+=")"),new ie(q.INVALID_ARGUMENT,a+t+u)}function fC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n,r,o,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ud("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class UO extends dC{data(){return super.data()}}function Ud(t,e){return typeof e=="string"?qg(t,e):e instanceof Ld?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ie(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kg{}class pC extends Kg{}function k2(t,e,...n){let r=[];e instanceof Kg&&r.push(e),r=r.concat(n),function(i){const s=i.filter(u=>u instanceof Xg).length,a=i.filter(u=>u instanceof $d).length;if(s>1||s>0&&a>0)throw new ie(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)t=o._apply(t);return t}class $d extends pC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new $d(e,n,r)}_apply(e){const n=this._parse(e);return mC(e._query,n),new yi(e.firestore,e.converter,x2(e._query,n))}_parse(e){const n=Vd(e.firestore);return function(i,s,a,u,l,c,f){let d;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ie(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){Hw(f,c);const p=[];for(const m of f)p.push($w(u,i,m));d={arrayValue:{values:p}}}else d=$w(u,i,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||Hw(f,c),d=VO(a,s,f,c==="in"||c==="not-in");return mt.create(l,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Uw(t,e,n){const r=e,o=Ud("where",t);return $d._create(o,r,n)}class Xg extends Kg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Xg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:mr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,i){let s=o;const a=i.getFlattenedFilters();for(const u of a)mC(s,u),s=x2(s,u)}(e._query,n),new yi(e.firestore,e.converter,x2(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Yg extends pC{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Yg(e,n)}_apply(e){const n=function(o,i,s){if(o.startAt!==null)throw new ie(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ie(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Rl(i,s)}(e._query,this._field,this._direction);return new yi(e.firestore,e.converter,function(o,i){const s=o.explicitOrderBy.concat([i]);return new Fa(o.path,o.collectionGroup,s,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function $O(t,e="asc"){const n=e,r=Ud("orderBy",t);return Yg._create(r,n)}function $w(t,e,n){if(typeof(n=Wt(n))=="string"){if(n==="")throw new ie(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!f3(e)&&n.indexOf("/")!==-1)throw new ie(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ge.fromString(n));if(!ue.isDocumentKey(r))throw new ie(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return uw(t,new ue(r))}if(n instanceof hn)return uw(t,n._key);throw new ie(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Md(n)}.`)}function Hw(t,e){if(!Array.isArray(t)||t.length===0)throw new ie(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mC(t,e){const n=function(o,i){for(const s of o)for(const a of s.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ie(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class HO{convertValue(e,n="none"){switch(ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw he()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ps(e,(o,i)=>{r[o]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,o;const i=(o=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(s=>ct(s.doubleValue));return new zg(i)}convertGeoPoint(e){return new Hg(ct(e.latitude),ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=wg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Tl(e));default:return null}}convertTimestamp(e){const n=li(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ge.fromString(e);Ue(O3(r));const o=new Sl(r.get(1),r.get(3)),i=new ue(r.popFirst(5));return o.isEqual(n)||to(`Document ${i} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yC extends dC{constructor(e,n,r,o,i,s){super(e,n,r,o,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ud("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class _0 extends yC{data(e={}){return super.data(e)}}class vC{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ku(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new _0(this._firestore,this._userDataWriter,r.key,r,new ku(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,i){if(o._snapshot.oldDocs.isEmpty()){let s=0;return o._snapshot.docChanges.map(a=>{const u=new _0(o._firestore,o._userDataWriter,a.doc.key,a.doc,new ku(o._snapshot.mutatedKeys.has(a.doc.key),o._snapshot.fromCache),o.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const u=new _0(o._firestore,o._userDataWriter,a.doc.key,a.doc,new ku(o._snapshot.mutatedKeys.has(a.doc.key),o._snapshot.fromCache),o.query.converter);let l=-1,c=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:zO(a.type),doc:u,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function zO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}class Qg extends HO{constructor(e){super(),this.firestore=e}convertBytes(e){return new xa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function Cf(t){t=Zn(t,yi);const e=Zn(t.firestore,fi),n=Ug(e),r=new Qg(e);return hC(t._query),RO(n,t._query).then(o=>new vC(e,r,t,o))}function WO(t,e,n){t=Zn(t,hn);const r=Zn(t.firestore,fi),o=gC(t.converter,e,n);return Hd(r,[uC(Vd(r),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,Qn.none())])}function GO(t,e,n,...r){t=Zn(t,hn);const o=Zn(t.firestore,fi),i=Vd(o);let s;return s=typeof(e=Wt(e))=="string"||e instanceof Ld?LO(i,"updateDoc",t._key,e,n,r):FO(i,"updateDoc",t._key,e),Hd(o,[s.toMutation(t._key,Qn.exists(!0))])}function qO(t){return Hd(Zn(t.firestore,fi),[new Tg(t._key,Qn.none())])}function _C(t,e){const n=Zn(t.firestore,fi),r=N2(t),o=gC(t.converter,e);return Hd(n,[uC(Vd(t.firestore),"addDoc",r._key,o,t.converter!==null,{}).toMutation(r._key,Qn.exists(!1))]).then(()=>r)}function KO(t,...e){var n,r,o;t=Wt(t);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||jw(e[s])||(i=e[s],s++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(jw(e[s])){const f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(o=f.complete)===null||o===void 0?void 0:o.bind(f)}let u,l,c;if(t instanceof hn)l=Zn(t.firestore,fi),c=Ag(t._key.path),u={next:f=>{e[s]&&e[s](XO(l,t,f))},error:e[s+1],complete:e[s+2]};else{const f=Zn(t,yi);l=Zn(f.firestore,fi),c=f._query;const d=new Qg(l);u={next:p=>{e[s]&&e[s](new vC(l,d,f,p))},error:e[s+1],complete:e[s+2]},hC(t._query)}return function(d,p,m,y){const _=new tC(y),v=new G3(p,_,m);return d.asyncQueue.enqueueAndForget(async()=>z3(await D2(d),v)),()=>{_.za(),d.asyncQueue.enqueueAndForget(async()=>W3(await D2(d),v))}}(Ug(l),c,a,u)}function Hd(t,e){return function(r,o){const i=new ti;return r.asyncQueue.enqueueAndForget(async()=>gO(await bO(r),o,i)),i.promise}(Ug(t),e)}function XO(t,e,n){const r=n.docs.get(e._key),o=new Qg(t);return new yC(t,o,e._key,r,new ku(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Ma=o})(Ba),ma(new ss("firestore",(r,{instanceIdentifier:o,options:i})=>{const s=r.getProvider("app").getImmediate(),a=new fi(new XP(r.getProvider("auth-internal")),new JP(r.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new ie(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sl(l.options.projectId,c)}(s,o),s);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),ei(rw,"4.7.1",e),ei(rw,"4.7.1","esm2017")})();var YO="firebase",QO="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ei(YO,QO,"app");function Zg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function wC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZO=wC,EC=new Wl("auth","Firebase",wC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=new pg("@firebase/auth");function JO(t,...e){Af.logLevel<=Ee.WARN&&Af.warn(`Auth (${Ba}): ${t}`,...e)}function w0(t,...e){Af.logLevel<=Ee.ERROR&&Af.error(`Auth (${Ba}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(t,...e){throw Jg(t,...e)}function Rr(t,...e){return Jg(t,...e)}function xC(t,e,n){const r=Object.assign(Object.assign({},ZO()),{[e]:n});return new Wl("auth","Firebase",r).create(e,{appName:t.name})}function ri(t){return xC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return EC.create(t,...e)}function ce(t,e,...n){if(!t)throw Jg(e,...n)}function Hr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw w0(e),new Error(e)}function ro(t,e){t||Hr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ek(){return zw()==="http:"||zw()==="https:"}function zw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ek()||bR()||"connection"in navigator)?navigator.onLine:!0}function nk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,n){this.shortDelay=e,this.longDelay=n,ro(n>e,"Short delay should be less than long delay!"),this.isMobile=TR()||RR()}get(){return tk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(t,e){ro(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=new ec(3e4,6e4);function gs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function vi(t,e,n,r,o={}){return AC(t,o,async()=>{let i={},s={};r&&(e==="GET"?s=r:i={body:JSON.stringify(r)});const a=Gl(Object.assign({key:t.config.apiKey},s)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),CC.fetch()(IC(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},i))})}async function AC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},rk),e);try{const o=new sk(t),i=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw qc(t,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const a=i.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw qc(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw qc(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw qc(t,"user-disabled",s);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw xC(t,c,l);gr(t,c)}}catch(o){if(o instanceof ao)throw o;gr(t,"network-request-failed",{message:String(o)})}}async function zd(t,e,n,r,o={}){const i=await vi(t,e,n,r,o);return"mfaPendingCredential"in i&&gr(t,"multi-factor-auth-required",{_serverResponse:i}),i}function IC(t,e,n,r){const o=`${e}${n}?${r}`;return t.config.emulator?ey(t.config,o):`${t.config.apiScheme}://${o}`}function ik(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sk{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Rr(this.auth,"network-request-failed")),ok.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Rr(t,e,r);return o.customData._tokenResponse=n,o}function Ww(t){return t!==void 0&&t.enterprise!==void 0}class ak{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ik(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function uk(t,e){return vi(t,"GET","/v2/recaptchaConfig",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lk(t,e){return vi(t,"POST","/v1/accounts:delete",e)}async function TC(t,e){return vi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ck(t,e=!1){const n=Wt(t),r=await n.getIdToken(e),o=ty(r);ce(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const i=typeof o.firebase=="object"?o.firebase:void 0,s=i==null?void 0:i.sign_in_provider;return{claims:o,token:r,authTime:Zu(h1(o.auth_time)),issuedAtTime:Zu(h1(o.iat)),expirationTime:Zu(h1(o.exp)),signInProvider:s||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function h1(t){return Number(t)*1e3}function ty(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return w0("JWT malformed, contained fewer than 3 sections"),null;try{const o=F6(n);return o?JSON.parse(o):(w0("Failed to decode base64 JWT payload"),null)}catch(o){return w0("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Gw(t){const e=ty(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ao&&fk(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function fk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zu(this.lastLoginAt),this.creationTime=Zu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function If(t){var e;const n=t.auth,r=await t.getIdToken(),o=await Nl(t,TC(n,{idToken:r}));ce(o==null?void 0:o.users.length,n,"internal-error");const i=o.users[0];t._notifyReloadListener(i);const s=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?SC(i.providerUserInfo):[],a=pk(t.providerData,s),u=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),c=u?l:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new M2(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function hk(t){const e=Wt(t);await If(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pk(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function SC(t){return t.map(e=>{var{providerId:n}=e,r=Zg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mk(t,e){const n=await AC(t,{},async()=>{const r=Gl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:i}=t.config,s=IC(t,o,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",CC.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function gk(t,e){return vi(t,"POST","/v2/accounts:revokeToken",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Gw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ce(e.length!==0,"internal-error");const n=Gw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:i}=await mk(e,n);this.updateTokensAndExpiration(r,o,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:i}=n,s=new ra;return r&&(ce(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),o&&(ce(typeof o=="string","internal-error",{appName:e}),s.accessToken=o),i&&(ce(typeof i=="number","internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ra,this.toJSON())}_performRefresh(){return Hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class zr{constructor(e){var{uid:n,auth:r,stsTokenManager:o}=e,i=Zg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new M2(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Nl(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ck(this,e)}reload(){return hk(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await If(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($r(this.auth.app))return Promise.reject(ri(this.auth));const e=await this.getIdToken();return await Nl(this,lk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,o,i,s,a,u,l,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(o=n.email)!==null&&o!==void 0?o:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,m=(s=n.photoURL)!==null&&s!==void 0?s:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,v=(l=n.createdAt)!==null&&l!==void 0?l:void 0,g=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:E,emailVerified:x,isAnonymous:P,providerData:N,stsTokenManager:I}=n;ce(E&&I,e,"internal-error");const C=ra.fromJSON(this.name,I);ce(typeof E=="string",e,"internal-error"),wo(f,e.name),wo(d,e.name),ce(typeof x=="boolean",e,"internal-error"),ce(typeof P=="boolean",e,"internal-error"),wo(p,e.name),wo(m,e.name),wo(y,e.name),wo(_,e.name),wo(v,e.name),wo(g,e.name);const D=new zr({uid:E,auth:e,email:d,emailVerified:x,displayName:f,isAnonymous:P,photoURL:m,phoneNumber:p,tenantId:y,stsTokenManager:C,createdAt:v,lastLoginAt:g});return N&&Array.isArray(N)&&(D.providerData=N.map(T=>Object.assign({},T))),_&&(D._redirectEventId=_),D}static async _fromIdTokenResponse(e,n,r=!1){const o=new ra;o.updateFromServerResponse(n);const i=new zr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await If(i),i}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];ce(o.localId!==void 0,"internal-error");const i=o.providerUserInfo!==void 0?SC(o.providerUserInfo):[],s=!(o.email&&o.passwordHash)&&!(i!=null&&i.length),a=new ra;a.updateFromIdToken(r);const u=new zr({uid:o.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:i,metadata:new M2(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,l),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=new Map;function Wr(t){ro(t instanceof Function,"Expected a class definition");let e=qw.get(t);return e?(ro(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,qw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}bC.type="NONE";const Kw=bC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(t,e,n){return`firebase:${t}:${e}:${n}`}class oa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:i}=this.auth;this.fullUserKey=E0(this.userKey,o.apiKey,i),this.fullPersistenceKey=E0("persistence",o.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?zr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new oa(Wr(Kw),e,r);const o=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let i=o[0]||Wr(Kw);const s=E0(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const c=await l._get(s);if(c){const f=zr._fromJSON(e,c);l!==i&&(a=f),i=l;break}}catch{}const u=o.filter(l=>l._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new oa(i,e,r):(i=u[0],a&&await i._set(s,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==i)try{await l._remove(s)}catch{}})),new oa(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kC(e))return"Blackberry";if(BC(e))return"Webos";if(PC(e))return"Safari";if((e.includes("chrome/")||DC(e))&&!e.includes("edge/"))return"Chrome";if(OC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function RC(t=sn()){return/firefox\//i.test(t)}function PC(t=sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DC(t=sn()){return/crios\//i.test(t)}function NC(t=sn()){return/iemobile/i.test(t)}function OC(t=sn()){return/android/i.test(t)}function kC(t=sn()){return/blackberry/i.test(t)}function BC(t=sn()){return/webos/i.test(t)}function ny(t=sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function yk(t=sn()){var e;return ny(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function vk(){return PR()&&document.documentMode===10}function MC(t=sn()){return ny(t)||OC(t)||BC(t)||kC(t)||/windows phone/i.test(t)||NC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(t,e=[]){let n;switch(t){case"Browser":n=Xw(sn());break;case"Worker":n=`${Xw(sn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ba}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((s,a)=>{try{const u=e(i);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wk(t,e={}){return vi(t,"GET","/v2/passwordPolicy",gs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=6;class xk{constructor(e){var n,r,o,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:Ek,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,o,i,s,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(o=u.containsLowercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(i=u.containsUppercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yw(this),this.idTokenSubscription=new Yw(this),this.beforeStateQueue=new _k(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wr(n)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await oa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await TC(this,{idToken:e}),r=await zr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if($r(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=o==null?void 0:o._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===a)&&(u!=null&&u.user)&&(o=u.user,i=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(o)}catch(s){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await If(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($r(this.app))return Promise.reject(ri(this));const n=e?Wt(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $r(this.app)?Promise.reject(ri(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $r(this.app)?Promise.reject(ri(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wk(this),n=new xk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Wl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await gk(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wr(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await oa.create(this,[Wr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,o);return()=>{s=!0,u()}}else{const u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&JO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ja(t){return Wt(t)}class Yw{constructor(e){this.auth=e,this.observer=null,this.addObserver=LR(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ak(t){Wd=t}function LC(t){return Wd.loadJS(t)}function Ik(){return Wd.recaptchaEnterpriseScript}function Tk(){return Wd.gapiScript}function Sk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const bk="recaptcha-enterprise",Rk="NO_RECAPTCHA";class Pk{constructor(e){this.type=bk,this.auth=ja(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(s,a)=>{uk(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const l=new ak(u);return i.tenantId==null?i._agentRecaptchaConfig=l:i._tenantRecaptchaConfigs[i.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})})}function o(i,s,a){const u=window.grecaptcha;Ww(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(l=>{s(l)}).catch(()=>{s(Rk)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,s)=>{r(this.auth).then(a=>{if(!n&&Ww(window.grecaptcha))o(a,i,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Ik();u.length!==0&&(u+=a),LC(u).then(()=>{o(a,i,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})}}async function Qw(t,e,n,r=!1){const o=new Pk(t);let i;try{i=await o.verify(n)}catch{i=await o.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:i}):Object.assign(s,{captchaResponse:i}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Zw(t,e,n,r){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Qw(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await Qw(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(t,e){const n=gg(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),i=n.getOptions();if(pf(i,e??{}))return o;gr(o,"already-initialized")}return n.initialize({options:e})}function Nk(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Wr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Ok(t,e,n){const r=ja(t);ce(r._canInitEmulator,r,"emulator-config-failed"),ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!!(n!=null&&n.disableWarnings),i=VC(e),{host:s,port:a}=kk(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||Bk()}function VC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function kk(t){const e=VC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const i=o[1];return{host:i,port:Jw(r.substr(i.length+1))}}else{const[i,s]=r.split(":");return{host:i,port:Jw(s)}}}function Jw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Bk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hr("not implemented")}_getIdTokenResponse(e){return Hr("not implemented")}_linkToIdToken(e,n){return Hr("not implemented")}_getReauthenticationResolver(e){return Hr("not implemented")}}async function Mk(t,e){return vi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fk(t,e){return zd(t,"POST","/v1/accounts:signInWithPassword",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lk(t,e){return zd(t,"POST","/v1/accounts:signInWithEmailLink",gs(t,e))}async function Vk(t,e){return zd(t,"POST","/v1/accounts:signInWithEmailLink",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends ry{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Ol(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ol(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zw(e,n,"signInWithPassword",Fk);case"emailLink":return Lk(e,{email:this._email,oobCode:this._password});default:gr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zw(e,r,"signUpPassword",Mk);case"emailLink":return Vk(e,{idToken:n,email:this._email,oobCode:this._password});default:gr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ia(t,e){return zd(t,"POST","/v1/accounts:signInWithIdp",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk="http://localhost";class cs extends ry{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new cs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=n,i=Zg(n,["providerId","signInMethod"]);if(!r||!o)return null;const s=new cs(r,o);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return ia(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ia(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ia(e,n)}buildRequest(){const e={requestUri:jk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Gl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $k(t){const e=Ru(Pu(t)).link,n=e?Ru(Pu(e)).deep_link_id:null,r=Ru(Pu(t)).deep_link_id;return(r?Ru(Pu(r)).link:null)||r||n||e||t}class oy{constructor(e){var n,r,o,i,s,a;const u=Ru(Pu(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,c=(r=u.oobCode)!==null&&r!==void 0?r:null,f=Uk((o=u.mode)!==null&&o!==void 0?o:null);ce(l&&c&&f,"argument-error"),this.apiKey=l,this.operation=f,this.code=c,this.continueUrl=(i=u.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=$k(e);try{return new oy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(){this.providerId=Ua.PROVIDER_ID}static credential(e,n){return Ol._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=oy.parseLink(n);return ce(r,"argument-error"),Ol._fromEmailAndCode(e,r.code,r.tenantId)}}Ua.PROVIDER_ID="password";Ua.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ua.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc extends jC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po extends tc{constructor(){super("facebook.com")}static credential(e){return cs._fromParams({providerId:Po.PROVIDER_ID,signInMethod:Po.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Po.credentialFromTaggedObject(e)}static credentialFromError(e){return Po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Po.credential(e.oauthAccessToken)}catch{return null}}}Po.FACEBOOK_SIGN_IN_METHOD="facebook.com";Po.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do extends tc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return cs._fromParams({providerId:Do.PROVIDER_ID,signInMethod:Do.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Do.credentialFromTaggedObject(e)}static credentialFromError(e){return Do.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Do.credential(n,r)}catch{return null}}}Do.GOOGLE_SIGN_IN_METHOD="google.com";Do.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends tc{constructor(){super("github.com")}static credential(e){return cs._fromParams({providerId:No.PROVIDER_ID,signInMethod:No.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return No.credentialFromTaggedObject(e)}static credentialFromError(e){return No.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return No.credential(e.oauthAccessToken)}catch{return null}}}No.GITHUB_SIGN_IN_METHOD="github.com";No.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo extends tc{constructor(){super("twitter.com")}static credential(e,n){return cs._fromParams({providerId:Oo.PROVIDER_ID,signInMethod:Oo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Oo.credentialFromTaggedObject(e)}static credentialFromError(e){return Oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Oo.credential(n,r)}catch{return null}}}Oo.TWITTER_SIGN_IN_METHOD="twitter.com";Oo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const i=await zr._fromIdTokenResponse(e,r,o),s=e4(r);return new Ca({user:i,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=e4(r);return new Ca({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function e4(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf extends ao{constructor(e,n,r,o){var i;super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Tf.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Tf(e,n,r,o)}}function UC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Tf._fromErrorAndOperation(t,i,e,r):i})}async function Hk(t,e,n=!1){const r=await Nl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ca._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zk(t,e,n=!1){const{auth:r}=t;if($r(r.app))return Promise.reject(ri(r));const o="reauthenticate";try{const i=await Nl(t,UC(r,o,e,t),n);ce(i.idToken,r,"internal-error");const s=ty(i.idToken);ce(s,r,"internal-error");const{sub:a}=s;return ce(t.uid===a,r,"user-mismatch"),Ca._forOperation(t,o,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&gr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $C(t,e,n=!1){if($r(t.app))return Promise.reject(ri(t));const r="signIn",o=await UC(t,r,e),i=await Ca._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(i.user),i}async function Wk(t,e){return $C(ja(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gk(t){const e=ja(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function qk(t,e,n){return $r(t.app)?Promise.reject(ri(t)):Wk(Wt(t),Ua.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Gk(t),r})}function Kk(t,e,n,r){return Wt(t).onIdTokenChanged(e,n,r)}function Xk(t,e,n){return Wt(t).beforeAuthStateChanged(e,n)}const Sf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sf,"1"),this.storage.removeItem(Sf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk=1e3,Qk=10;class zC extends HC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,u)=>{this.notifyListeners(s,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},i=this.storage.getItem(r);vk()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Qk):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Yk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}zC.type="LOCAL";const Zk=zC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC extends HC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}WC.type="SESSION";const GC=WC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Gd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:i}=n.data,s=this.handlersMap[o];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const a=Array.from(s).map(async l=>l(n.origin,i)),u=await Jk(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let i,s;return new Promise((a,u)=>{const l=iy("",20);o.port1.start();const c=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:o,onMessage(f){const d=f;if(d.data.eventId===l)switch(d.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(d.data.response);break;default:clearTimeout(c),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(s),o.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[o.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(){return window}function tB(t){Pr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(){return typeof Pr().WorkerGlobalScope<"u"&&typeof Pr().importScripts=="function"}async function nB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function oB(){return qC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="firebaseLocalStorageDb",iB=1,bf="firebaseLocalStorage",XC="fbase_key";class nc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qd(t,e){return t.transaction([bf],e?"readwrite":"readonly").objectStore(bf)}function sB(){const t=indexedDB.deleteDatabase(KC);return new nc(t).toPromise()}function F2(){const t=indexedDB.open(KC,iB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(bf,{keyPath:XC})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(bf)?e(r):(r.close(),await sB(),e(await F2()))})})}async function t4(t,e,n){const r=qd(t,!0).put({[XC]:e,value:n});return new nc(r).toPromise()}async function aB(t,e){const n=qd(t,!1).get(e),r=await new nc(n).toPromise();return r===void 0?null:r.value}function n4(t,e){const n=qd(t,!0).delete(e);return new nc(n).toPromise()}const uB=800,lB=3;class YC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await F2(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>lB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gd._getInstance(oB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await nB(),!this.activeServiceWorker)return;this.sender=new eB(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await F2();return await t4(e,Sf,"1"),await n4(e,Sf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>t4(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>aB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>n4(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const i=qd(o,!1).getAll();return new nc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:i}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(i)&&(this.notifyListeners(o,i),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YC.type="LOCAL";const cB=YC;new ec(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fB(t,e){return e?Wr(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy extends ry{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ia(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ia(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ia(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function dB(t){return $C(t.auth,new sy(t),t.bypassAuthState)}function hB(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),zk(n,new sy(t),t.bypassAuthState)}async function pB(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),Hk(n,new sy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n,r,o,i=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:i,error:s,type:a}=e;if(s){this.reject(s);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dB;case"linkViaPopup":case"linkViaRedirect":return pB;case"reauthViaPopup":case"reauthViaRedirect":return hB;default:gr(this.auth,"internal-error")}}resolve(e){ro(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ro(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mB=new ec(2e3,1e4);class $s extends QC{constructor(e,n,r,o,i){super(e,n,o,i),this.provider=r,this.authWindow=null,this.pollId=null,$s.currentPopupAction&&$s.currentPopupAction.cancel(),$s.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){ro(this.filter.length===1,"Popup operations only handle one event");const e=iy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$s.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mB.get())};e()}}$s.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB="pendingRedirect",x0=new Map;class yB extends QC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=x0.get(this.auth._key());if(!e){try{const r=await vB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}x0.set(this.auth._key(),e)}return this.bypassAuthState||x0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vB(t,e){const n=EB(e),r=wB(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function _B(t,e){x0.set(t._key(),e)}function wB(t){return Wr(t._redirectPersistence)}function EB(t){return E0(gB,t.config.apiKey,t.name)}async function xB(t,e,n=!1){if($r(t.app))return Promise.reject(ri(t));const r=ja(t),o=fB(r,e),s=await new yB(r,o,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CB=10*60*1e3;class AB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ZC(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Rr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CB&&this.cachedEventUids.clear(),this.cachedEventUids.has(r4(e))}saveEventToCache(e){this.cachedEventUids.add(r4(e)),this.lastProcessedEventTime=Date.now()}}function r4(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ZC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function IB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TB(t,e={}){return vi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bB=/^https?/;async function RB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await TB(t);for(const n of e)try{if(PB(n))return}catch{}gr(t,"unauthorized-domain")}function PB(t){const e=B2(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!bB.test(n))return!1;if(SB.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB=new ec(3e4,6e4);function o4(){const t=Pr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function NB(t){return new Promise((e,n)=>{var r,o,i;function s(){o4(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{o4(),n(Rr(t,"network-request-failed"))},timeout:DB.get()})}if(!((o=(r=Pr().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((i=Pr().gapi)===null||i===void 0)&&i.load)s();else{const a=Sk("iframefcb");return Pr()[a]=()=>{gapi.load?s():n(Rr(t,"network-request-failed"))},LC(`${Tk()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw C0=null,e})}let C0=null;function OB(t){return C0=C0||NB(t),C0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB=new ec(5e3,15e3),BB="__/auth/iframe",MB="emulator/auth/iframe",FB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VB(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ey(e,MB):`https://${t.config.authDomain}/${BB}`,r={apiKey:e.apiKey,appName:t.name,v:Ba},o=LB.get(t.config.apiHost);o&&(r.eid=o);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Gl(r).slice(1)}`}async function jB(t){const e=await OB(t),n=Pr().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:VB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FB,dontclear:!0},r=>new Promise(async(o,i)=>{await r.restyle({setHideOnLeave:!1});const s=Rr(t,"network-request-failed"),a=Pr().setTimeout(()=>{i(s)},kB.get());function u(){Pr().clearTimeout(a),o(r)}r.ping(u).then(u,()=>{i(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$B=500,HB=600,zB="_blank",WB="http://localhost";class i4{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GB(t,e,n,r=$B,o=HB){const i=Math.max((window.screen.availHeight-o)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},UB),{width:r.toString(),height:o.toString(),top:i,left:s}),l=sn().toLowerCase();n&&(a=DC(l)?zB:n),RC(l)&&(e=e||WB,u.scrollbars="yes");const c=Object.entries(u).reduce((d,[p,m])=>`${d}${p}=${m},`,"");if(yk(l)&&a!=="_self")return qB(e||"",a),new i4(null);const f=window.open(e||"",a,c);ce(f,t,"popup-blocked");try{f.focus()}catch{}return new i4(f)}function qB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KB="__/auth/handler",XB="emulator/auth/handler",YB=encodeURIComponent("fac");async function s4(t,e,n,r,o,i){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ba,eventId:o};if(e instanceof jC){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",FR(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries(i||{}))s[c]=f}if(e instanceof tc){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const u=await t._getAppCheckToken(),l=u?`#${YB}=${encodeURIComponent(u)}`:"";return`${QB(t)}?${Gl(a).slice(1)}${l}`}function QB({config:t}){return t.emulator?ey(t,XB):`https://${t.authDomain}/${KB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="webStorageSupport";class ZB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GC,this._completeRedirectFn=xB,this._overrideRedirectResult=_B}async _openPopup(e,n,r,o){var i;ro((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const s=await s4(e,n,r,B2(),o);return GB(e,s,iy())}async _openRedirect(e,n,r,o){await this._originValidation(e);const i=await s4(e,n,r,B2(),o);return tB(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:i}=this.eventManagers[n];return o?Promise.resolve(o):(ro(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await jB(e),r=new AB(e);return n.register("authEvent",o=>(ce(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(p1,{type:p1},o=>{var i;const s=(i=o==null?void 0:o[0])===null||i===void 0?void 0:i[p1];s!==void 0&&n(!!s),gr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return MC()||PC()||ny()}}const JB=ZB;var a4="@firebase/auth",u4="1.7.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nM(t){ma(new ss("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ce(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FC(t)},l=new Ck(r,o,i,u);return Nk(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ma(new ss("auth-internal",e=>{const n=ja(e.getProvider("auth").getImmediate());return(r=>new eM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ei(a4,u4,tM(t)),ei(a4,u4,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM=5*60,oM=j6("authIdTokenMaxAge")||rM;let l4=null;const iM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>oM)return;const o=n==null?void 0:n.token;l4!==o&&(l4=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function sM(t=z6()){const e=gg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Dk(t,{popupRedirectResolver:JB,persistence:[cB,Zk,GC]}),r=j6("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const s=iM(i.toString());Xk(n,s,()=>s(n.currentUser)),Kk(n,a=>s(a))}}const o=L6("auth");return o&&Ok(n,`http://${o}`),n}function aM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Ak({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const i=Rr("internal-error");i.customData=o,n(i)},r.type="text/javascript",r.charset="UTF-8",aM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nM("Browser");const uM={apiKey:"AIzaSyDeKpxog91qk7T5hcn28No3DWW4SYVDM2k",authDomain:"jiit-cafeteria.firebaseapp.com",projectId:"jiit-cafeteria",storageBucket:"jiit-cafeteria.appspot.com",messagingSenderId:"694869017624",appId:"1:694869017624:web:a8a4d765c2721b6d8caf6d",measurementId:"G-FN18TBMGRS"},JC=H6(uM),Lr=OO(JC),lM=sM(JC),kl={_origin:"https://api.emailjs.com"},cM=(t,e="https://api.emailjs.com")=>{kl._userID=t,kl._origin=e},eA=(t,e,n)=>{if(!t)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class c4{constructor(e){this.status=e.status,this.text=e.responseText}}const tA=(t,e,n={})=>new Promise((r,o)=>{const i=new XMLHttpRequest;i.addEventListener("load",({target:s})=>{const a=new c4(s);a.status===200||a.text==="OK"?r(a):o(a)}),i.addEventListener("error",({target:s})=>{o(new c4(s))}),i.open("POST",kl._origin+t,!0),Object.keys(n).forEach(s=>{i.setRequestHeader(s,n[s])}),i.send(e)}),fM=(t,e,n,r)=>{const o=r||kl._userID;return eA(o,t,e),tA("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:o,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"})},dM=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},hM=(t,e,n,r)=>{const o=r||kl._userID,i=dM(n);eA(o,t,e);const s=new FormData(i);return s.append("lib_version","3.2.0"),s.append("service_id",t),s.append("template_id",e),s.append("user_id",o),tA("/api/v1.0/email/send-form",s)},pM={init:cM,send:fM,sendForm:hM},mM="service_wacmsyg",gM="template_87nzo6r",yM="In5aNBhEPPupmjC4J";var nA={exports:{}};function vM(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var m1={exports:{}};const _M={},wM=Object.freeze(Object.defineProperty({__proto__:null,default:_M},Symbol.toStringTag,{value:"Module"})),EM=YA(wM);var f4;function xe(){return f4||(f4=1,function(t,e){(function(n,r){t.exports=r()})(ve,function(){var n=n||function(r,o){var i;if(typeof window<"u"&&window.crypto&&(i=window.crypto),typeof self<"u"&&self.crypto&&(i=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof window<"u"&&window.msCrypto&&(i=window.msCrypto),!i&&typeof ve<"u"&&ve.crypto&&(i=ve.crypto),!i&&typeof vM=="function")try{i=EM}catch{}var s=function(){if(i){if(typeof i.getRandomValues=="function")try{return i.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof i.randomBytes=="function")try{return i.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function g(){}return function(E){var x;return g.prototype=E,x=new g,g.prototype=null,x}}(),u={},l=u.lib={},c=l.Base=function(){return{extend:function(g){var E=a(this);return g&&E.mixIn(g),(!E.hasOwnProperty("init")||this.init===E.init)&&(E.init=function(){E.$super.init.apply(this,arguments)}),E.init.prototype=E,E.$super=this,E},create:function(){var g=this.extend();return g.init.apply(g,arguments),g},init:function(){},mixIn:function(g){for(var E in g)g.hasOwnProperty(E)&&(this[E]=g[E]);g.hasOwnProperty("toString")&&(this.toString=g.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=l.WordArray=c.extend({init:function(g,E){g=this.words=g||[],E!=o?this.sigBytes=E:this.sigBytes=g.length*4},toString:function(g){return(g||p).stringify(this)},concat:function(g){var E=this.words,x=g.words,P=this.sigBytes,N=g.sigBytes;if(this.clamp(),P%4)for(var I=0;I<N;I++){var C=x[I>>>2]>>>24-I%4*8&255;E[P+I>>>2]|=C<<24-(P+I)%4*8}else for(var D=0;D<N;D+=4)E[P+D>>>2]=x[D>>>2];return this.sigBytes+=N,this},clamp:function(){var g=this.words,E=this.sigBytes;g[E>>>2]&=4294967295<<32-E%4*8,g.length=r.ceil(E/4)},clone:function(){var g=c.clone.call(this);return g.words=this.words.slice(0),g},random:function(g){for(var E=[],x=0;x<g;x+=4)E.push(s());return new f.init(E,g)}}),d=u.enc={},p=d.Hex={stringify:function(g){for(var E=g.words,x=g.sigBytes,P=[],N=0;N<x;N++){var I=E[N>>>2]>>>24-N%4*8&255;P.push((I>>>4).toString(16)),P.push((I&15).toString(16))}return P.join("")},parse:function(g){for(var E=g.length,x=[],P=0;P<E;P+=2)x[P>>>3]|=parseInt(g.substr(P,2),16)<<24-P%8*4;return new f.init(x,E/2)}},m=d.Latin1={stringify:function(g){for(var E=g.words,x=g.sigBytes,P=[],N=0;N<x;N++){var I=E[N>>>2]>>>24-N%4*8&255;P.push(String.fromCharCode(I))}return P.join("")},parse:function(g){for(var E=g.length,x=[],P=0;P<E;P++)x[P>>>2]|=(g.charCodeAt(P)&255)<<24-P%4*8;return new f.init(x,E)}},y=d.Utf8={stringify:function(g){try{return decodeURIComponent(escape(m.stringify(g)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(g){return m.parse(unescape(encodeURIComponent(g)))}},_=l.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(g){typeof g=="string"&&(g=y.parse(g)),this._data.concat(g),this._nDataBytes+=g.sigBytes},_process:function(g){var E,x=this._data,P=x.words,N=x.sigBytes,I=this.blockSize,C=I*4,D=N/C;g?D=r.ceil(D):D=r.max((D|0)-this._minBufferSize,0);var T=D*I,R=r.min(T*4,N);if(T){for(var k=0;k<T;k+=I)this._doProcessBlock(P,k);E=P.splice(0,T),x.sigBytes-=R}return new f.init(E,R)},clone:function(){var g=c.clone.call(this);return g._data=this._data.clone(),g},_minBufferSize:0});l.Hasher=_.extend({cfg:c.extend(),init:function(g){this.cfg=this.cfg.extend(g),this.reset()},reset:function(){_.reset.call(this),this._doReset()},update:function(g){return this._append(g),this._process(),this},finalize:function(g){g&&this._append(g);var E=this._doFinalize();return E},blockSize:16,_createHelper:function(g){return function(E,x){return new g.init(x).finalize(E)}},_createHmacHelper:function(g){return function(E,x){return new v.HMAC.init(g,x).finalize(E)}}});var v=u.algo={};return u}(Math);return n})}(m1)),m1.exports}var g1={exports:{}},d4;function Kd(){return d4||(d4=1,function(t,e){(function(n,r){t.exports=r(xe())})(ve,function(n){return function(r){var o=n,i=o.lib,s=i.Base,a=i.WordArray,u=o.x64={};u.Word=s.extend({init:function(l,c){this.high=l,this.low=c}}),u.WordArray=s.extend({init:function(l,c){l=this.words=l||[],c!=r?this.sigBytes=c:this.sigBytes=l.length*8},toX32:function(){for(var l=this.words,c=l.length,f=[],d=0;d<c;d++){var p=l[d];f.push(p.high),f.push(p.low)}return a.create(f,this.sigBytes)},clone:function(){for(var l=s.clone.call(this),c=l.words=this.words.slice(0),f=c.length,d=0;d<f;d++)c[d]=c[d].clone();return l}})}(),n})}(g1)),g1.exports}var y1={exports:{}},h4;function xM(){return h4||(h4=1,function(t,e){(function(n,r){t.exports=r(xe())})(ve,function(n){return function(){if(typeof ArrayBuffer=="function"){var r=n,o=r.lib,i=o.WordArray,s=i.init,a=i.init=function(u){if(u instanceof ArrayBuffer&&(u=new Uint8Array(u)),(u instanceof Int8Array||typeof Uint8ClampedArray<"u"&&u instanceof Uint8ClampedArray||u instanceof Int16Array||u instanceof Uint16Array||u instanceof Int32Array||u instanceof Uint32Array||u instanceof Float32Array||u instanceof Float64Array)&&(u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength)),u instanceof Uint8Array){for(var l=u.byteLength,c=[],f=0;f<l;f++)c[f>>>2]|=u[f]<<24-f%4*8;s.call(this,c,l)}else s.apply(this,arguments)};a.prototype=i}}(),n.lib.WordArray})}(y1)),y1.exports}var v1={exports:{}},p4;function CM(){return p4||(p4=1,function(t,e){(function(n,r){t.exports=r(xe())})(ve,function(n){return function(){var r=n,o=r.lib,i=o.WordArray,s=r.enc;s.Utf16=s.Utf16BE={stringify:function(u){for(var l=u.words,c=u.sigBytes,f=[],d=0;d<c;d+=2){var p=l[d>>>2]>>>16-d%4*8&65535;f.push(String.fromCharCode(p))}return f.join("")},parse:function(u){for(var l=u.length,c=[],f=0;f<l;f++)c[f>>>1]|=u.charCodeAt(f)<<16-f%2*16;return i.create(c,l*2)}},s.Utf16LE={stringify:function(u){for(var l=u.words,c=u.sigBytes,f=[],d=0;d<c;d+=2){var p=a(l[d>>>2]>>>16-d%4*8&65535);f.push(String.fromCharCode(p))}return f.join("")},parse:function(u){for(var l=u.length,c=[],f=0;f<l;f++)c[f>>>1]|=a(u.charCodeAt(f)<<16-f%2*16);return i.create(c,l*2)}};function a(u){return u<<8&4278255360|u>>>8&16711935}}(),n.enc.Utf16})}(v1)),v1.exports}var _1={exports:{}},m4;function ys(){return m4||(m4=1,function(t,e){(function(n,r){t.exports=r(xe())})(ve,function(n){return function(){var r=n,o=r.lib,i=o.WordArray,s=r.enc;s.Base64={stringify:function(u){var l=u.words,c=u.sigBytes,f=this._map;u.clamp();for(var d=[],p=0;p<c;p+=3)for(var m=l[p>>>2]>>>24-p%4*8&255,y=l[p+1>>>2]>>>24-(p+1)%4*8&255,_=l[p+2>>>2]>>>24-(p+2)%4*8&255,v=m<<16|y<<8|_,g=0;g<4&&p+g*.75<c;g++)d.push(f.charAt(v>>>6*(3-g)&63));var E=f.charAt(64);if(E)for(;d.length%4;)d.push(E);return d.join("")},parse:function(u){var l=u.length,c=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var d=0;d<c.length;d++)f[c.charCodeAt(d)]=d}var p=c.charAt(64);if(p){var m=u.indexOf(p);m!==-1&&(l=m)}return a(u,l,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(u,l,c){for(var f=[],d=0,p=0;p<l;p++)if(p%4){var m=c[u.charCodeAt(p-1)]<<p%4*2,y=c[u.charCodeAt(p)]>>>6-p%4*2,_=m|y;f[d>>>2]|=_<<24-d%4*8,d++}return i.create(f,d)}}(),n.enc.Base64})}(_1)),_1.exports}var w1={exports:{}},g4;function AM(){return g4||(g4=1,function(t,e){(function(n,r){t.exports=r(xe())})(ve,function(n){return function(){var r=n,o=r.lib,i=o.WordArray,s=r.enc;s.Base64url={stringify:function(u,l){l===void 0&&(l=!0);var c=u.words,f=u.sigBytes,d=l?this._safe_map:this._map;u.clamp();for(var p=[],m=0;m<f;m+=3)for(var y=c[m>>>2]>>>24-m%4*8&255,_=c[m+1>>>2]>>>24-(m+1)%4*8&255,v=c[m+2>>>2]>>>24-(m+2)%4*8&255,g=y<<16|_<<8|v,E=0;E<4&&m+E*.75<f;E++)p.push(d.charAt(g>>>6*(3-E)&63));var x=d.charAt(64);if(x)for(;p.length%4;)p.push(x);return p.join("")},parse:function(u,l){l===void 0&&(l=!0);var c=u.length,f=l?this._safe_map:this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var p=0;p<f.length;p++)d[f.charCodeAt(p)]=p}var m=f.charAt(64);if(m){var y=u.indexOf(m);y!==-1&&(c=y)}return a(u,c,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(u,l,c){for(var f=[],d=0,p=0;p<l;p++)if(p%4){var m=c[u.charCodeAt(p-1)]<<p%4*2,y=c[u.charCodeAt(p)]>>>6-p%4*2,_=m|y;f[d>>>2]|=_<<24-d%4*8,d++}return i.create(f,d)}}(),n.enc.Base64url})}(w1)),w1.exports}var E1={exports:{}},y4;function vs(){return y4||(y4=1,function(t,e){(function(n,r){t.exports=r(xe())})(ve,function(n){return function(r){var o=n,i=o.lib,s=i.WordArray,a=i.Hasher,u=o.algo,l=[];(function(){for(var y=0;y<64;y++)l[y]=r.abs(r.sin(y+1))*4294967296|0})();var c=u.MD5=a.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(y,_){for(var v=0;v<16;v++){var g=_+v,E=y[g];y[g]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360}var x=this._hash.words,P=y[_+0],N=y[_+1],I=y[_+2],C=y[_+3],D=y[_+4],T=y[_+5],R=y[_+6],k=y[_+7],b=y[_+8],U=y[_+9],K=y[_+10],te=y[_+11],re=y[_+12],$=y[_+13],Y=y[_+14],ee=y[_+15],V=x[0],H=x[1],G=x[2],W=x[3];V=f(V,H,G,W,P,7,l[0]),W=f(W,V,H,G,N,12,l[1]),G=f(G,W,V,H,I,17,l[2]),H=f(H,G,W,V,C,22,l[3]),V=f(V,H,G,W,D,7,l[4]),W=f(W,V,H,G,T,12,l[5]),G=f(G,W,V,H,R,17,l[6]),H=f(H,G,W,V,k,22,l[7]),V=f(V,H,G,W,b,7,l[8]),W=f(W,V,H,G,U,12,l[9]),G=f(G,W,V,H,K,17,l[10]),H=f(H,G,W,V,te,22,l[11]),V=f(V,H,G,W,re,7,l[12]),W=f(W,V,H,G,$,12,l[13]),G=f(G,W,V,H,Y,17,l[14]),H=f(H,G,W,V,ee,22,l[15]),V=d(V,H,G,W,N,5,l[16]),W=d(W,V,H,G,R,9,l[17]),G=d(G,W,V,H,te,14,l[18]),H=d(H,G,W,V,P,20,l[19]),V=d(V,H,G,W,T,5,l[20]),W=d(W,V,H,G,K,9,l[21]),G=d(G,W,V,H,ee,14,l[22]),H=d(H,G,W,V,D,20,l[23]),V=d(V,H,G,W,U,5,l[24]),W=d(W,V,H,G,Y,9,l[25]),G=d(G,W,V,H,C,14,l[26]),H=d(H,G,W,V,b,20,l[27]),V=d(V,H,G,W,$,5,l[28]),W=d(W,V,H,G,I,9,l[29]),G=d(G,W,V,H,k,14,l[30]),H=d(H,G,W,V,re,20,l[31]),V=p(V,H,G,W,T,4,l[32]),W=p(W,V,H,G,b,11,l[33]),G=p(G,W,V,H,te,16,l[34]),H=p(H,G,W,V,Y,23,l[35]),V=p(V,H,G,W,N,4,l[36]),W=p(W,V,H,G,D,11,l[37]),G=p(G,W,V,H,k,16,l[38]),H=p(H,G,W,V,K,23,l[39]),V=p(V,H,G,W,$,4,l[40]),W=p(W,V,H,G,P,11,l[41]),G=p(G,W,V,H,C,16,l[42]),H=p(H,G,W,V,R,23,l[43]),V=p(V,H,G,W,U,4,l[44]),W=p(W,V,H,G,re,11,l[45]),G=p(G,W,V,H,ee,16,l[46]),H=p(H,G,W,V,I,23,l[47]),V=m(V,H,G,W,P,6,l[48]),W=m(W,V,H,G,k,10,l[49]),G=m(G,W,V,H,Y,15,l[50]),H=m(H,G,W,V,T,21,l[51]),V=m(V,H,G,W,re,6,l[52]),W=m(W,V,H,G,C,10,l[53]),G=m(G,W,V,H,K,15,l[54]),H=m(H,G,W,V,N,21,l[55]),V=m(V,H,G,W,b,6,l[56]),W=m(W,V,H,G,ee,10,l[57]),G=m(G,W,V,H,R,15,l[58]),H=m(H,G,W,V,$,21,l[59]),V=m(V,H,G,W,D,6,l[60]),W=m(W,V,H,G,te,10,l[61]),G=m(G,W,V,H,I,15,l[62]),H=m(H,G,W,V,U,21,l[63]),x[0]=x[0]+V|0,x[1]=x[1]+H|0,x[2]=x[2]+G|0,x[3]=x[3]+W|0},_doFinalize:function(){var y=this._data,_=y.words,v=this._nDataBytes*8,g=y.sigBytes*8;_[g>>>5]|=128<<24-g%32;var E=r.floor(v/4294967296),x=v;_[(g+64>>>9<<4)+15]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,_[(g+64>>>9<<4)+14]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,y.sigBytes=(_.length+1)*4,this._process();for(var P=this._hash,N=P.words,I=0;I<4;I++){var C=N[I];N[I]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360}return P},clone:function(){var y=a.clone.call(this);return y._hash=this._hash.clone(),y}});function f(y,_,v,g,E,x,P){var N=y+(_&v|~_&g)+E+P;return(N<<x|N>>>32-x)+_}function d(y,_,v,g,E,x,P){var N=y+(_&g|v&~g)+E+P;return(N<<x|N>>>32-x)+_}function p(y,_,v,g,E,x,P){var N=y+(_^v^g)+E+P;return(N<<x|N>>>32-x)+_}function m(y,_,v,g,E,x,P){var N=y+(v^(_|~g))+E+P;return(N<<x|N>>>32-x)+_}o.MD5=a._createHelper(c),o.HmacMD5=a._createHmacHelper(c)}(Math),n.MD5})}(E1)),E1.exports}var x1={exports:{}},v4;function rA(){return v4||(v4=1,function(t,e){(function(n,r){t.exports=r(xe())})(ve,function(n){return function(){var r=n,o=r.lib,i=o.WordArray,s=o.Hasher,a=r.algo,u=[],l=a.SHA1=s.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(c,f){for(var d=this._hash.words,p=d[0],m=d[1],y=d[2],_=d[3],v=d[4],g=0;g<80;g++){if(g<16)u[g]=c[f+g]|0;else{var E=u[g-3]^u[g-8]^u[g-14]^u[g-16];u[g]=E<<1|E>>>31}var x=(p<<5|p>>>27)+v+u[g];g<20?x+=(m&y|~m&_)+1518500249:g<40?x+=(m^y^_)+1859775393:g<60?x+=(m&y|m&_|y&_)-1894007588:x+=(m^y^_)-899497514,v=_,_=y,y=m<<30|m>>>2,m=p,p=x}d[0]=d[0]+p|0,d[1]=d[1]+m|0,d[2]=d[2]+y|0,d[3]=d[3]+_|0,d[4]=d[4]+v|0},_doFinalize:function(){var c=this._data,f=c.words,d=this._nDataBytes*8,p=c.sigBytes*8;return f[p>>>5]|=128<<24-p%32,f[(p+64>>>9<<4)+14]=Math.floor(d/4294967296),f[(p+64>>>9<<4)+15]=d,c.sigBytes=f.length*4,this._process(),this._hash},clone:function(){var c=s.clone.call(this);return c._hash=this._hash.clone(),c}});r.SHA1=s._createHelper(l),r.HmacSHA1=s._createHmacHelper(l)}(),n.SHA1})}(x1)),x1.exports}var C1={exports:{}},_4;function ay(){return _4||(_4=1,function(t,e){(function(n,r){t.exports=r(xe())})(ve,function(n){return function(r){var o=n,i=o.lib,s=i.WordArray,a=i.Hasher,u=o.algo,l=[],c=[];(function(){function p(v){for(var g=r.sqrt(v),E=2;E<=g;E++)if(!(v%E))return!1;return!0}function m(v){return(v-(v|0))*4294967296|0}for(var y=2,_=0;_<64;)p(y)&&(_<8&&(l[_]=m(r.pow(y,1/2))),c[_]=m(r.pow(y,1/3)),_++),y++})();var f=[],d=u.SHA256=a.extend({_doReset:function(){this._hash=new s.init(l.slice(0))},_doProcessBlock:function(p,m){for(var y=this._hash.words,_=y[0],v=y[1],g=y[2],E=y[3],x=y[4],P=y[5],N=y[6],I=y[7],C=0;C<64;C++){if(C<16)f[C]=p[m+C]|0;else{var D=f[C-15],T=(D<<25|D>>>7)^(D<<14|D>>>18)^D>>>3,R=f[C-2],k=(R<<15|R>>>17)^(R<<13|R>>>19)^R>>>10;f[C]=T+f[C-7]+k+f[C-16]}var b=x&P^~x&N,U=_&v^_&g^v&g,K=(_<<30|_>>>2)^(_<<19|_>>>13)^(_<<10|_>>>22),te=(x<<26|x>>>6)^(x<<21|x>>>11)^(x<<7|x>>>25),re=I+te+b+c[C]+f[C],$=K+U;I=N,N=P,P=x,x=E+re|0,E=g,g=v,v=_,_=re+$|0}y[0]=y[0]+_|0,y[1]=y[1]+v|0,y[2]=y[2]+g|0,y[3]=y[3]+E|0,y[4]=y[4]+x|0,y[5]=y[5]+P|0,y[6]=y[6]+N|0,y[7]=y[7]+I|0},_doFinalize:function(){var p=this._data,m=p.words,y=this._nDataBytes*8,_=p.sigBytes*8;return m[_>>>5]|=128<<24-_%32,m[(_+64>>>9<<4)+14]=r.floor(y/4294967296),m[(_+64>>>9<<4)+15]=y,p.sigBytes=m.length*4,this._process(),this._hash},clone:function(){var p=a.clone.call(this);return p._hash=this._hash.clone(),p}});o.SHA256=a._createHelper(d),o.HmacSHA256=a._createHmacHelper(d)}(Math),n.SHA256})}(C1)),C1.exports}var A1={exports:{}},w4;function IM(){return w4||(w4=1,function(t,e){(function(n,r,o){t.exports=r(xe(),ay())})(ve,function(n){return function(){var r=n,o=r.lib,i=o.WordArray,s=r.algo,a=s.SHA256,u=s.SHA224=a.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var l=a._doFinalize.call(this);return l.sigBytes-=4,l}});r.SHA224=a._createHelper(u),r.HmacSHA224=a._createHmacHelper(u)}(),n.SHA224})}(A1)),A1.exports}var I1={exports:{}},E4;function oA(){return E4||(E4=1,function(t,e){(function(n,r,o){t.exports=r(xe(),Kd())})(ve,function(n){return function(){var r=n,o=r.lib,i=o.Hasher,s=r.x64,a=s.Word,u=s.WordArray,l=r.algo;function c(){return a.create.apply(a,arguments)}var f=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],d=[];(function(){for(var m=0;m<80;m++)d[m]=c()})();var p=l.SHA512=i.extend({_doReset:function(){this._hash=new u.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(m,y){for(var _=this._hash.words,v=_[0],g=_[1],E=_[2],x=_[3],P=_[4],N=_[5],I=_[6],C=_[7],D=v.high,T=v.low,R=g.high,k=g.low,b=E.high,U=E.low,K=x.high,te=x.low,re=P.high,$=P.low,Y=N.high,ee=N.low,V=I.high,H=I.low,G=C.high,W=C.low,ye=D,fe=T,Pe=R,pe=k,Me=b,He=U,Xe=K,xt=te,Dt=re,Nt=$,uo=Y,lo=ee,wi=V,Ei=H,_s=G,co=W,an=0;an<80;an++){var un,vr,fo=d[an];if(an<16)vr=fo.high=m[y+an*2]|0,un=fo.low=m[y+an*2+1]|0;else{var ws=d[an-15],_r=ws.high,ot=ws.low,Ot=(_r>>>1|ot<<31)^(_r>>>8|ot<<24)^_r>>>7,xi=(ot>>>1|_r<<31)^(ot>>>8|_r<<24)^(ot>>>7|_r<<25),za=d[an-2],Nr=za.high,Ci=za.low,Ai=(Nr>>>19|Ci<<13)^(Nr<<3|Ci>>>29)^Nr>>>6,Wa=(Ci>>>19|Nr<<13)^(Ci<<3|Nr>>>29)^(Ci>>>6|Nr<<26),Ga=d[an-7],qa=Ga.high,eh=Ga.low,ic=d[an-16],Ka=ic.high,Xa=ic.low;un=xi+eh,vr=Ot+qa+(un>>>0<xi>>>0?1:0),un=un+Wa,vr=vr+Ai+(un>>>0<Wa>>>0?1:0),un=un+Xa,vr=vr+Ka+(un>>>0<Xa>>>0?1:0),fo.high=vr,fo.low=un}var sc=Dt&uo^~Dt&wi,ho=Nt&lo^~Nt&Ei,Ya=ye&Pe^ye&Me^Pe&Me,Qa=fe&pe^fe&He^pe&He,Or=(ye>>>28|fe<<4)^(ye<<30|fe>>>2)^(ye<<25|fe>>>7),Za=(fe>>>28|ye<<4)^(fe<<30|ye>>>2)^(fe<<25|ye>>>7),Es=(Dt>>>14|Nt<<18)^(Dt>>>18|Nt<<14)^(Dt<<23|Nt>>>9),ac=(Nt>>>14|Dt<<18)^(Nt>>>18|Dt<<14)^(Nt<<23|Dt>>>9),po=f[an],uc=po.high,Ct=po.low,qt=co+ac,yn=_s+Es+(qt>>>0<co>>>0?1:0),qt=qt+ho,yn=yn+sc+(qt>>>0<ho>>>0?1:0),qt=qt+Ct,yn=yn+uc+(qt>>>0<Ct>>>0?1:0),qt=qt+un,yn=yn+vr+(qt>>>0<un>>>0?1:0),mo=Za+Qa,th=Or+Ya+(mo>>>0<Za>>>0?1:0);_s=wi,co=Ei,wi=uo,Ei=lo,uo=Dt,lo=Nt,Nt=xt+qt|0,Dt=Xe+yn+(Nt>>>0<xt>>>0?1:0)|0,Xe=Me,xt=He,Me=Pe,He=pe,Pe=ye,pe=fe,fe=qt+mo|0,ye=yn+th+(fe>>>0<qt>>>0?1:0)|0}T=v.low=T+fe,v.high=D+ye+(T>>>0<fe>>>0?1:0),k=g.low=k+pe,g.high=R+Pe+(k>>>0<pe>>>0?1:0),U=E.low=U+He,E.high=b+Me+(U>>>0<He>>>0?1:0),te=x.low=te+xt,x.high=K+Xe+(te>>>0<xt>>>0?1:0),$=P.low=$+Nt,P.high=re+Dt+($>>>0<Nt>>>0?1:0),ee=N.low=ee+lo,N.high=Y+uo+(ee>>>0<lo>>>0?1:0),H=I.low=H+Ei,I.high=V+wi+(H>>>0<Ei>>>0?1:0),W=C.low=W+co,C.high=G+_s+(W>>>0<co>>>0?1:0)},_doFinalize:function(){var m=this._data,y=m.words,_=this._nDataBytes*8,v=m.sigBytes*8;y[v>>>5]|=128<<24-v%32,y[(v+128>>>10<<5)+30]=Math.floor(_/4294967296),y[(v+128>>>10<<5)+31]=_,m.sigBytes=y.length*4,this._process();var g=this._hash.toX32();return g},clone:function(){var m=i.clone.call(this);return m._hash=this._hash.clone(),m},blockSize:1024/32});r.SHA512=i._createHelper(p),r.HmacSHA512=i._createHmacHelper(p)}(),n.SHA512})}(I1)),I1.exports}var T1={exports:{}},x4;function TM(){return x4||(x4=1,function(t,e){(function(n,r,o){t.exports=r(xe(),Kd(),oA())})(ve,function(n){return function(){var r=n,o=r.x64,i=o.Word,s=o.WordArray,a=r.algo,u=a.SHA512,l=a.SHA384=u.extend({_doReset:function(){this._hash=new s.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var c=u._doFinalize.call(this);return c.sigBytes-=16,c}});r.SHA384=u._createHelper(l),r.HmacSHA384=u._createHmacHelper(l)}(),n.SHA384})}(T1)),T1.exports}var S1={exports:{}},C4;function SM(){return C4||(C4=1,function(t,e){(function(n,r,o){t.exports=r(xe(),Kd())})(ve,function(n){return function(r){var o=n,i=o.lib,s=i.WordArray,a=i.Hasher,u=o.x64,l=u.Word,c=o.algo,f=[],d=[],p=[];(function(){for(var _=1,v=0,g=0;g<24;g++){f[_+5*v]=(g+1)*(g+2)/2%64;var E=v%5,x=(2*_+3*v)%5;_=E,v=x}for(var _=0;_<5;_++)for(var v=0;v<5;v++)d[_+5*v]=v+(2*_+3*v)%5*5;for(var P=1,N=0;N<24;N++){for(var I=0,C=0,D=0;D<7;D++){if(P&1){var T=(1<<D)-1;T<32?C^=1<<T:I^=1<<T-32}P&128?P=P<<1^113:P<<=1}p[N]=l.create(I,C)}})();var m=[];(function(){for(var _=0;_<25;_++)m[_]=l.create()})();var y=c.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var _=this._state=[],v=0;v<25;v++)_[v]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(_,v){for(var g=this._state,E=this.blockSize/2,x=0;x<E;x++){var P=_[v+2*x],N=_[v+2*x+1];P=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,N=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360;var I=g[x];I.high^=N,I.low^=P}for(var C=0;C<24;C++){for(var D=0;D<5;D++){for(var T=0,R=0,k=0;k<5;k++){var I=g[D+5*k];T^=I.high,R^=I.low}var b=m[D];b.high=T,b.low=R}for(var D=0;D<5;D++)for(var U=m[(D+4)%5],K=m[(D+1)%5],te=K.high,re=K.low,T=U.high^(te<<1|re>>>31),R=U.low^(re<<1|te>>>31),k=0;k<5;k++){var I=g[D+5*k];I.high^=T,I.low^=R}for(var $=1;$<25;$++){var T,R,I=g[$],Y=I.high,ee=I.low,V=f[$];V<32?(T=Y<<V|ee>>>32-V,R=ee<<V|Y>>>32-V):(T=ee<<V-32|Y>>>64-V,R=Y<<V-32|ee>>>64-V);var H=m[d[$]];H.high=T,H.low=R}var G=m[0],W=g[0];G.high=W.high,G.low=W.low;for(var D=0;D<5;D++)for(var k=0;k<5;k++){var $=D+5*k,I=g[$],ye=m[$],fe=m[(D+1)%5+5*k],Pe=m[(D+2)%5+5*k];I.high=ye.high^~fe.high&Pe.high,I.low=ye.low^~fe.low&Pe.low}var I=g[0],pe=p[C];I.high^=pe.high,I.low^=pe.low}},_doFinalize:function(){var _=this._data,v=_.words;this._nDataBytes*8;var g=_.sigBytes*8,E=this.blockSize*32;v[g>>>5]|=1<<24-g%32,v[(r.ceil((g+1)/E)*E>>>5)-1]|=128,_.sigBytes=v.length*4,this._process();for(var x=this._state,P=this.cfg.outputLength/8,N=P/8,I=[],C=0;C<N;C++){var D=x[C],T=D.high,R=D.low;T=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,R=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,I.push(R),I.push(T)}return new s.init(I,P)},clone:function(){for(var _=a.clone.call(this),v=_._state=this._state.slice(0),g=0;g<25;g++)v[g]=v[g].clone();return _}});o.SHA3=a._createHelper(y),o.HmacSHA3=a._createHmacHelper(y)}(Math),n.SHA3})}(S1)),S1.exports}var b1={exports:{}},A4;function bM(){return A4||(A4=1,function(t,e){(function(n,r){t.exports=r(xe())})(ve,function(n){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(r){var o=n,i=o.lib,s=i.WordArray,a=i.Hasher,u=o.algo,l=s.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=s.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),f=s.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),d=s.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),p=s.create([0,1518500249,1859775393,2400959708,2840853838]),m=s.create([1352829926,1548603684,1836072691,2053994217,0]),y=u.RIPEMD160=a.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(N,I){for(var C=0;C<16;C++){var D=I+C,T=N[D];N[D]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}var R=this._hash.words,k=p.words,b=m.words,U=l.words,K=c.words,te=f.words,re=d.words,$,Y,ee,V,H,G,W,ye,fe,Pe;G=$=R[0],W=Y=R[1],ye=ee=R[2],fe=V=R[3],Pe=H=R[4];for(var pe,C=0;C<80;C+=1)pe=$+N[I+U[C]]|0,C<16?pe+=_(Y,ee,V)+k[0]:C<32?pe+=v(Y,ee,V)+k[1]:C<48?pe+=g(Y,ee,V)+k[2]:C<64?pe+=E(Y,ee,V)+k[3]:pe+=x(Y,ee,V)+k[4],pe=pe|0,pe=P(pe,te[C]),pe=pe+H|0,$=H,H=V,V=P(ee,10),ee=Y,Y=pe,pe=G+N[I+K[C]]|0,C<16?pe+=x(W,ye,fe)+b[0]:C<32?pe+=E(W,ye,fe)+b[1]:C<48?pe+=g(W,ye,fe)+b[2]:C<64?pe+=v(W,ye,fe)+b[3]:pe+=_(W,ye,fe)+b[4],pe=pe|0,pe=P(pe,re[C]),pe=pe+Pe|0,G=Pe,Pe=fe,fe=P(ye,10),ye=W,W=pe;pe=R[1]+ee+fe|0,R[1]=R[2]+V+Pe|0,R[2]=R[3]+H+G|0,R[3]=R[4]+$+W|0,R[4]=R[0]+Y+ye|0,R[0]=pe},_doFinalize:function(){var N=this._data,I=N.words,C=this._nDataBytes*8,D=N.sigBytes*8;I[D>>>5]|=128<<24-D%32,I[(D+64>>>9<<4)+14]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,N.sigBytes=(I.length+1)*4,this._process();for(var T=this._hash,R=T.words,k=0;k<5;k++){var b=R[k];R[k]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360}return T},clone:function(){var N=a.clone.call(this);return N._hash=this._hash.clone(),N}});function _(N,I,C){return N^I^C}function v(N,I,C){return N&I|~N&C}function g(N,I,C){return(N|~I)^C}function E(N,I,C){return N&C|I&~C}function x(N,I,C){return N^(I|~C)}function P(N,I){return N<<I|N>>>32-I}o.RIPEMD160=a._createHelper(y),o.HmacRIPEMD160=a._createHmacHelper(y)}(),n.RIPEMD160})}(b1)),b1.exports}var R1={exports:{}},I4;function uy(){return I4||(I4=1,function(t,e){(function(n,r){t.exports=r(xe())})(ve,function(n){(function(){var r=n,o=r.lib,i=o.Base,s=r.enc,a=s.Utf8,u=r.algo;u.HMAC=i.extend({init:function(l,c){l=this._hasher=new l.init,typeof c=="string"&&(c=a.parse(c));var f=l.blockSize,d=f*4;c.sigBytes>d&&(c=l.finalize(c)),c.clamp();for(var p=this._oKey=c.clone(),m=this._iKey=c.clone(),y=p.words,_=m.words,v=0;v<f;v++)y[v]^=1549556828,_[v]^=909522486;p.sigBytes=m.sigBytes=d,this.reset()},reset:function(){var l=this._hasher;l.reset(),l.update(this._iKey)},update:function(l){return this._hasher.update(l),this},finalize:function(l){var c=this._hasher,f=c.finalize(l);c.reset();var d=c.finalize(this._oKey.clone().concat(f));return d}})})()})}(R1)),R1.exports}var P1={exports:{}},T4;function RM(){return T4||(T4=1,function(t,e){(function(n,r,o){t.exports=r(xe(),ay(),uy())})(ve,function(n){return function(){var r=n,o=r.lib,i=o.Base,s=o.WordArray,a=r.algo,u=a.SHA256,l=a.HMAC,c=a.PBKDF2=i.extend({cfg:i.extend({keySize:128/32,hasher:u,iterations:25e4}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,d){for(var p=this.cfg,m=l.create(p.hasher,f),y=s.create(),_=s.create([1]),v=y.words,g=_.words,E=p.keySize,x=p.iterations;v.length<E;){var P=m.update(d).finalize(_);m.reset();for(var N=P.words,I=N.length,C=P,D=1;D<x;D++){C=m.finalize(C),m.reset();for(var T=C.words,R=0;R<I;R++)N[R]^=T[R]}y.concat(P),g[0]++}return y.sigBytes=E*4,y}});r.PBKDF2=function(f,d,p){return c.create(p).compute(f,d)}}(),n.PBKDF2})}(P1)),P1.exports}var D1={exports:{}},S4;function _i(){return S4||(S4=1,function(t,e){(function(n,r,o){t.exports=r(xe(),rA(),uy())})(ve,function(n){return function(){var r=n,o=r.lib,i=o.Base,s=o.WordArray,a=r.algo,u=a.MD5,l=a.EvpKDF=i.extend({cfg:i.extend({keySize:128/32,hasher:u,iterations:1}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(c,f){for(var d,p=this.cfg,m=p.hasher.create(),y=s.create(),_=y.words,v=p.keySize,g=p.iterations;_.length<v;){d&&m.update(d),d=m.update(c).finalize(f),m.reset();for(var E=1;E<g;E++)d=m.finalize(d),m.reset();y.concat(d)}return y.sigBytes=v*4,y}});r.EvpKDF=function(c,f,d){return l.create(d).compute(c,f)}}(),n.EvpKDF})}(D1)),D1.exports}var N1={exports:{}},b4;function Pt(){return b4||(b4=1,function(t,e){(function(n,r,o){t.exports=r(xe(),_i())})(ve,function(n){n.lib.Cipher||function(r){var o=n,i=o.lib,s=i.Base,a=i.WordArray,u=i.BufferedBlockAlgorithm,l=o.enc;l.Utf8;var c=l.Base64,f=o.algo,d=f.EvpKDF,p=i.Cipher=u.extend({cfg:s.extend(),createEncryptor:function(T,R){return this.create(this._ENC_XFORM_MODE,T,R)},createDecryptor:function(T,R){return this.create(this._DEC_XFORM_MODE,T,R)},init:function(T,R,k){this.cfg=this.cfg.extend(k),this._xformMode=T,this._key=R,this.reset()},reset:function(){u.reset.call(this),this._doReset()},process:function(T){return this._append(T),this._process()},finalize:function(T){T&&this._append(T);var R=this._doFinalize();return R},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function T(R){return typeof R=="string"?D:N}return function(R){return{encrypt:function(k,b,U){return T(b).encrypt(R,k,b,U)},decrypt:function(k,b,U){return T(b).decrypt(R,k,b,U)}}}}()});i.StreamCipher=p.extend({_doFinalize:function(){var T=this._process(!0);return T},blockSize:1});var m=o.mode={},y=i.BlockCipherMode=s.extend({createEncryptor:function(T,R){return this.Encryptor.create(T,R)},createDecryptor:function(T,R){return this.Decryptor.create(T,R)},init:function(T,R){this._cipher=T,this._iv=R}}),_=m.CBC=function(){var T=y.extend();T.Encryptor=T.extend({processBlock:function(k,b){var U=this._cipher,K=U.blockSize;R.call(this,k,b,K),U.encryptBlock(k,b),this._prevBlock=k.slice(b,b+K)}}),T.Decryptor=T.extend({processBlock:function(k,b){var U=this._cipher,K=U.blockSize,te=k.slice(b,b+K);U.decryptBlock(k,b),R.call(this,k,b,K),this._prevBlock=te}});function R(k,b,U){var K,te=this._iv;te?(K=te,this._iv=r):K=this._prevBlock;for(var re=0;re<U;re++)k[b+re]^=K[re]}return T}(),v=o.pad={},g=v.Pkcs7={pad:function(T,R){for(var k=R*4,b=k-T.sigBytes%k,U=b<<24|b<<16|b<<8|b,K=[],te=0;te<b;te+=4)K.push(U);var re=a.create(K,b);T.concat(re)},unpad:function(T){var R=T.words[T.sigBytes-1>>>2]&255;T.sigBytes-=R}};i.BlockCipher=p.extend({cfg:p.cfg.extend({mode:_,padding:g}),reset:function(){var T;p.reset.call(this);var R=this.cfg,k=R.iv,b=R.mode;this._xformMode==this._ENC_XFORM_MODE?T=b.createEncryptor:(T=b.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==T?this._mode.init(this,k&&k.words):(this._mode=T.call(b,this,k&&k.words),this._mode.__creator=T)},_doProcessBlock:function(T,R){this._mode.processBlock(T,R)},_doFinalize:function(){var T,R=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(R.pad(this._data,this.blockSize),T=this._process(!0)):(T=this._process(!0),R.unpad(T)),T},blockSize:128/32});var E=i.CipherParams=s.extend({init:function(T){this.mixIn(T)},toString:function(T){return(T||this.formatter).stringify(this)}}),x=o.format={},P=x.OpenSSL={stringify:function(T){var R,k=T.ciphertext,b=T.salt;return b?R=a.create([1398893684,1701076831]).concat(b).concat(k):R=k,R.toString(c)},parse:function(T){var R,k=c.parse(T),b=k.words;return b[0]==1398893684&&b[1]==1701076831&&(R=a.create(b.slice(2,4)),b.splice(0,4),k.sigBytes-=16),E.create({ciphertext:k,salt:R})}},N=i.SerializableCipher=s.extend({cfg:s.extend({format:P}),encrypt:function(T,R,k,b){b=this.cfg.extend(b);var U=T.createEncryptor(k,b),K=U.finalize(R),te=U.cfg;return E.create({ciphertext:K,key:k,iv:te.iv,algorithm:T,mode:te.mode,padding:te.padding,blockSize:T.blockSize,formatter:b.format})},decrypt:function(T,R,k,b){b=this.cfg.extend(b),R=this._parse(R,b.format);var U=T.createDecryptor(k,b).finalize(R.ciphertext);return U},_parse:function(T,R){return typeof T=="string"?R.parse(T,this):T}}),I=o.kdf={},C=I.OpenSSL={execute:function(T,R,k,b,U){if(b||(b=a.random(64/8)),U)var K=d.create({keySize:R+k,hasher:U}).compute(T,b);else var K=d.create({keySize:R+k}).compute(T,b);var te=a.create(K.words.slice(R),k*4);return K.sigBytes=R*4,E.create({key:K,iv:te,salt:b})}},D=i.PasswordBasedCipher=N.extend({cfg:N.cfg.extend({kdf:C}),encrypt:function(T,R,k,b){b=this.cfg.extend(b);var U=b.kdf.execute(k,T.keySize,T.ivSize,b.salt,b.hasher);b.iv=U.iv;var K=N.encrypt.call(this,T,R,U.key,b);return K.mixIn(U),K},decrypt:function(T,R,k,b){b=this.cfg.extend(b),R=this._parse(R,b.format);var U=b.kdf.execute(k,T.keySize,T.ivSize,R.salt,b.hasher);b.iv=U.iv;var K=N.decrypt.call(this,T,R,U.key,b);return K}})}()})}(N1)),N1.exports}var O1={exports:{}},R4;function PM(){return R4||(R4=1,function(t,e){(function(n,r,o){t.exports=r(xe(),Pt())})(ve,function(n){return n.mode.CFB=function(){var r=n.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(i,s){var a=this._cipher,u=a.blockSize;o.call(this,i,s,u,a),this._prevBlock=i.slice(s,s+u)}}),r.Decryptor=r.extend({processBlock:function(i,s){var a=this._cipher,u=a.blockSize,l=i.slice(s,s+u);o.call(this,i,s,u,a),this._prevBlock=l}});function o(i,s,a,u){var l,c=this._iv;c?(l=c.slice(0),this._iv=void 0):l=this._prevBlock,u.encryptBlock(l,0);for(var f=0;f<a;f++)i[s+f]^=l[f]}return r}(),n.mode.CFB})}(O1)),O1.exports}var k1={exports:{}},P4;function DM(){return P4||(P4=1,function(t,e){(function(n,r,o){t.exports=r(xe(),Pt())})(ve,function(n){return n.mode.CTR=function(){var r=n.lib.BlockCipherMode.extend(),o=r.Encryptor=r.extend({processBlock:function(i,s){var a=this._cipher,u=a.blockSize,l=this._iv,c=this._counter;l&&(c=this._counter=l.slice(0),this._iv=void 0);var f=c.slice(0);a.encryptBlock(f,0),c[u-1]=c[u-1]+1|0;for(var d=0;d<u;d++)i[s+d]^=f[d]}});return r.Decryptor=o,r}(),n.mode.CTR})}(k1)),k1.exports}var B1={exports:{}},D4;function NM(){return D4||(D4=1,function(t,e){(function(n,r,o){t.exports=r(xe(),Pt())})(ve,function(n){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return n.mode.CTRGladman=function(){var r=n.lib.BlockCipherMode.extend();function o(a){if((a>>24&255)===255){var u=a>>16&255,l=a>>8&255,c=a&255;u===255?(u=0,l===255?(l=0,c===255?c=0:++c):++l):++u,a=0,a+=u<<16,a+=l<<8,a+=c}else a+=1<<24;return a}function i(a){return(a[0]=o(a[0]))===0&&(a[1]=o(a[1])),a}var s=r.Encryptor=r.extend({processBlock:function(a,u){var l=this._cipher,c=l.blockSize,f=this._iv,d=this._counter;f&&(d=this._counter=f.slice(0),this._iv=void 0),i(d);var p=d.slice(0);l.encryptBlock(p,0);for(var m=0;m<c;m++)a[u+m]^=p[m]}});return r.Decryptor=s,r}(),n.mode.CTRGladman})}(B1)),B1.exports}var M1={exports:{}},N4;function OM(){return N4||(N4=1,function(t,e){(function(n,r,o){t.exports=r(xe(),Pt())})(ve,function(n){return n.mode.OFB=function(){var r=n.lib.BlockCipherMode.extend(),o=r.Encryptor=r.extend({processBlock:function(i,s){var a=this._cipher,u=a.blockSize,l=this._iv,c=this._keystream;l&&(c=this._keystream=l.slice(0),this._iv=void 0),a.encryptBlock(c,0);for(var f=0;f<u;f++)i[s+f]^=c[f]}});return r.Decryptor=o,r}(),n.mode.OFB})}(M1)),M1.exports}var F1={exports:{}},O4;function kM(){return O4||(O4=1,function(t,e){(function(n,r,o){t.exports=r(xe(),Pt())})(ve,function(n){return n.mode.ECB=function(){var r=n.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(o,i){this._cipher.encryptBlock(o,i)}}),r.Decryptor=r.extend({processBlock:function(o,i){this._cipher.decryptBlock(o,i)}}),r}(),n.mode.ECB})}(F1)),F1.exports}var L1={exports:{}},k4;function BM(){return k4||(k4=1,function(t,e){(function(n,r,o){t.exports=r(xe(),Pt())})(ve,function(n){return n.pad.AnsiX923={pad:function(r,o){var i=r.sigBytes,s=o*4,a=s-i%s,u=i+a-1;r.clamp(),r.words[u>>>2]|=a<<24-u%4*8,r.sigBytes+=a},unpad:function(r){var o=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=o}},n.pad.Ansix923})}(L1)),L1.exports}var V1={exports:{}},B4;function MM(){return B4||(B4=1,function(t,e){(function(n,r,o){t.exports=r(xe(),Pt())})(ve,function(n){return n.pad.Iso10126={pad:function(r,o){var i=o*4,s=i-r.sigBytes%i;r.concat(n.lib.WordArray.random(s-1)).concat(n.lib.WordArray.create([s<<24],1))},unpad:function(r){var o=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=o}},n.pad.Iso10126})}(V1)),V1.exports}var j1={exports:{}},M4;function FM(){return M4||(M4=1,function(t,e){(function(n,r,o){t.exports=r(xe(),Pt())})(ve,function(n){return n.pad.Iso97971={pad:function(r,o){r.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(r,o)},unpad:function(r){n.pad.ZeroPadding.unpad(r),r.sigBytes--}},n.pad.Iso97971})}(j1)),j1.exports}var U1={exports:{}},F4;function LM(){return F4||(F4=1,function(t,e){(function(n,r,o){t.exports=r(xe(),Pt())})(ve,function(n){return n.pad.ZeroPadding={pad:function(r,o){var i=o*4;r.clamp(),r.sigBytes+=i-(r.sigBytes%i||i)},unpad:function(r){for(var o=r.words,i=r.sigBytes-1,i=r.sigBytes-1;i>=0;i--)if(o[i>>>2]>>>24-i%4*8&255){r.sigBytes=i+1;break}}},n.pad.ZeroPadding})}(U1)),U1.exports}var $1={exports:{}},L4;function VM(){return L4||(L4=1,function(t,e){(function(n,r,o){t.exports=r(xe(),Pt())})(ve,function(n){return n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding})}($1)),$1.exports}var H1={exports:{}},V4;function jM(){return V4||(V4=1,function(t,e){(function(n,r,o){t.exports=r(xe(),Pt())})(ve,function(n){return function(r){var o=n,i=o.lib,s=i.CipherParams,a=o.enc,u=a.Hex,l=o.format;l.Hex={stringify:function(c){return c.ciphertext.toString(u)},parse:function(c){var f=u.parse(c);return s.create({ciphertext:f})}}}(),n.format.Hex})}(H1)),H1.exports}var z1={exports:{}},j4;function UM(){return j4||(j4=1,function(t,e){(function(n,r,o){t.exports=r(xe(),ys(),vs(),_i(),Pt())})(ve,function(n){return function(){var r=n,o=r.lib,i=o.BlockCipher,s=r.algo,a=[],u=[],l=[],c=[],f=[],d=[],p=[],m=[],y=[],_=[];(function(){for(var E=[],x=0;x<256;x++)x<128?E[x]=x<<1:E[x]=x<<1^283;for(var P=0,N=0,x=0;x<256;x++){var I=N^N<<1^N<<2^N<<3^N<<4;I=I>>>8^I&255^99,a[P]=I,u[I]=P;var C=E[P],D=E[C],T=E[D],R=E[I]*257^I*16843008;l[P]=R<<24|R>>>8,c[P]=R<<16|R>>>16,f[P]=R<<8|R>>>24,d[P]=R;var R=T*16843009^D*65537^C*257^P*16843008;p[I]=R<<24|R>>>8,m[I]=R<<16|R>>>16,y[I]=R<<8|R>>>24,_[I]=R,P?(P=C^E[E[E[T^C]]],N^=E[E[N]]):P=N=1}})();var v=[0,1,2,4,8,16,32,64,128,27,54],g=s.AES=i.extend({_doReset:function(){var E;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var x=this._keyPriorReset=this._key,P=x.words,N=x.sigBytes/4,I=this._nRounds=N+6,C=(I+1)*4,D=this._keySchedule=[],T=0;T<C;T++)T<N?D[T]=P[T]:(E=D[T-1],T%N?N>6&&T%N==4&&(E=a[E>>>24]<<24|a[E>>>16&255]<<16|a[E>>>8&255]<<8|a[E&255]):(E=E<<8|E>>>24,E=a[E>>>24]<<24|a[E>>>16&255]<<16|a[E>>>8&255]<<8|a[E&255],E^=v[T/N|0]<<24),D[T]=D[T-N]^E);for(var R=this._invKeySchedule=[],k=0;k<C;k++){var T=C-k;if(k%4)var E=D[T];else var E=D[T-4];k<4||T<=4?R[k]=E:R[k]=p[a[E>>>24]]^m[a[E>>>16&255]]^y[a[E>>>8&255]]^_[a[E&255]]}}},encryptBlock:function(E,x){this._doCryptBlock(E,x,this._keySchedule,l,c,f,d,a)},decryptBlock:function(E,x){var P=E[x+1];E[x+1]=E[x+3],E[x+3]=P,this._doCryptBlock(E,x,this._invKeySchedule,p,m,y,_,u);var P=E[x+1];E[x+1]=E[x+3],E[x+3]=P},_doCryptBlock:function(E,x,P,N,I,C,D,T){for(var R=this._nRounds,k=E[x]^P[0],b=E[x+1]^P[1],U=E[x+2]^P[2],K=E[x+3]^P[3],te=4,re=1;re<R;re++){var $=N[k>>>24]^I[b>>>16&255]^C[U>>>8&255]^D[K&255]^P[te++],Y=N[b>>>24]^I[U>>>16&255]^C[K>>>8&255]^D[k&255]^P[te++],ee=N[U>>>24]^I[K>>>16&255]^C[k>>>8&255]^D[b&255]^P[te++],V=N[K>>>24]^I[k>>>16&255]^C[b>>>8&255]^D[U&255]^P[te++];k=$,b=Y,U=ee,K=V}var $=(T[k>>>24]<<24|T[b>>>16&255]<<16|T[U>>>8&255]<<8|T[K&255])^P[te++],Y=(T[b>>>24]<<24|T[U>>>16&255]<<16|T[K>>>8&255]<<8|T[k&255])^P[te++],ee=(T[U>>>24]<<24|T[K>>>16&255]<<16|T[k>>>8&255]<<8|T[b&255])^P[te++],V=(T[K>>>24]<<24|T[k>>>16&255]<<16|T[b>>>8&255]<<8|T[U&255])^P[te++];E[x]=$,E[x+1]=Y,E[x+2]=ee,E[x+3]=V},keySize:256/32});r.AES=i._createHelper(g)}(),n.AES})}(z1)),z1.exports}var W1={exports:{}},U4;function $M(){return U4||(U4=1,function(t,e){(function(n,r,o){t.exports=r(xe(),ys(),vs(),_i(),Pt())})(ve,function(n){return function(){var r=n,o=r.lib,i=o.WordArray,s=o.BlockCipher,a=r.algo,u=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],p=a.DES=s.extend({_doReset:function(){for(var v=this._key,g=v.words,E=[],x=0;x<56;x++){var P=u[x]-1;E[x]=g[P>>>5]>>>31-P%32&1}for(var N=this._subKeys=[],I=0;I<16;I++){for(var C=N[I]=[],D=c[I],x=0;x<24;x++)C[x/6|0]|=E[(l[x]-1+D)%28]<<31-x%6,C[4+(x/6|0)]|=E[28+(l[x+24]-1+D)%28]<<31-x%6;C[0]=C[0]<<1|C[0]>>>31;for(var x=1;x<7;x++)C[x]=C[x]>>>(x-1)*4+3;C[7]=C[7]<<5|C[7]>>>27}for(var T=this._invSubKeys=[],x=0;x<16;x++)T[x]=N[15-x]},encryptBlock:function(v,g){this._doCryptBlock(v,g,this._subKeys)},decryptBlock:function(v,g){this._doCryptBlock(v,g,this._invSubKeys)},_doCryptBlock:function(v,g,E){this._lBlock=v[g],this._rBlock=v[g+1],m.call(this,4,252645135),m.call(this,16,65535),y.call(this,2,858993459),y.call(this,8,16711935),m.call(this,1,1431655765);for(var x=0;x<16;x++){for(var P=E[x],N=this._lBlock,I=this._rBlock,C=0,D=0;D<8;D++)C|=f[D][((I^P[D])&d[D])>>>0];this._lBlock=I,this._rBlock=N^C}var T=this._lBlock;this._lBlock=this._rBlock,this._rBlock=T,m.call(this,1,1431655765),y.call(this,8,16711935),y.call(this,2,858993459),m.call(this,16,65535),m.call(this,4,252645135),v[g]=this._lBlock,v[g+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function m(v,g){var E=(this._lBlock>>>v^this._rBlock)&g;this._rBlock^=E,this._lBlock^=E<<v}function y(v,g){var E=(this._rBlock>>>v^this._lBlock)&g;this._lBlock^=E,this._rBlock^=E<<v}r.DES=s._createHelper(p);var _=a.TripleDES=s.extend({_doReset:function(){var v=this._key,g=v.words;if(g.length!==2&&g.length!==4&&g.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var E=g.slice(0,2),x=g.length<4?g.slice(0,2):g.slice(2,4),P=g.length<6?g.slice(0,2):g.slice(4,6);this._des1=p.createEncryptor(i.create(E)),this._des2=p.createEncryptor(i.create(x)),this._des3=p.createEncryptor(i.create(P))},encryptBlock:function(v,g){this._des1.encryptBlock(v,g),this._des2.decryptBlock(v,g),this._des3.encryptBlock(v,g)},decryptBlock:function(v,g){this._des3.decryptBlock(v,g),this._des2.encryptBlock(v,g),this._des1.decryptBlock(v,g)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=s._createHelper(_)}(),n.TripleDES})}(W1)),W1.exports}var G1={exports:{}},$4;function HM(){return $4||($4=1,function(t,e){(function(n,r,o){t.exports=r(xe(),ys(),vs(),_i(),Pt())})(ve,function(n){return function(){var r=n,o=r.lib,i=o.StreamCipher,s=r.algo,a=s.RC4=i.extend({_doReset:function(){for(var c=this._key,f=c.words,d=c.sigBytes,p=this._S=[],m=0;m<256;m++)p[m]=m;for(var m=0,y=0;m<256;m++){var _=m%d,v=f[_>>>2]>>>24-_%4*8&255;y=(y+p[m]+v)%256;var g=p[m];p[m]=p[y],p[y]=g}this._i=this._j=0},_doProcessBlock:function(c,f){c[f]^=u.call(this)},keySize:256/32,ivSize:0});function u(){for(var c=this._S,f=this._i,d=this._j,p=0,m=0;m<4;m++){f=(f+1)%256,d=(d+c[f])%256;var y=c[f];c[f]=c[d],c[d]=y,p|=c[(c[f]+c[d])%256]<<24-m*8}return this._i=f,this._j=d,p}r.RC4=i._createHelper(a);var l=s.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)u.call(this)}});r.RC4Drop=i._createHelper(l)}(),n.RC4})}(G1)),G1.exports}var q1={exports:{}},H4;function zM(){return H4||(H4=1,function(t,e){(function(n,r,o){t.exports=r(xe(),ys(),vs(),_i(),Pt())})(ve,function(n){return function(){var r=n,o=r.lib,i=o.StreamCipher,s=r.algo,a=[],u=[],l=[],c=s.Rabbit=i.extend({_doReset:function(){for(var d=this._key.words,p=this.cfg.iv,m=0;m<4;m++)d[m]=(d[m]<<8|d[m]>>>24)&16711935|(d[m]<<24|d[m]>>>8)&4278255360;var y=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],_=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var m=0;m<4;m++)f.call(this);for(var m=0;m<8;m++)_[m]^=y[m+4&7];if(p){var v=p.words,g=v[0],E=v[1],x=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,P=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,N=x>>>16|P&4294901760,I=P<<16|x&65535;_[0]^=x,_[1]^=N,_[2]^=P,_[3]^=I,_[4]^=x,_[5]^=N,_[6]^=P,_[7]^=I;for(var m=0;m<4;m++)f.call(this)}},_doProcessBlock:function(d,p){var m=this._X;f.call(this),a[0]=m[0]^m[5]>>>16^m[3]<<16,a[1]=m[2]^m[7]>>>16^m[5]<<16,a[2]=m[4]^m[1]>>>16^m[7]<<16,a[3]=m[6]^m[3]>>>16^m[1]<<16;for(var y=0;y<4;y++)a[y]=(a[y]<<8|a[y]>>>24)&16711935|(a[y]<<24|a[y]>>>8)&4278255360,d[p+y]^=a[y]},blockSize:128/32,ivSize:64/32});function f(){for(var d=this._X,p=this._C,m=0;m<8;m++)u[m]=p[m];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<u[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<u[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<u[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<u[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<u[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<u[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<u[6]>>>0?1:0)|0,this._b=p[7]>>>0<u[7]>>>0?1:0;for(var m=0;m<8;m++){var y=d[m]+p[m],_=y&65535,v=y>>>16,g=((_*_>>>17)+_*v>>>15)+v*v,E=((y&4294901760)*y|0)+((y&65535)*y|0);l[m]=g^E}d[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,d[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,d[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,d[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,d[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,d[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,d[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,d[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}r.Rabbit=i._createHelper(c)}(),n.Rabbit})}(q1)),q1.exports}var K1={exports:{}},z4;function WM(){return z4||(z4=1,function(t,e){(function(n,r,o){t.exports=r(xe(),ys(),vs(),_i(),Pt())})(ve,function(n){return function(){var r=n,o=r.lib,i=o.StreamCipher,s=r.algo,a=[],u=[],l=[],c=s.RabbitLegacy=i.extend({_doReset:function(){var d=this._key.words,p=this.cfg.iv,m=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],y=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var _=0;_<4;_++)f.call(this);for(var _=0;_<8;_++)y[_]^=m[_+4&7];if(p){var v=p.words,g=v[0],E=v[1],x=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,P=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,N=x>>>16|P&4294901760,I=P<<16|x&65535;y[0]^=x,y[1]^=N,y[2]^=P,y[3]^=I,y[4]^=x,y[5]^=N,y[6]^=P,y[7]^=I;for(var _=0;_<4;_++)f.call(this)}},_doProcessBlock:function(d,p){var m=this._X;f.call(this),a[0]=m[0]^m[5]>>>16^m[3]<<16,a[1]=m[2]^m[7]>>>16^m[5]<<16,a[2]=m[4]^m[1]>>>16^m[7]<<16,a[3]=m[6]^m[3]>>>16^m[1]<<16;for(var y=0;y<4;y++)a[y]=(a[y]<<8|a[y]>>>24)&16711935|(a[y]<<24|a[y]>>>8)&4278255360,d[p+y]^=a[y]},blockSize:128/32,ivSize:64/32});function f(){for(var d=this._X,p=this._C,m=0;m<8;m++)u[m]=p[m];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<u[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<u[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<u[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<u[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<u[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<u[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<u[6]>>>0?1:0)|0,this._b=p[7]>>>0<u[7]>>>0?1:0;for(var m=0;m<8;m++){var y=d[m]+p[m],_=y&65535,v=y>>>16,g=((_*_>>>17)+_*v>>>15)+v*v,E=((y&4294901760)*y|0)+((y&65535)*y|0);l[m]=g^E}d[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,d[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,d[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,d[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,d[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,d[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,d[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,d[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}r.RabbitLegacy=i._createHelper(c)}(),n.RabbitLegacy})}(K1)),K1.exports}var X1={exports:{}},W4;function GM(){return W4||(W4=1,function(t,e){(function(n,r,o){t.exports=r(xe(),ys(),vs(),_i(),Pt())})(ve,function(n){return function(){var r=n,o=r.lib,i=o.BlockCipher,s=r.algo;const a=16,u=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],l=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var c={pbox:[],sbox:[]};function f(_,v){let g=v>>24&255,E=v>>16&255,x=v>>8&255,P=v&255,N=_.sbox[0][g]+_.sbox[1][E];return N=N^_.sbox[2][x],N=N+_.sbox[3][P],N}function d(_,v,g){let E=v,x=g,P;for(let N=0;N<a;++N)E=E^_.pbox[N],x=f(_,E)^x,P=E,E=x,x=P;return P=E,E=x,x=P,x=x^_.pbox[a],E=E^_.pbox[a+1],{left:E,right:x}}function p(_,v,g){let E=v,x=g,P;for(let N=a+1;N>1;--N)E=E^_.pbox[N],x=f(_,E)^x,P=E,E=x,x=P;return P=E,E=x,x=P,x=x^_.pbox[1],E=E^_.pbox[0],{left:E,right:x}}function m(_,v,g){for(let I=0;I<4;I++){_.sbox[I]=[];for(let C=0;C<256;C++)_.sbox[I][C]=l[I][C]}let E=0;for(let I=0;I<a+2;I++)_.pbox[I]=u[I]^v[E],E++,E>=g&&(E=0);let x=0,P=0,N=0;for(let I=0;I<a+2;I+=2)N=d(_,x,P),x=N.left,P=N.right,_.pbox[I]=x,_.pbox[I+1]=P;for(let I=0;I<4;I++)for(let C=0;C<256;C+=2)N=d(_,x,P),x=N.left,P=N.right,_.sbox[I][C]=x,_.sbox[I][C+1]=P;return!0}var y=s.Blowfish=i.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var _=this._keyPriorReset=this._key,v=_.words,g=_.sigBytes/4;m(c,v,g)}},encryptBlock:function(_,v){var g=d(c,_[v],_[v+1]);_[v]=g.left,_[v+1]=g.right},decryptBlock:function(_,v){var g=p(c,_[v],_[v+1]);_[v]=g.left,_[v+1]=g.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=i._createHelper(y)}(),n.Blowfish})}(X1)),X1.exports}(function(t,e){(function(n,r,o){t.exports=r(xe(),Kd(),xM(),CM(),ys(),AM(),vs(),rA(),ay(),IM(),oA(),TM(),SM(),bM(),uy(),RM(),_i(),Pt(),PM(),DM(),NM(),OM(),kM(),BM(),MM(),FM(),LM(),VM(),jM(),UM(),$M(),HM(),zM(),WM(),GM())})(ve,function(n){return n})})(nA);var qM=nA.exports;const L2=vE(qM),iA="earth-is-flat-moon-is-a-ball",sA=t=>L2.AES.encrypt(t,iA).toString().replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""),KM=t=>{const e=t.replace(/-/g,"+").replace(/_/g,"/");return L2.AES.decrypt(e,iA).toString(L2.enc.Utf8)},XM=t=>{let e=0;t.cartItems.forEach(s=>{e=e+parseInt(s.price)});const n=sA(t.paymentId),r=e,o=`
    <html>
      <body style="font-family: Arial, sans-serif; color: #333;">
        <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
          <thead>
            <tr>
              <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">Product</th>
              <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">Price</th>
            </tr>
          </thead>
          <tbody>
            ${t.cartItems.map(s=>`
              <tr>
                <td style="border: 1px solid #ddd; padding: 8px;">${s.title}</td>
                <td style="border: 1px solid #ddd; padding: 8px;">${s.price}</td>
              </tr>
            `).join("")}
          </tbody>
        </table>
        <p style="font-weight: bold;">Total: ${r}</p>
        <h2 style={{ color: 'red' }}>Please show the following QR code to cafeteria counter and collect your order</h2>
        <img style="display: block; margin: auto;" src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${n}" alt="QR Code" />
        
        <p>Thank you for shopping with us!</p>
      </body>
      </html>
  `,i={user_name:t.addressInfo.name,user_email:t.addressInfo.email.trim(),date:t.addressInfo.date,cartItems:t.cartItems,orderHtml:o};return pM.send(mM,gM,i,yM).then(s=>(console.log("Order confirmation email sent!",s.status,s.text,i.user_email),s)).catch(s=>{throw console.error("Failed to send order confirmation email:",s,i.user_email),s})};function YM(){const t=B.useContext(gn),{mode:e}=t,n=sg(),r=rd(_=>_.cart);console.log(r);const o=_=>{n(eR(_)),Se.success("Delete cart")};B.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(r))},[r]);const[i,s]=B.useState(0);B.useEffect(()=>{let _=0;r.forEach(v=>{_=_+parseInt(v.price)}),s(_),console.log(_)},[r]);const a=parseInt(0),u=a+i,[l,c]=B.useState(""),[f,d]=B.useState(""),[p,m]=B.useState(""),y=async()=>{if(l===""||f=="")return Se.error("All fields are required",{position:"top-center",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"});const _={name:l,phoneNumber:f,email:p,date:new Date().toLocaleString("en-US",{month:"short",day:"2-digit",year:"numeric"})};var v={key:"rzp_test_LWHOa6RA1jVpOB",key_secret:"Ugh4idfOiHAzfR0ft0bcyroA",amount:parseInt(u*100),currency:"INR",order_receipt:"order_rcptid_"+l,name:"JIIT Cafeteria",inStock:"for testing purpose",handler:function(E){console.log(E),Se.success("Payment Successful");const x=E.razorpay_payment_id,P={name:l,cartItems:r,addressInfo:_,date:new Date().toLocaleString("en-US",{month:"short",day:"2-digit",year:"numeric"}),paymentId:x,isServed:0};XM(P);try{const N=Gi(Lr,"order");_C(N,P)}catch(N){console.log(N)}},theme:{color:"#3399cc"}},g=new window.Razorpay(v);g.open(),console.log(g)};return S.jsx(hs,{children:S.jsxs("div",{className:"min-h-screen bg-gray-100 pt-5",style:{backgroundColor:e==="dark"?"#282c34":"",color:e==="dark"?"white":""},children:[S.jsx("h1",{className:"mb-10 text-center text-2xl font-bold",children:"Cart Items"}),S.jsxs("div",{className:"mx-auto max-w-5xl justify-center px-6 md:flex md:space-x-6 xl:px-0 ",children:[S.jsx("div",{className:"rounded-lg md:w-2/3 ",children:r.map((_,v)=>{const{title:g,price:E,imageUrl:x}=_;return S.jsxs("div",{className:"justify-between mb-6 rounded-lg border  drop-shadow-xl bg-white p-6  sm:flex  sm:justify-start",style:{backgroundColor:e==="dark"?"rgb(32 33 34)":"",color:e==="dark"?"white":""},children:[S.jsx("img",{src:x,alt:"product-image",className:"w-full rounded-lg sm:w-40"}),S.jsxs("div",{className:"sm:ml-4 sm:flex sm:w-full sm:justify-between",children:[S.jsxs("div",{className:"mt-5 sm:mt-0",children:[S.jsx("h2",{className:"text-lg font-bold text-gray-900",style:{color:e==="dark"?"white":""},children:g}),S.jsxs("p",{className:"mt-1 text-xs font-semibold text-gray-700",style:{color:e==="dark"?"white":""},children:["",E]})]}),S.jsx("div",{onClick:()=>o(_),className:"mt-4 flex justify-between sm:space-y-6 sm:mt-0 sm:block sm:space-x-6",children:S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})})]})]})})}),S.jsxs("div",{className:"mt-6 h-full rounded-lg border bg-white p-6 shadow-md md:mt-0 md:w-1/3",style:{backgroundColor:e==="dark"?"rgb(32 33 34)":"",color:e==="dark"?"white":""},children:[S.jsxs("div",{className:"mb-2 flex justify-between",children:[S.jsx("p",{className:"text-gray-700",style:{color:e==="dark"?"white":""},children:"Subtotal"}),S.jsxs("p",{className:"text-gray-700",style:{color:e==="dark"?"white":""},children:["",i]})]}),S.jsxs("div",{className:"flex justify-between",children:[S.jsx("p",{className:"text-gray-700",style:{color:e==="dark"?"white":""},children:"Taxes(incl. in total)"}),S.jsxs("p",{className:"text-gray-700",style:{color:e==="dark"?"white":""},children:["",a]})]}),S.jsx("hr",{className:"my-4"}),S.jsxs("div",{className:"flex justify-between mb-3",children:[S.jsx("p",{className:"text-lg font-bold",style:{color:e==="dark"?"white":""},children:"Total"}),S.jsx("div",{className:!0,children:S.jsxs("p",{className:"mb-1 text-lg font-bold",style:{color:e==="dark"?"white":""},children:["",u]})})]}),S.jsx(mR,{name:l,phoneNumber:f,setName:c,setPhoneNumber:d,setEmail:m,buyNow:y})]})]})]})})}function QM(t){return mi({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M504.717 320H211.572l6.545 32h268.418c15.401 0 26.816 14.301 23.403 29.319l-5.517 24.276C523.112 414.668 536 433.828 536 456c0 31.202-25.519 56.444-56.824 55.994-29.823-.429-54.35-24.631-55.155-54.447-.44-16.287 6.085-31.049 16.803-41.548H231.176C241.553 426.165 248 440.326 248 456c0 31.813-26.528 57.431-58.67 55.938-28.54-1.325-51.751-24.385-53.251-52.917-1.158-22.034 10.436-41.455 28.051-51.586L93.883 64H24C10.745 64 0 53.255 0 40V24C0 10.745 10.745 0 24 0h102.529c11.401 0 21.228 8.021 23.513 19.19L159.208 64H551.99c15.401 0 26.816 14.301 23.403 29.319l-47.273 208C525.637 312.246 515.923 320 504.717 320zM408 168h-48v-40c0-8.837-7.163-16-16-16h-16c-8.837 0-16 7.163-16 16v40h-48c-8.837 0-16 7.163-16 16v16c0 8.837 7.163 16 16 16h48v40c0 8.837 7.163 16 16 16h16c8.837 0 16-7.163 16-16v-40h48c8.837 0 16-7.163 16-16v-16c0-8.837-7.163-16-16-16z"}}]})(t)}function ZM(t){return mi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 224h192V32H0v192zM64 96h64v64H64V96zm192-64v192h192V32H256zm128 128h-64V96h64v64zM0 480h192V288H0v192zm64-128h64v64H64v-64zm352-64h32v128h-96v-32h-32v96h-64V288h96v32h64v-32zm0 160h32v32h-32v-32zm-64 0h32v32h-32v-32z"}}]})(t)}function JM(t){return mi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(t)}function ly(t){return e=>!!e.type&&e.type.tabsRole===t}const Xd=ly("Tab"),cy=ly("TabList"),fy=ly("TabPanel");function eF(t){return Xd(t)||cy(t)||fy(t)}function V2(t,e){return B.Children.map(t,n=>n===null?null:eF(n)?e(n):n.props&&n.props.children&&typeof n.props.children=="object"?B.cloneElement(n,{...n.props,children:V2(n.props.children,e)}):n)}function aA(t,e){return B.Children.forEach(t,n=>{n!==null&&(Xd(n)||fy(n)?e(n):n.props&&n.props.children&&typeof n.props.children=="object"&&(cy(n)&&e(n),aA(n.props.children,e)))})}function uA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=uA(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Yd(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=uA(t))&&(r&&(r+=" "),r+=e);return r}function lA(t){let e=0;return aA(t,n=>{Xd(n)&&e++}),e}function cA(t){return t&&"getAttribute"in t}function G4(t){return cA(t)&&t.getAttribute("data-rttab")}function Ri(t){return cA(t)&&t.getAttribute("aria-disabled")==="true"}let Rf;function tF(t){const e=t||(typeof window<"u"?window:void 0);try{Rf=!!(typeof e<"u"&&e.document&&e.document.activeElement)}catch{Rf=!1}}const nF={className:"react-tabs",focus:!1},fA=t=>{let e=B.useRef([]),n=B.useRef([]);const r=B.useRef();function o(b,U){if(b<0||b>=l())return;const{onSelect:K,selectedIndex:te}=t;K(b,te,U)}function i(b){const U=l();for(let K=b+1;K<U;K++)if(!Ri(c(K)))return K;for(let K=0;K<b;K++)if(!Ri(c(K)))return K;return b}function s(b){let U=b;for(;U--;)if(!Ri(c(U)))return U;for(U=l();U-- >b;)if(!Ri(c(U)))return U;return b}function a(){const b=l();for(let U=0;U<b;U++)if(!Ri(c(U)))return U;return null}function u(){let b=l();for(;b--;)if(!Ri(c(b)))return b;return null}function l(){const{children:b}=t;return lA(b)}function c(b){return e.current[`tabs-${b}`]}function f(){let b=0;const{children:U,disabledTabClassName:K,focus:te,forceRenderTabPanel:re,selectedIndex:$,selectedTabClassName:Y,selectedTabPanelClassName:ee,environment:V}=t;n.current=n.current||[];let H=n.current.length-l();const G=B.useId();for(;H++<0;)n.current.push(`${G}${n.current.length}`);return V2(U,W=>{let ye=W;if(cy(W)){let fe=0,Pe=!1;Rf==null&&tF(V);const pe=V||(typeof window<"u"?window:void 0);Rf&&pe&&(Pe=ne.Children.toArray(W.props.children).filter(Xd).some((Me,He)=>pe.document.activeElement===c(He))),ye=B.cloneElement(W,{children:V2(W.props.children,Me=>{const He=`tabs-${fe}`,Xe=$===fe,xt={tabRef:Dt=>{e.current[He]=Dt},id:n.current[fe],selected:Xe,focus:Xe&&(te||Pe)};return Y&&(xt.selectedClassName=Y),K&&(xt.disabledClassName=K),fe++,B.cloneElement(Me,xt)})})}else if(fy(W)){const fe={id:n.current[b],selected:$===b};re&&(fe.forceRender=re),ee&&(fe.selectedClassName=ee),b++,ye=B.cloneElement(W,fe)}return ye})}function d(b){const{direction:U,disableUpDownKeys:K,disableLeftRightKeys:te}=t;if(m(b.target)){let{selectedIndex:re}=t,$=!1,Y=!1;(b.code==="Space"||b.keyCode===32||b.code==="Enter"||b.keyCode===13)&&($=!0,Y=!1,p(b)),!te&&(b.keyCode===37||b.code==="ArrowLeft")||!K&&(b.keyCode===38||b.code==="ArrowUp")?(U==="rtl"?re=i(re):re=s(re),$=!0,Y=!0):!te&&(b.keyCode===39||b.code==="ArrowRight")||!K&&(b.keyCode===40||b.code==="ArrowDown")?(U==="rtl"?re=s(re):re=i(re),$=!0,Y=!0):b.keyCode===35||b.code==="End"?(re=u(),$=!0,Y=!0):(b.keyCode===36||b.code==="Home")&&(re=a(),$=!0,Y=!0),$&&b.preventDefault(),Y&&o(re,b)}}function p(b){let U=b.target;do if(m(U)){if(Ri(U))return;const K=[].slice.call(U.parentNode.children).filter(G4).indexOf(U);o(K,b);return}while((U=U.parentNode)!=null)}function m(b){if(!G4(b))return!1;let U=b.parentElement;do{if(U===r.current)return!0;if(U.getAttribute("data-rttabs"))break;U=U.parentElement}while(U);return!1}const{children:y,className:_,disabledTabClassName:v,domRef:g,focus:E,forceRenderTabPanel:x,onSelect:P,selectedIndex:N,selectedTabClassName:I,selectedTabPanelClassName:C,environment:D,disableUpDownKeys:T,disableLeftRightKeys:R,...k}={...nF,...t};return ne.createElement("div",Object.assign({},k,{className:Yd(_),onClick:p,onKeyDown:d,ref:b=>{r.current=b,g&&g(b)},"data-rttabs":!0}),f())};fA.propTypes={};const rF=0,A0=1,oF={defaultFocus:!1,focusTabOnClick:!0,forceRenderTabPanel:!1,selectedIndex:null,defaultIndex:null,environment:null,disableUpDownKeys:!1,disableLeftRightKeys:!1},iF=t=>t.selectedIndex===null?A0:rF,dy=t=>{const{children:e,defaultFocus:n,defaultIndex:r,focusTabOnClick:o,onSelect:i,...s}={...oF,...t},[a,u]=B.useState(n),[l]=B.useState(iF(s)),[c,f]=B.useState(l===A0?r||0:null);if(B.useEffect(()=>{u(!1)},[]),l===A0){const m=lA(e);B.useEffect(()=>{if(c!=null){const y=Math.max(0,m-1);f(Math.min(c,y))}},[m])}const d=(m,y,_)=>{typeof i=="function"&&i(m,y,_)===!1||(o&&u(!0),l===A0&&f(m))};let p={...t,...s};return p.focus=a,p.onSelect=d,c!=null&&(p.selectedIndex=c),delete p.defaultFocus,delete p.defaultIndex,delete p.focusTabOnClick,ne.createElement(fA,p,e)};dy.propTypes={};dy.tabsRole="Tabs";const sF={className:"react-tabs__tab-list"},hy=t=>{const{children:e,className:n,...r}={...sF,...t};return ne.createElement("ul",Object.assign({},r,{className:Yd(n),role:"tablist"}),e)};hy.tabsRole="TabList";hy.propTypes={};const Y1="react-tabs__tab",aF={className:Y1,disabledClassName:`${Y1}--disabled`,focus:!1,id:null,selected:!1,selectedClassName:`${Y1}--selected`},Ju=t=>{let e=B.useRef();const{children:n,className:r,disabled:o,disabledClassName:i,focus:s,id:a,selected:u,selectedClassName:l,tabIndex:c,tabRef:f,...d}={...aF,...t};return B.useEffect(()=>{u&&s&&e.current.focus()},[u,s]),ne.createElement("li",Object.assign({},d,{className:Yd(r,{[l]:u,[i]:o}),ref:p=>{e.current=p,f&&f(p)},role:"tab",id:`tab${a}`,"aria-selected":u?"true":"false","aria-disabled":o?"true":"false","aria-controls":`panel${a}`,tabIndex:c||(u?"0":null),"data-rttab":!0}),n)};Ju.propTypes={};Ju.tabsRole="Tab";const q4="react-tabs__tab-panel",uF={className:q4,forceRender:!1,selectedClassName:`${q4}--selected`},el=t=>{const{children:e,className:n,forceRender:r,id:o,selected:i,selectedClassName:s,...a}={...uF,...t};return ne.createElement("div",Object.assign({},a,{className:Yd(n,{[s]:i}),role:"tabpanel",id:`panel${o}`,"aria-labelledby":`tab${o}`}),r||i?e:null)};el.tabsRole="TabPanel";el.propTypes={};function lF(t){return mi({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M13 10h-2V8h2v2zm0-4h-2V1h2v5zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zm-8.9-5h7.45c.75 0 1.41-.41 1.75-1.03L21 4.96 19.25 4l-3.7 7H8.53L4.27 2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7l1.1-2z"}}]})(t)}function cF(t){return mi({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M832 312H696v-16c0-101.6-82.4-184-184-184s-184 82.4-184 184v16H192c-17.7 0-32 14.3-32 32v536c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V344c0-17.7-14.3-32-32-32zm-208 0H400v-16c0-61.9 50.1-112 112-112s112 50.1 112 112v16z"}}]})(t)}var Kc,j2,fF=(Kc=function(t,e){return Kc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)r.hasOwnProperty(o)&&(n[o]=r[o])},Kc(t,e)},function(t,e){function n(){this.constructor=t}Kc(t,e),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}),dF=function(t){function e(n){var r,o,i,s=this.constructor,a=t.call(this,n)||this;return Object.defineProperty(a,"name",{value:s.name,enumerable:!1,configurable:!0}),r=a,o=s.prototype,(i=Object.setPrototypeOf)?i(r,o):r.__proto__=o,function(u,l){l===void 0&&(l=u.constructor);var c=Error.captureStackTrace;c&&c(u,l)}(a),a}return fF(e,t),e}(Error),hF=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sn=function(t){function e(n){n===void 0&&(n=void 0);var r=t.call(this,n)||this;return r.message=n,r}return hF(e,t),e.prototype.getKind=function(){return this.constructor.kind},e.kind="Exception",e}(dF),pF=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),lt=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return pF(e,t),e.kind="ArgumentException",e}(Sn),mF=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),de=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return mF(e,t),e.kind="IllegalArgumentException",e}(Sn),dA=function(){function t(e){if(this.binarizer=e,e===null)throw new de("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,n){return this.binarizer.getBlackRow(e,n)},t.prototype.getBlackMatrix=function(){return this.matrix!==null&&this.matrix!==void 0||(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,n,r,o){var i=this.binarizer.getLuminanceSource().crop(e,n,r,o);return new t(this.binarizer.createBinarizer(i))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t}(),gF=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),wt=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return gF(e,t),e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(Sn),yF=function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t}(),Je=function(){function t(){}return t.arraycopy=function(e,n,r,o,i){for(;i--;)r[o++]=e[n++]},t.currentTimeMillis=function(){return Date.now()},t}(),vF=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),py=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return vF(e,t),e.kind="IndexOutOfBoundsException",e}(Sn),_F=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),K4=function(t){function e(n,r){n===void 0&&(n=void 0),r===void 0&&(r=void 0);var o=t.call(this,r)||this;return o.index=n,o.message=r,o}return _F(e,t),e.kind="ArrayIndexOutOfBoundsException",e}(py),wF=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fn=function(){function t(){}return t.fill=function(e,n){for(var r=0,o=e.length;r<o;r++)e[r]=n},t.fillWithin=function(e,n,r,o){t.rangeCheck(e.length,n,r);for(var i=n;i<r;i++)e[i]=o},t.rangeCheck=function(e,n,r){if(n>r)throw new de("fromIndex("+n+") > toIndex("+r+")");if(n<0)throw new K4(n);if(r>e)throw new K4(r)},t.asList=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e},t.create=function(e,n,r){return Array.from({length:e}).map(function(o){return Array.from({length:n}).fill(r)})},t.createInt32Array=function(e,n,r){return Array.from({length:e}).map(function(o){return Int32Array.from({length:n}).fill(r)})},t.equals=function(e,n){if(!e||!n||!e.length||!n.length||e.length!==n.length)return!1;for(var r=0,o=e.length;r<o;r++)if(e[r]!==n[r])return!1;return!0},t.hashCode=function(e){var n,r;if(e===null)return 0;var o=1;try{for(var i=wF(e),s=i.next();!s.done;s=i.next())o=31*o+s.value}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return o},t.fillUint8Array=function(e,n){for(var r=0;r!==e.length;r++)e[r]=n},t.copyOf=function(e,n){return e.slice(0,n)},t.copyOfUint8Array=function(e,n){if(e.length<=n){var r=new Uint8Array(n);return r.set(e),r}return e.slice(0,n)},t.copyOfRange=function(e,n,r){var o=r-n,i=new Int32Array(o);return Je.arraycopy(e,n,i,0,o),i},t.binarySearch=function(e,n,r){r===void 0&&(r=t.numberComparator);for(var o=0,i=e.length-1;o<=i;){var s=i+o>>1,a=r(n,e[s]);if(a>0)o=s+1;else{if(!(a<0))return s;i=s-1}}return-o-1},t.numberComparator=function(e,n){return e-n},t}(),Vt=function(){function t(){}return t.numberOfTrailingZeros=function(e){var n;if(e===0)return 32;var r=31;return(n=e<<16)!==0&&(r-=16,e=n),(n=e<<8)!==0&&(r-=8,e=n),(n=e<<4)!==0&&(r-=4,e=n),(n=e<<2)!==0&&(r-=2,e=n),r-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var n=1;return!(e>>>16)&&(n+=16,e<<=16),!(e>>>24)&&(n+=8,e<<=8),!(e>>>28)&&(n+=4,e<<=4),!(e>>>30)&&(n+=2,e<<=2),n-=e>>>31},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=(e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135,e+=e>>>8,63&(e+=e>>>16)},t.truncDivision=function(e,n){return Math.trunc(e/n)},t.parseInt=function(e,n){return n===void 0&&(n=void 0),parseInt(e,n)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),Cr=function(){function t(e,n){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,this.bits=n??t.makeArray(e))}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>32*this.bits.length){var n=t.makeArray(e);Je.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(31&e))!=0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(31&e)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(31&e)},t.prototype.getNextSet=function(e){var n=this.size;if(e>=n)return n;var r=this.bits,o=Math.floor(e/32),i=r[o];i&=~((1<<(31&e))-1);for(var s=r.length;i===0;){if(++o===s)return n;i=r[o]}var a=32*o+Vt.numberOfTrailingZeros(i);return a>n?n:a},t.prototype.getNextUnset=function(e){var n=this.size;if(e>=n)return n;var r=this.bits,o=Math.floor(e/32),i=~r[o];i&=~((1<<(31&e))-1);for(var s=r.length;i===0;){if(++o===s)return n;i=~r[o]}var a=32*o+Vt.numberOfTrailingZeros(i);return a>n?n:a},t.prototype.setBulk=function(e,n){this.bits[Math.floor(e/32)]=n},t.prototype.setRange=function(e,n){if(n<e||e<0||n>this.size)throw new de;if(n!==e){n--;for(var r=Math.floor(e/32),o=Math.floor(n/32),i=this.bits,s=r;s<=o;s++){var a=(2<<(s<o?31:31&n))-(1<<(s>r?0:31&e));i[s]|=a}}},t.prototype.clear=function(){for(var e=this.bits.length,n=this.bits,r=0;r<e;r++)n[r]=0},t.prototype.isRange=function(e,n,r){if(n<e||e<0||n>this.size)throw new de;if(n===e)return!0;n--;for(var o=Math.floor(e/32),i=Math.floor(n/32),s=this.bits,a=o;a<=i;a++){var u=(2<<(a<i?31:31&n))-(1<<(a>o?0:31&e))&4294967295;if((s[a]&u)!==(r?u:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++},t.prototype.appendBits=function(e,n){if(n<0||n>32)throw new de("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(var r=n;r>0;r--)this.appendBit((e>>r-1&1)==1)},t.prototype.appendBitArray=function(e){var n=e.size;this.ensureCapacity(this.size+n);for(var r=0;r<n;r++)this.appendBit(e.get(r))},t.prototype.xor=function(e){if(this.size!==e.size)throw new de("Sizes don't match");for(var n=this.bits,r=0,o=n.length;r<o;r++)n[r]^=e.bits[r]},t.prototype.toBytes=function(e,n,r,o){for(var i=0;i<o;i++){for(var s=0,a=0;a<8;a++)this.get(e)&&(s|=1<<7-a),e++;n[r+i]=s}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),r=n+1,o=this.bits,i=0;i<r;i++){var s=o[i];s=(s=(s=(s=(s=s>>1&1431655765|(1431655765&s)<<1)>>2&858993459|(858993459&s)<<2)>>4&252645135|(252645135&s)<<4)>>8&16711935|(16711935&s)<<8)>>16&65535|(65535&s)<<16,e[n-i]=s}if(this.size!==32*r){var a=32*r-this.size,u=e[0]>>>a;for(i=1;i<r;i++){var l=e[i];u|=l<<32-a,e[i-1]=u,u=l>>>a}e[r-1]=u}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.size===n.size&&Fn.equals(this.bits,n.bits)},t.prototype.hashCode=function(){return 31*this.size+Fn.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",n=0,r=this.size;n<r;n++)!(7&n)&&(e+=" "),e+=this.get(n)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t}();(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ASSUME_GS1=7]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(j2||(j2={}));var Oe,Ke=j2,EF=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),J=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return EF(e,t),e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(Sn),xF=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(Oe||(Oe={}));var U2,wn=function(){function t(e,n,r){for(var o,i,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];this.valueIdentifier=e,this.name=r,this.values=typeof n=="number"?Int32Array.from([n]):n,this.otherEncodingNames=s,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(r,this);for(var u=this.values,l=0,c=u.length;l!==c;l++){var f=u[l];t.VALUES_TO_ECI.set(f,this)}try{for(var d=xF(s),p=d.next();!p.done;p=d.next()){var m=p.value;t.NAME_TO_ECI.set(m,this)}}catch(y){o={error:y}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(o)throw o.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new J("incorect value");var n=t.VALUES_TO_ECI.get(e);if(n===void 0)throw new J("incorect value");return n},t.getCharacterSetECIByName=function(e){var n=t.NAME_TO_ECI.get(e);if(n===void 0)throw new J("incorect value");return n},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.getName()===n.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(Oe.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(Oe.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(Oe.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(Oe.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(Oe.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(Oe.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(Oe.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(Oe.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(Oe.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(Oe.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(Oe.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(Oe.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(Oe.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(Oe.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(Oe.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(Oe.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(Oe.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(Oe.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(Oe.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(Oe.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(Oe.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(Oe.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(Oe.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(Oe.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(Oe.Big5,28,"Big5"),t.GB18030=new t(Oe.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(Oe.EUC_KR,30,"EUC_KR","EUC-KR"),t}(),CF=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),I0=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return CF(e,t),e.kind="UnsupportedOperationException",e}(Sn),Zi=function(){function t(){}return t.decode=function(e,n){var r=this.encodingName(n);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,n){var r=this.encodingName(n);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof wn?e:wn.getCharacterSetECIByName(e)},t.decodeFallback=function(e,n){var r=this.encodingCharacterSet(n);if(t.isDecodeFallbackSupported(r)){for(var o="",i=0,s=e.length;i<s;i++){var a=e[i].toString(16);a.length<2&&(a="0"+a),o+="%"+a}return decodeURIComponent(o)}if(r.equals(wn.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new I0("Encoding "+this.encodingName(n)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(wn.UTF8)||e.equals(wn.ISO8859_1)||e.equals(wn.ASCII)},t.encodeFallback=function(e){for(var n=btoa(unescape(encodeURIComponent(e))).split(""),r=[],o=0;o<n.length;o++)r.push(n[o].charCodeAt(0));return new Uint8Array(r)},t}(),It=function(){function t(){}return t.castAsNonUtf8Char=function(e,n){n===void 0&&(n=null);var r=n?n.getName():this.ISO88591;return Zi.decode(new Uint8Array([e]),r)},t.guessEncoding=function(e,n){if(n!=null&&n.get(Ke.CHARACTER_SET)!==void 0)return n.get(Ke.CHARACTER_SET).toString();for(var r=e.length,o=!0,i=!0,s=!0,a=0,u=0,l=0,c=0,f=0,d=0,p=0,m=0,y=0,_=0,v=0,g=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,E=0;E<r&&(o||i||s);E++){var x=255&e[E];s&&(a>0?128&x?a--:s=!1:128&x&&(64&x?(a++,32&x?(a++,16&x?(a++,8&x?s=!1:c++):l++):u++):s=!1)),o&&(x>127&&x<160?o=!1:x>159&&(x<192||x===215||x===247)&&v++),i&&(f>0?x<64||x===127||x>252?i=!1:f--:x===128||x===160||x>239?i=!1:x>160&&x<224?(d++,m=0,++p>y&&(y=p)):x>127?(f++,p=0,++m>_&&(_=m)):(p=0,m=0))}return s&&a>0&&(s=!1),i&&f>0&&(i=!1),s&&(g||u+l+c>0)?t.UTF8:i&&(t.ASSUME_SHIFT_JIS||y>=3||_>=3)?t.SHIFT_JIS:o&&i?y===2&&d===2||10*v>=r?t.SHIFT_JIS:t.ISO88591:o?t.ISO88591:i?t.SHIFT_JIS:s?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=-1;function i(a,u,l,c,f,d){if(a==="%%")return"%";if(n[++o]!==void 0){a=c?parseInt(c.substr(1)):void 0;var p,m=f?parseInt(f.substr(1)):void 0;switch(d){case"s":p=n[o];break;case"c":p=n[o][0];break;case"f":p=parseFloat(n[o]).toFixed(a);break;case"p":p=parseFloat(n[o]).toPrecision(a);break;case"e":p=parseFloat(n[o]).toExponential(a);break;case"x":p=parseInt(n[o]).toString(m||16);break;case"d":p=parseFloat(parseInt(n[o],m||10).toPrecision(a)).toFixed(0)}p=typeof p=="object"?JSON.stringify(p):(+p).toString(m);for(var y=parseInt(l),_=l&&l[0]+""=="0"?"0":" ";p.length<y;)p=u!==void 0?p+_:_+p;return p}}var s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,i)},t.getBytes=function(e,n){return Zi.encode(e,n)},t.getCharCode=function(e,n){return n===void 0&&(n=0),e.charCodeAt(n)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=wn.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=wn.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=wn.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t}(),je=function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=It.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,n,r){for(var o=n;n<n+r;o++)this.append(e[o]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+1)},t.prototype.substring=function(e,n){return this.value.substring(e,n)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+n.length)},t}(),oo=function(){function t(e,n,r,o){if(this.width=e,this.height=n,this.rowSize=r,this.bits=o,n==null&&(n=e),this.height=n,e<1||n<1)throw new de("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,o==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var n=e.length,r=e[0].length,o=new t(r,n),i=0;i<n;i++)for(var s=e[i],a=0;a<r;a++)s[a]&&o.set(a,i);return o},t.parseFromString=function(e,n,r){if(e===null)throw new de("stringRepresentation cannot be null");for(var o=new Array(e.length),i=0,s=0,a=-1,u=0,l=0;l<e.length;)if(e.charAt(l)===`
`||e.charAt(l)==="\r"){if(i>s){if(a===-1)a=i-s;else if(i-s!==a)throw new de("row lengths do not match");s=i,u++}l++}else if(e.substring(l,l+n.length)===n)l+=n.length,o[i]=!0,i++;else{if(e.substring(l,l+r.length)!==r)throw new de("illegal character encountered: "+e.substring(l));l+=r.length,o[i]=!1,i++}if(i>s){if(a===-1)a=i-s;else if(i-s!==a)throw new de("row lengths do not match");u++}for(var c=new t(a,u),f=0;f<i;f++)o[f]&&c.set(Math.floor(f%a),Math.floor(f/a));return c},t.prototype.get=function(e,n){var r=n*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(31&e)&1)!=0},t.prototype.set=function(e,n){var r=n*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(31&e)&4294967295},t.prototype.unset=function(e,n){var r=n*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(31&e)&4294967295)},t.prototype.flip=function(e,n){var r=n*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(31&e)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new de("input matrix dimensions do not match");for(var n=new Cr(Math.floor(this.width/32)+1),r=this.rowSize,o=this.bits,i=0,s=this.height;i<s;i++)for(var a=i*r,u=e.getRow(i,n).getBitArray(),l=0;l<r;l++)o[a+l]^=u[l]},t.prototype.clear=function(){for(var e=this.bits,n=e.length,r=0;r<n;r++)e[r]=0},t.prototype.setRegion=function(e,n,r,o){if(n<0||e<0)throw new de("Left and top must be nonnegative");if(o<1||r<1)throw new de("Height and width must be at least 1");var i=e+r,s=n+o;if(s>this.height||i>this.width)throw new de("The region must fit inside the matrix");for(var a=this.rowSize,u=this.bits,l=n;l<s;l++)for(var c=l*a,f=e;f<i;f++)u[c+Math.floor(f/32)]|=1<<(31&f)&4294967295},t.prototype.getRow=function(e,n){n==null||n.getSize()<this.width?n=new Cr(this.width):n.clear();for(var r=this.rowSize,o=this.bits,i=e*r,s=0;s<r;s++)n.setBulk(32*s,o[i+s]);return n},t.prototype.setRow=function(e,n){Je.arraycopy(n.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),n=this.getHeight(),r=new Cr(e),o=new Cr(e),i=0,s=Math.floor((n+1)/2);i<s;i++)r=this.getRow(i,r),o=this.getRow(n-1-i,o),r.reverse(),o.reverse(),this.setRow(i,o),this.setRow(n-1-i,r)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,n=this.height,r=this.rowSize,o=this.bits,i=e,s=n,a=-1,u=-1,l=0;l<n;l++)for(var c=0;c<r;c++){var f=o[l*r+c];if(f!==0){if(l<s&&(s=l),l>u&&(u=l),32*c<i){for(var d=0;!(f<<31-d&4294967295);)d++;32*c+d<i&&(i=32*c+d)}if(32*c+31>a){for(d=31;!(f>>>d);)d--;32*c+d>a&&(a=32*c+d)}}}return a<i||u<s?null:Int32Array.from([i,s,a-i+1,u-s+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,n=this.bits,r=0;r<n.length&&n[r]===0;)r++;if(r===n.length)return null;for(var o=r/e,i=r%e*32,s=n[r],a=0;!(s<<31-a&4294967295);)a++;return i+=a,Int32Array.from([i,o])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,n=this.bits,r=n.length-1;r>=0&&n[r]===0;)r--;if(r<0)return null;for(var o=Math.floor(r/e),i=32*Math.floor(r%e),s=n[r],a=31;!(s>>>a);)a--;return i+=a,Int32Array.from([i,o])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&Fn.equals(this.bits,n.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*(e=31*(e=31*(e=31*e+this.width)+this.height)+this.rowSize)+Fn.hashCode(this.bits)},t.prototype.toString=function(e,n,r){return e===void 0&&(e="X "),n===void 0&&(n="  "),r===void 0&&(r=`
`),this.buildToString(e,n,r)},t.prototype.buildToString=function(e,n,r){for(var o=new je,i=0,s=this.height;i<s;i++){for(var a=0,u=this.width;a<u;a++)o.append(this.get(a,i)?e:n);o.append(r)}return o.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t}(),AF=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),z=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return AF(e,t),e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(Sn),IF=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),TF=function(t){function e(n){var r=t.call(this,n)||this;return r.luminances=e.EMPTY,r.buckets=new Int32Array(e.LUMINANCE_BUCKETS),r}return IF(e,t),e.prototype.getBlackRow=function(n,r){var o=this.getLuminanceSource(),i=o.getWidth();r==null||r.getSize()<i?r=new Cr(i):r.clear(),this.initArrays(i);for(var s=o.getRow(n,this.luminances),a=this.buckets,u=0;u<i;u++)a[(255&s[u])>>e.LUMINANCE_SHIFT]++;var l=e.estimateBlackPoint(a);if(i<3)for(u=0;u<i;u++)(255&s[u])<l&&r.set(u);else{var c=255&s[0],f=255&s[1];for(u=1;u<i-1;u++){var d=255&s[u+1];(4*f-c-d)/2<l&&r.set(u),c=f,f=d}}return r},e.prototype.getBlackMatrix=function(){var n=this.getLuminanceSource(),r=n.getWidth(),o=n.getHeight(),i=new oo(r,o);this.initArrays(r);for(var s=this.buckets,a=1;a<5;a++)for(var u=Math.floor(o*a/5),l=n.getRow(u,this.luminances),c=Math.floor(4*r/5),f=Math.floor(r/5);f<c;f++)s[(255&l[f])>>e.LUMINANCE_SHIFT]++;var d=e.estimateBlackPoint(s),p=n.getMatrix();for(a=0;a<o;a++){var m=a*r;for(f=0;f<r;f++)(255&p[m+f])<d&&i.set(f,a)}return i},e.prototype.createBinarizer=function(n){return new e(n)},e.prototype.initArrays=function(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));for(var r=this.buckets,o=0;o<e.LUMINANCE_BUCKETS;o++)r[o]=0},e.estimateBlackPoint=function(n){for(var r=n.length,o=0,i=0,s=0,a=0;a<r;a++)n[a]>s&&(i=a,s=n[a]),n[a]>o&&(o=n[a]);var u=0,l=0;for(a=0;a<r;a++){var c=a-i;(m=n[a]*c*c)>l&&(u=a,l=m)}if(i>u){var f=i;i=u,u=f}if(u-i<=r/16)throw new z;var d=u-1,p=-1;for(a=u-1;a>i;a--){var m,y=a-i;(m=y*y*(u-a)*(o-n[a]))>p&&(d=a,p=m)}return d<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(yF),SF=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),hA=function(t){function e(n){var r=t.call(this,n)||this;return r.matrix=null,r}return SF(e,t),e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var n=this.getLuminanceSource(),r=n.getWidth(),o=n.getHeight();if(r>=e.MINIMUM_DIMENSION&&o>=e.MINIMUM_DIMENSION){var i=n.getMatrix(),s=r>>e.BLOCK_SIZE_POWER;r&e.BLOCK_SIZE_MASK&&s++;var a=o>>e.BLOCK_SIZE_POWER;o&e.BLOCK_SIZE_MASK&&a++;var u=e.calculateBlackPoints(i,s,a,r,o),l=new oo(r,o);e.calculateThresholdForBlock(i,s,a,r,o,u,l),this.matrix=l}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(n){return new e(n)},e.calculateThresholdForBlock=function(n,r,o,i,s,a,u){for(var l=s-e.BLOCK_SIZE,c=i-e.BLOCK_SIZE,f=0;f<o;f++){var d=f<<e.BLOCK_SIZE_POWER;d>l&&(d=l);for(var p=e.cap(f,2,o-3),m=0;m<r;m++){var y=m<<e.BLOCK_SIZE_POWER;y>c&&(y=c);for(var _=e.cap(m,2,r-3),v=0,g=-2;g<=2;g++){var E=a[p+g];v+=E[_-2]+E[_-1]+E[_]+E[_+1]+E[_+2]}var x=v/25;e.thresholdBlock(n,y,d,x,i,u)}}},e.cap=function(n,r,o){return n<r?r:n>o?o:n},e.thresholdBlock=function(n,r,o,i,s,a){for(var u=0,l=o*s+r;u<e.BLOCK_SIZE;u++,l+=s)for(var c=0;c<e.BLOCK_SIZE;c++)(255&n[l+c])<=i&&a.set(r+c,o+u)},e.calculateBlackPoints=function(n,r,o,i,s){for(var a=s-e.BLOCK_SIZE,u=i-e.BLOCK_SIZE,l=new Array(o),c=0;c<o;c++){l[c]=new Int32Array(r);var f=c<<e.BLOCK_SIZE_POWER;f>a&&(f=a);for(var d=0;d<r;d++){var p=d<<e.BLOCK_SIZE_POWER;p>u&&(p=u);for(var m=0,y=255,_=0,v=0,g=f*i+p;v<e.BLOCK_SIZE;v++,g+=i){for(var E=0;E<e.BLOCK_SIZE;E++){var x=255&n[g+E];m+=x,x<y&&(y=x),x>_&&(_=x)}if(_-y>e.MIN_DYNAMIC_RANGE)for(v++,g+=i;v<e.BLOCK_SIZE;v++,g+=i)for(E=0;E<e.BLOCK_SIZE;E++)m+=255&n[g+E]}var P=m>>2*e.BLOCK_SIZE_POWER;if(_-y<=e.MIN_DYNAMIC_RANGE&&(P=y/2,c>0&&d>0)){var N=(l[c-1][d]+2*l[c][d-1]+l[c-1][d-1])/4;y<N&&(P=N)}l[c][d]=P}}return l},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=5*e.BLOCK_SIZE,e.MIN_DYNAMIC_RANGE=24,e}(TF),rc=function(){function t(e,n){this.width=e,this.height=n}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,n,r,o){throw new I0("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new I0("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new I0("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),n=new je,r=0;r<this.height;r++){for(var o=this.getRow(r,e),i=0;i<this.width;i++){var s=255&o[i],a=void 0;a=s<64?"#":s<128?"+":s<192?".":" ",n.append(a)}n.append(`
`)}return n.toString()},t}(),bF=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qd=function(t){function e(n){var r=t.call(this,n.getWidth(),n.getHeight())||this;return r.delegate=n,r}return bF(e,t),e.prototype.getRow=function(n,r){for(var o=this.delegate.getRow(n,r),i=this.getWidth(),s=0;s<i;s++)o[s]=255-(255&o[s]);return o},e.prototype.getMatrix=function(){for(var n=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(r),i=0;i<r;i++)o[i]=255-(255&n[i]);return o},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(n,r,o,i){return new e(this.delegate.crop(n,r,o,i))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(rc),RF=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),PF=function(t){function e(n){var r=t.call(this,n.width,n.height)||this;return r.canvas=n,r.tempCanvasElement=null,r.buffer=e.makeBufferFromCanvasImageData(n),r}return RF(e,t),e.makeBufferFromCanvasImageData=function(n){var r=n.getContext("2d").getImageData(0,0,n.width,n.height);return e.toGrayscaleBuffer(r.data,n.width,n.height)},e.toGrayscaleBuffer=function(n,r,o){for(var i=new Uint8ClampedArray(r*o),s=0,a=0,u=n.length;s<u;s+=4,a++){var l=void 0;n[s+3]===0?l=255:l=306*n[s]+601*n[s+1]+117*n[s+2]+512>>10,i[a]=l}return i},e.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new de("Requested row is outside the image: "+n);var o=this.getWidth(),i=n*o;return r===null?r=this.buffer.slice(i,i+o):(r.length<o&&(r=new Uint8ClampedArray(o)),r.set(this.buffer.slice(i,i+o))),r},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,r,o,i){return t.prototype.crop.call(this,n,r,o,i),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement},e.prototype.rotate=function(n){var r=this.getTempCanvasElement(),o=r.getContext("2d"),i=n*e.DEGREE_TO_RADIANS,s=this.canvas.width,a=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(i))*s+Math.abs(Math.sin(i))*a),l=Math.ceil(Math.abs(Math.sin(i))*s+Math.abs(Math.cos(i))*a);return r.width=u,r.height=l,o.translate(u/2,l/2),o.rotate(i),o.drawImage(this.canvas,s/-2,a/-2),this.buffer=e.makeBufferFromCanvasImageData(r),this},e.prototype.invert=function(){return new Qd(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e}(rc),DF=function(){function t(e,n,r){this.deviceId=e,this.label=n,this.kind="videoinput",this.groupId=r||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t}(),ln=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(l){try{u(r.next(l))}catch(c){i(c)}}function a(l){try{u(r.throw(l))}catch(c){i(c)}}function u(l){var c;l.done?o(l.value):(c=l.value,c instanceof n?c:new n(function(f){f(c)})).then(s,a)}u((r=r.apply(t,e||[])).next())})},cn=function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(u){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,r=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!((o=o.length>0&&o[o.length-1])||c[0]!==6&&c[0]!==2)){s=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){s.label=c[1];break}if(c[0]===6&&s.label<o[1]){s.label=o[1],o=c;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(c);break}o[2]&&s.ops.pop(),s.trys.pop();continue}c=e.call(t,s)}catch(f){c=[6,f],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([u,l])}}},NF=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$a=function(){function t(e,n,r){n===void 0&&(n=500),this.reader=e,this.timeBetweenScansMillis=n,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return ln(this,void 0,void 0,function(){var e,n,r,o,i,s,a,u,l,c,f,d;return cn(this,function(p){switch(p.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=p.sent(),n=[];try{for(r=NF(e),o=r.next();!o.done;o=r.next())i=o.value,(s=i.kind==="video"?"videoinput":i.kind)==="videoinput"&&(a=i.deviceId||i.id,u=i.label||"Video device "+(n.length+1),l=i.groupId,c={deviceId:a,label:u,kind:s,groupId:l},n.push(c))}catch(m){f={error:m}}finally{try{o&&!o.done&&(d=r.return)&&d.call(r)}finally{if(f)throw f.error}}return[2,n]}})})},t.prototype.getVideoInputDevices=function(){return ln(this,void 0,void 0,function(){return cn(this,function(e){switch(e.label){case 0:return[4,this.listVideoInputDevices()];case 1:return[2,e.sent().map(function(n){return new DF(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return ln(this,void 0,void 0,function(){var n;return cn(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return(n=r.sent())?[2,n.find(function(o){return o.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,n){return ln(this,void 0,void 0,function(){return cn(this,function(r){switch(r.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,n)];case 1:return[2,r.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,n){return ln(this,void 0,void 0,function(){var r;return cn(this,function(o){switch(o.label){case 0:return this.reset(),r={video:e?{deviceId:{exact:e}}:{facingMode:"environment"}},[4,this.decodeOnceFromConstraints(r,n)];case 1:return[2,o.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,n){return ln(this,void 0,void 0,function(){var r;return cn(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=o.sent(),[4,this.decodeOnceFromStream(r,n)];case 2:return[2,o.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,n){return ln(this,void 0,void 0,function(){var r;return cn(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,n)];case 1:return r=o.sent(),[4,this.decodeOnce(r)];case 2:return[2,o.sent()]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,n,r){return ln(this,void 0,void 0,function(){return cn(this,function(o){switch(o.label){case 0:return[4,this.decodeFromVideoDevice(e,n,r)];case 1:return[2,o.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,n,r){return ln(this,void 0,void 0,function(){var o;return cn(this,function(i){switch(i.label){case 0:return o={video:e?{deviceId:{exact:e}}:{facingMode:"environment"}},[4,this.decodeFromConstraints(o,n,r)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromConstraints=function(e,n,r){return ln(this,void 0,void 0,function(){var o;return cn(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return o=i.sent(),[4,this.decodeFromStream(o,n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeFromStream=function(e,n,r){return ln(this,void 0,void 0,function(){var o;return cn(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,n)];case 1:return o=i.sent(),[4,this.decodeContinuously(o,r)];case 2:return[2,i.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,n){return ln(this,void 0,void 0,function(){var r;return cn(this,function(o){switch(o.label){case 0:return r=this.prepareVideoElement(n),this.addVideoSource(r,e),this.videoElement=r,this.stream=e,[4,this.playVideoOnLoadAsync(r)];case 1:return o.sent(),[2,r]}})})},t.prototype.playVideoOnLoadAsync=function(e){var n=this;return new Promise(function(r,o){return n.playVideoOnLoad(e,function(){return r()})})},t.prototype.playVideoOnLoad=function(e,n){var r=this;this.videoEndedListener=function(){return r.stopStreams()},this.videoCanPlayListener=function(){return r.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",n),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return ln(this,void 0,void 0,function(){return cn(this,function(n){switch(n.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.play()];case 2:return n.sent(),[3,4];case 3:return n.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,n){var r=document.getElementById(e);if(!r)throw new lt("element with id '"+e+"' not found");if(r.nodeName.toLowerCase()!==n.toLowerCase())throw new lt("element with id '"+e+"' must be an "+n+" element");return r},t.prototype.decodeFromImage=function(e,n){if(!e&&!n)throw new lt("either imageElement with a src set or an url must be provided");return n&&!e?this.decodeFromImageUrl(n):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,n){if(!e&&!n)throw new lt("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,n,r){if(e===void 0&&n===void 0)throw new lt("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrlContinuously(n,r):this.decodeFromVideoElementContinuously(e,r)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new lt("An image element must be provided.");this.reset();var n=this.prepareImageElement(e);return this.imageElement=n,this.isImageLoaded(n)?this.decodeOnce(n,!1,!0):this._decodeOnLoadImage(n)},t.prototype.decodeFromVideoElement=function(e){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(n)},t.prototype.decodeFromVideoElementContinuously=function(e,n){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,n)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new lt("A video element must be provided.");this.reset();var n=this.prepareVideoElement(e);return this.videoElement=n,n},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new lt("An URL must be provided.");this.reset();var n=this.prepareImageElement();this.imageElement=n;var r=this._decodeOnLoadImage(n);return n.src=e,r},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new lt("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),r=this.decodeFromVideoElement(n);return n.src=e,r},t.prototype.decodeFromVideoUrlContinuously=function(e,n){if(!e)throw new lt("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),o=this.decodeFromVideoElementContinuously(r,n);return r.src=e,o},t.prototype._decodeOnLoadImage=function(e){var n=this;return new Promise(function(r,o){n.imageLoadedListener=function(){return n.decodeOnce(e,!1,!0).then(r,o)},e.addEventListener("load",n.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return ln(this,void 0,void 0,function(){return cn(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),[4,this.decodeOnce(e)];case 2:return[2,n.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,n){return ln(this,void 0,void 0,function(){return cn(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),this.decodeContinuously(e,n),[2]}})})},t.prototype.isImageLoaded=function(e){return!!e.complete&&e.naturalWidth!==0},t.prototype.prepareImageElement=function(e){var n;return e===void 0&&((n=document.createElement("img")).width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(n=e),n},t.prototype.prepareVideoElement=function(e){var n;return e||typeof document>"u"||((n=document.createElement("video")).width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(n=e),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n},t.prototype.decodeOnce=function(e,n,r){var o=this;n===void 0&&(n=!0),r===void 0&&(r=!0),this._stopAsyncDecode=!1;var i=function(s,a){if(o._stopAsyncDecode)return a(new z("Video stream has ended before any code could be detected.")),void(o._stopAsyncDecode=void 0);try{s(o.decode(e))}catch(u){if(n&&u instanceof z||(u instanceof wt||u instanceof J)&&r)return setTimeout(i,o._timeBetweenDecodingAttempts,s,a);a(u)}};return new Promise(function(s,a){return i(s,a)})},t.prototype.decodeContinuously=function(e,n){var r=this;this._stopContinuousDecode=!1;var o=function(){if(r._stopContinuousDecode)r._stopContinuousDecode=void 0;else try{var i=r.decode(e);n(i,null),setTimeout(o,r.timeBetweenScansMillis)}catch(s){n(null,s),(s instanceof wt||s instanceof J||s instanceof z)&&setTimeout(o,r._timeBetweenDecodingAttempts)}};o()},t.prototype.decode=function(e){var n=this.createBinaryBitmap(e);return this.decodeBitmap(n)},t.prototype.createBinaryBitmap=function(e){var n=this.getCaptureCanvasContext(e);this.drawImageOnCanvas(n,e);var r=this.getCaptureCanvas(e),o=new PF(r),i=new hA(o);return new dA(i)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var n=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var n=this.createCaptureCanvas(e);this.captureCanvas=n}return this.captureCanvas},t.prototype.drawImageOnCanvas=function(e,n){e.drawImage(n,0,0)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var n,r,o=document.createElement("canvas");return e!==void 0&&(e instanceof HTMLVideoElement?(n=e.videoWidth,r=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,r=e.naturalHeight||e.height)),o.style.width=n+"px",o.style.height=r+"px",o.width=n,o.height=r,o},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(this.videoEndedListener!==void 0&&this.videoElement.removeEventListener("ended",this.videoEndedListener),this.videoPlayingEventListener!==void 0&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),this.videoCanPlayListener!==void 0&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,n){try{e.srcObject=n}catch{e.src=URL.createObjectURL(n)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t}(),bn=function(){function t(e,n,r,o,i,s){r===void 0&&(r=n==null?0:8*n.length),s===void 0&&(s=Je.currentTimeMillis()),this.text=e,this.rawBytes=n,this.numBits=r,this.resultPoints=o,this.format=i,this.timestamp=s,this.text=e,this.rawBytes=n,this.numBits=r??(n==null?0:8*n.length),this.resultPoints=o,this.format=i,this.resultMetadata=null,this.timestamp=s??Je.currentTimeMillis()}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,n)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var n=this.resultPoints;if(n===null)this.resultPoints=e;else if(e!==null&&e.length>0){var r=new Array(n.length+e.length);Je.arraycopy(n,0,r,0,n.length),Je.arraycopy(e,0,r,n.length,e.length),this.resultPoints=r}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t}();(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(U2||(U2={}));var $2,le=U2;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})($2||($2={}));var Bt,jt=$2,Zd=function(){function t(e,n,r,o,i,s){i===void 0&&(i=-1),s===void 0&&(s=-1),this.rawBytes=e,this.text=n,this.byteSegments=r,this.ecLevel=o,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=s,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t}(),Bu=function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new de;return this.logTable[e]},t.addOrSubtract=function(e,n){return e^n},t}(),tl=function(){function t(e,n){if(n.length===0)throw new de;this.field=e;var r=n.length;if(r>1&&n[0]===0){for(var o=1;o<r&&n[o]===0;)o++;o===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-o),Je.arraycopy(n,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var n,r=this.coefficients;if(e===1){n=0;for(var o=0,i=r.length;o!==i;o++){var s=r[o];n=Bu.addOrSubtract(n,s)}return n}n=r[0];var a=r.length,u=this.field;for(o=1;o<a;o++)n=Bu.addOrSubtract(u.multiply(e,n),r[o]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new de("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var n=this.coefficients,r=e.coefficients;if(n.length>r.length){var o=n;n=r,r=o}var i=new Int32Array(r.length),s=r.length-n.length;Je.arraycopy(r,0,i,0,s);for(var a=s;a<r.length;a++)i[a]=Bu.addOrSubtract(n[a-s],r[a]);return new t(this.field,i)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new de("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var n=this.coefficients,r=n.length,o=e.coefficients,i=o.length,s=new Int32Array(r+i-1),a=this.field,u=0;u<r;u++)for(var l=n[u],c=0;c<i;c++)s[u+c]=Bu.addOrSubtract(s[u+c],a.multiply(l,o[c]));return new t(a,s)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var n=this.coefficients.length,r=this.field,o=new Int32Array(n),i=this.coefficients,s=0;s<n;s++)o[s]=r.multiply(i[s],e);return new t(r,o)},t.prototype.multiplyByMonomial=function(e,n){if(e<0)throw new de;if(n===0)return this.field.getZero();for(var r=this.coefficients,o=r.length,i=new Int32Array(o+e),s=this.field,a=0;a<o;a++)i[a]=s.multiply(r[a],n);return new t(s,i)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new de("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new de("Divide by 0");for(var n=this.field,r=n.getZero(),o=this,i=e.getCoefficient(e.getDegree()),s=n.inverse(i);o.getDegree()>=e.getDegree()&&!o.isZero();){var a=o.getDegree()-e.getDegree(),u=n.multiply(o.getCoefficient(o.getDegree()),s),l=e.multiplyByMonomial(a,u),c=n.buildMonomial(a,u);r=r.addOrSubtract(c),o=o.addOrSubtract(l)}return[r,o]},t.prototype.toString=function(){for(var e="",n=this.getDegree();n>=0;n--){var r=this.getCoefficient(n);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),n===0||r!==1){var o=this.field.log(r);o===0?e+="1":o===1?e+="a":(e+="a^",e+=o)}n!==0&&(n===1?e+="x":(e+="x^",e+=n))}}return e},t}(),OF=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),pA=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return OF(e,t),e.kind="ArithmeticException",e}(Sn),kF=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vo=function(t){function e(n,r,o){var i=t.call(this)||this;i.primitive=n,i.size=r,i.generatorBase=o;for(var s=new Int32Array(r),a=1,u=0;u<r;u++)s[u]=a,(a*=2)>=r&&(a^=n,a&=r-1);i.expTable=s;var l=new Int32Array(r);for(u=0;u<r-1;u++)l[s[u]]=u;return i.logTable=l,i.zero=new tl(i,Int32Array.from([0])),i.one=new tl(i,Int32Array.from([1])),i}return kF(e,t),e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(n,r){if(n<0)throw new de;if(r===0)return this.zero;var o=new Int32Array(n+1);return o[0]=r,new tl(this,o)},e.prototype.inverse=function(n){if(n===0)throw new pA;return this.expTable[this.size-this.logTable[n]-1]},e.prototype.multiply=function(n,r){return n===0||r===0?0:this.expTable[(this.logTable[n]+this.logTable[r])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+Vt.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(n){return n===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(Bu),BF=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xc=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return BF(e,t),e.kind="ReedSolomonException",e}(Sn),MF=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),oc=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return MF(e,t),e.kind="IllegalStateException",e}(Sn),Jd=function(){function t(e){this.field=e}return t.prototype.decode=function(e,n){for(var r=this.field,o=new tl(r,e),i=new Int32Array(n),s=!0,a=0;a<n;a++){var u=o.evaluateAt(r.exp(a+r.getGeneratorBase()));i[i.length-1-a]=u,u!==0&&(s=!1)}if(!s){var l=new tl(r,i),c=this.runEuclideanAlgorithm(r.buildMonomial(n,1),l,n),f=c[0],d=c[1],p=this.findErrorLocations(f),m=this.findErrorMagnitudes(d,p);for(a=0;a<p.length;a++){var y=e.length-1-r.log(p[a]);if(y<0)throw new Xc("Bad error location");e[y]=Vo.addOrSubtract(e[y],m[a])}}},t.prototype.runEuclideanAlgorithm=function(e,n,r){if(e.getDegree()<n.getDegree()){var o=e;e=n,n=o}for(var i=this.field,s=e,a=n,u=i.getZero(),l=i.getOne();a.getDegree()>=(r/2|0);){var c=s,f=u;if(u=l,(s=a).isZero())throw new Xc("r_{i-1} was zero");a=c;for(var d=i.getZero(),p=s.getCoefficient(s.getDegree()),m=i.inverse(p);a.getDegree()>=s.getDegree()&&!a.isZero();){var y=a.getDegree()-s.getDegree(),_=i.multiply(a.getCoefficient(a.getDegree()),m);d=d.addOrSubtract(i.buildMonomial(y,_)),a=a.addOrSubtract(s.multiplyByMonomial(y,_))}if(l=d.multiply(u).addOrSubtract(f),a.getDegree()>=s.getDegree())throw new oc("Division algorithm failed to reduce polynomial?")}var v=l.getCoefficient(0);if(v===0)throw new Xc("sigmaTilde(0) was zero");var g=i.inverse(v);return[l.multiplyScalar(g),a.multiplyScalar(g)]},t.prototype.findErrorLocations=function(e){var n=e.getDegree();if(n===1)return Int32Array.from([e.getCoefficient(1)]);for(var r=new Int32Array(n),o=0,i=this.field,s=1;s<i.getSize()&&o<n;s++)e.evaluateAt(s)===0&&(r[o]=i.inverse(s),o++);if(o!==n)throw new Xc("Error locator degree does not match number of roots");return r},t.prototype.findErrorMagnitudes=function(e,n){for(var r=n.length,o=new Int32Array(r),i=this.field,s=0;s<r;s++){for(var a=i.inverse(n[s]),u=1,l=0;l<r;l++)if(s!==l){var c=i.multiply(n[l],a),f=1&c?-2&c:1|c;u=i.multiply(u,f)}o[s]=i.multiply(e.evaluateAt(a),i.inverse(u)),i.getGeneratorBase()!==0&&(o[s]=i.multiply(o[s],a))}return o},t}();(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(Bt||(Bt={}));var X4=function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var n=e.getBits(),r=this.extractBits(n),o=this.correctBits(r),i=t.convertBoolArrayToByteArray(o),s=t.getEncodedData(o),a=new Zd(i,s,null,null);return a.setNumBits(o.length),a},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var n=e.length,r=Bt.UPPER,o=Bt.UPPER,i="",s=0;s<n;)if(o===Bt.BINARY){if(n-s<5)break;var a=t.readCode(e,s,5);if(s+=5,a===0){if(n-s<11)break;a=t.readCode(e,s,11)+31,s+=11}for(var u=0;u<a;u++){if(n-s<8){s=n;break}var l=t.readCode(e,s,8);i+=It.castAsNonUtf8Char(l),s+=8}o=r}else{var c=o===Bt.DIGIT?4:5;if(n-s<c)break;l=t.readCode(e,s,c),s+=c;var f=t.getCharacter(o,l);f.startsWith("CTRL_")?(r=o,o=t.getTable(f.charAt(5)),f.charAt(6)==="L"&&(r=o)):(i+=f,o=r)}return i},t.getTable=function(e){switch(e){case"L":return Bt.LOWER;case"P":return Bt.PUNCT;case"M":return Bt.MIXED;case"D":return Bt.DIGIT;case"B":return Bt.BINARY;default:return Bt.UPPER}},t.getCharacter=function(e,n){switch(e){case Bt.UPPER:return t.UPPER_TABLE[n];case Bt.LOWER:return t.LOWER_TABLE[n];case Bt.MIXED:return t.MIXED_TABLE[n];case Bt.PUNCT:return t.PUNCT_TABLE[n];case Bt.DIGIT:return t.DIGIT_TABLE[n];default:throw new oc("Bad table")}},t.prototype.correctBits=function(e){var n,r;this.ddata.getNbLayers()<=2?(r=6,n=Vo.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,n=Vo.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,n=Vo.AZTEC_DATA_10):(r=12,n=Vo.AZTEC_DATA_12);var o=this.ddata.getNbDatablocks(),i=e.length/r;if(i<o)throw new J;for(var s=e.length%r,a=new Int32Array(i),u=0;u<i;u++,s+=r)a[u]=t.readCode(e,s,r);try{new Jd(n).decode(a,i-o)}catch(y){throw new J(y)}var l=(1<<r)-1,c=0;for(u=0;u<o;u++){if((p=a[u])===0||p===l)throw new J;p!==1&&p!==l-1||c++}var f=new Array(o*r-c),d=0;for(u=0;u<o;u++){var p;if((p=a[u])===1||p===l-1)f.fill(p>1,d,d+r-1),d+=r-1;else for(var m=r-1;m>=0;--m)f[d++]=(p&1<<m)!=0}return f},t.prototype.extractBits=function(e){var n=this.ddata.isCompact(),r=this.ddata.getNbLayers(),o=(n?11:14)+4*r,i=new Int32Array(o),s=new Array(this.totalBitsInLayer(r,n));if(n)for(var a=0;a<i.length;a++)i[a]=a;else{var u=o+1+2*Vt.truncDivision(Vt.truncDivision(o,2)-1,15),l=o/2,c=Vt.truncDivision(u,2);for(a=0;a<l;a++){var f=a+Vt.truncDivision(a,15);i[l-a-1]=c-f-1,i[l+a]=c+f+1}}a=0;for(var d=0;a<r;a++){for(var p=4*(r-a)+(n?9:12),m=2*a,y=o-1-m,_=0;_<p;_++)for(var v=2*_,g=0;g<2;g++)s[d+v+g]=e.get(i[m+g],i[m+_]),s[d+2*p+v+g]=e.get(i[m+_],i[y-g]),s[d+4*p+v+g]=e.get(i[y-g],i[y-_]),s[d+6*p+v+g]=e.get(i[y-_],i[m+g]);d+=8*p}return s},t.readCode=function(e,n,r){for(var o=0,i=n;i<n+r;i++)o<<=1,e[i]&&(o|=1);return o},t.readByte=function(e,n){var r=e.length-n;return r>=8?t.readCode(e,n,8):t.readCode(e,n,r)<<8-r},t.convertBoolArrayToByteArray=function(e){for(var n=new Uint8Array((e.length+7)/8),r=0;r<n.length;r++)n[r]=t.readByte(e,8*r);return n},t.prototype.totalBitsInLayer=function(e,n){return((n?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t}(),be=function(){function t(){}return t.round=function(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,n,r,o){var i=e-r,s=n-o;return Math.sqrt(i*i+s*s)},t.sum=function(e){for(var n=0,r=0,o=e.length;r!==o;r++)n+=e[r];return n},t}(),H2=function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),ae=function(){function t(e,n){this.x=e,this.y=n}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var n=e;return this.x===n.x&&this.y===n.y}return!1},t.prototype.hashCode=function(){return 31*H2.floatToIntBits(this.x)+H2.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var n,r,o,i=this.distance(e[0],e[1]),s=this.distance(e[1],e[2]),a=this.distance(e[0],e[2]);if(s>=i&&s>=a?(r=e[0],n=e[1],o=e[2]):a>=s&&a>=i?(r=e[1],n=e[0],o=e[2]):(r=e[2],n=e[0],o=e[1]),this.crossProductZ(n,r,o)<0){var u=n;n=o,o=u}e[0]=n,e[1]=r,e[2]=o},t.distance=function(e,n){return be.distance(e.x,e.y,n.x,n.y)},t.crossProductZ=function(e,n,r){var o=n.x,i=n.y;return(r.x-o)*(e.y-i)-(r.y-i)*(e.x-o)},t}(),my=function(){function t(e,n){this.bits=e,this.points=n}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),FF=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),LF=function(t){function e(n,r,o,i,s){var a=t.call(this,n,r)||this;return a.compact=o,a.nbDatablocks=i,a.nbLayers=s,a}return FF(e,t),e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(my),z2=function(){function t(e,n,r,o){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),n==null&&(n=t.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),o==null&&(o=e.getHeight()/2|0);var i=n/2|0;if(this.leftInit=r-i,this.rightInit=r+i,this.upInit=o-i,this.downInit=o+i,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new z}return t.prototype.detect=function(){for(var e=this.leftInit,n=this.rightInit,r=this.upInit,o=this.downInit,i=!1,s=!0,a=!1,u=!1,l=!1,c=!1,f=!1,d=this.width,p=this.height;s;){s=!1;for(var m=!0;(m||!u)&&n<d;)(m=this.containsBlackPoint(r,o,n,!1))?(n++,s=!0,u=!0):u||n++;if(n>=d){i=!0;break}for(var y=!0;(y||!l)&&o<p;)(y=this.containsBlackPoint(e,n,o,!0))?(o++,s=!0,l=!0):l||o++;if(o>=p){i=!0;break}for(var _=!0;(_||!c)&&e>=0;)(_=this.containsBlackPoint(r,o,e,!1))?(e--,s=!0,c=!0):c||e--;if(e<0){i=!0;break}for(var v=!0;(v||!f)&&r>=0;)(v=this.containsBlackPoint(e,n,r,!0))?(r--,s=!0,f=!0):f||r--;if(r<0){i=!0;break}s&&(a=!0)}if(!i&&a){for(var g=n-e,E=null,x=1;E===null&&x<g;x++)E=this.getBlackPointOnSegment(e,o-x,e+x,o);if(E==null)throw new z;var P=null;for(x=1;P===null&&x<g;x++)P=this.getBlackPointOnSegment(e,r+x,e+x,r);if(P==null)throw new z;var N=null;for(x=1;N===null&&x<g;x++)N=this.getBlackPointOnSegment(n,r+x,n-x,r);if(N==null)throw new z;var I=null;for(x=1;I===null&&x<g;x++)I=this.getBlackPointOnSegment(n,o-x,n-x,o);if(I==null)throw new z;return this.centerEdges(I,E,N,P)}throw new z},t.prototype.getBlackPointOnSegment=function(e,n,r,o){for(var i=be.round(be.distance(e,n,r,o)),s=(r-e)/i,a=(o-n)/i,u=this.image,l=0;l<i;l++){var c=be.round(e+l*s),f=be.round(n+l*a);if(u.get(c,f))return new ae(c,f)}return null},t.prototype.centerEdges=function(e,n,r,o){var i=e.getX(),s=e.getY(),a=n.getX(),u=n.getY(),l=r.getX(),c=r.getY(),f=o.getX(),d=o.getY(),p=t.CORR;return i<this.width/2?[new ae(f-p,d+p),new ae(a+p,u+p),new ae(l-p,c-p),new ae(i+p,s-p)]:[new ae(f+p,d+p),new ae(a+p,u-p),new ae(l-p,c+p),new ae(i-p,s-p)]},t.prototype.containsBlackPoint=function(e,n,r,o){var i=this.image;if(o){for(var s=e;s<=n;s++)if(i.get(s,r))return!0}else for(var a=e;a<=n;a++)if(i.get(r,a))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t}(),Y4=function(){function t(){}return t.checkAndNudgePoints=function(e,n){for(var r=e.getWidth(),o=e.getHeight(),i=!0,s=0;s<n.length&&i;s+=2){var a=Math.floor(n[s]),u=Math.floor(n[s+1]);if(a<-1||a>r||u<-1||u>o)throw new z;i=!1,a===-1?(n[s]=0,i=!0):a===r&&(n[s]=r-1,i=!0),u===-1?(n[s+1]=0,i=!0):u===o&&(n[s+1]=o-1,i=!0)}for(i=!0,s=n.length-2;s>=0&&i;s-=2){if(a=Math.floor(n[s]),u=Math.floor(n[s+1]),a<-1||a>r||u<-1||u>o)throw new z;i=!1,a===-1?(n[s]=0,i=!0):a===r&&(n[s]=r-1,i=!0),u===-1?(n[s+1]=0,i=!0):u===o&&(n[s+1]=o-1,i=!0)}},t}(),mA=function(){function t(e,n,r,o,i,s,a,u,l){this.a11=e,this.a21=n,this.a31=r,this.a12=o,this.a22=i,this.a32=s,this.a13=a,this.a23=u,this.a33=l}return t.quadrilateralToQuadrilateral=function(e,n,r,o,i,s,a,u,l,c,f,d,p,m,y,_){var v=t.quadrilateralToSquare(e,n,r,o,i,s,a,u);return t.squareToQuadrilateral(l,c,f,d,p,m,y,_).times(v)},t.prototype.transformPoints=function(e){for(var n=e.length,r=this.a11,o=this.a12,i=this.a13,s=this.a21,a=this.a22,u=this.a23,l=this.a31,c=this.a32,f=this.a33,d=0;d<n;d+=2){var p=e[d],m=e[d+1],y=i*p+u*m+f;e[d]=(r*p+s*m+l)/y,e[d+1]=(o*p+a*m+c)/y}},t.prototype.transformPointsWithValues=function(e,n){for(var r=this.a11,o=this.a12,i=this.a13,s=this.a21,a=this.a22,u=this.a23,l=this.a31,c=this.a32,f=this.a33,d=e.length,p=0;p<d;p++){var m=e[p],y=n[p],_=i*m+u*y+f;e[p]=(r*m+s*y+l)/_,n[p]=(o*m+a*y+c)/_}},t.squareToQuadrilateral=function(e,n,r,o,i,s,a,u){var l=e-r+i-a,c=n-o+s-u;if(l===0&&c===0)return new t(r-e,i-r,e,o-n,s-o,n,0,0,1);var f=r-i,d=a-i,p=o-s,m=u-s,y=f*m-d*p,_=(l*m-d*c)/y,v=(f*c-l*p)/y;return new t(r-e+_*r,a-e+v*a,e,o-n+_*o,u-n+v*u,n,_,v,1)},t.quadrilateralToSquare=function(e,n,r,o,i,s,a,u){return t.squareToQuadrilateral(e,n,r,o,i,s,a,u).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t}(),VF=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),jF=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return VF(e,t),e.prototype.sampleGrid=function(n,r,o,i,s,a,u,l,c,f,d,p,m,y,_,v,g,E,x){var P=mA.quadrilateralToQuadrilateral(i,s,a,u,l,c,f,d,p,m,y,_,v,g,E,x);return this.sampleGridWithTransform(n,r,o,P)},e.prototype.sampleGridWithTransform=function(n,r,o,i){if(r<=0||o<=0)throw new z;for(var s=new oo(r,o),a=new Float32Array(2*r),u=0;u<o;u++){for(var l=a.length,c=u+.5,f=0;f<l;f+=2)a[f]=f/2+.5,a[f+1]=c;i.transformPoints(a),Y4.checkAndNudgePoints(n,a);try{for(f=0;f<l;f+=2)n.get(Math.floor(a[f]),Math.floor(a[f+1]))&&s.set(f/2,u)}catch{throw new z}}return s},e}(Y4),gy=function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new jF,t}(),vn=function(){function t(e,n){this.x=e,this.y=n}return t.prototype.toResultPoint=function(){return new ae(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t}(),UF=function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var n=this.getMatrixCenter(),r=this.getBullsEyeCorners(n);if(e){var o=r[0];r[0]=r[2],r[2]=o}this.extractParameters(r);var i=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),s=this.getMatrixCornerPoints(r);return new LF(i,s,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!(this.isValidPoint(e[0])&&this.isValidPoint(e[1])&&this.isValidPoint(e[2])&&this.isValidPoint(e[3])))throw new z;var n=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],n),this.sampleLine(e[1],e[2],n),this.sampleLine(e[2],e[3],n),this.sampleLine(e[3],e[0],n)]);this.shift=this.getRotation(r,n);for(var o=0,i=0;i<4;i++){var s=r[(this.shift+i)%4];this.compact?(o<<=7,o+=s>>1&127):(o<<=10,o+=(s>>2&992)+(s>>1&31))}var a=this.getCorrectedParameterData(o,this.compact);this.compact?(this.nbLayers=1+(a>>6),this.nbDataBlocks=1+(63&a)):(this.nbLayers=1+(a>>11),this.nbDataBlocks=1+(2047&a))},t.prototype.getRotation=function(e,n){var r=0;e.forEach(function(i,s,a){r=(r<<3)+((i>>n-2<<1)+(1&i))}),r=((1&r)<<11)+(r>>1);for(var o=0;o<4;o++)if(Vt.bitCount(r^this.EXPECTED_CORNER_BITS[o])<=2)return o;throw new z},t.prototype.getCorrectedParameterData=function(e,n){var r,o;n?(r=7,o=2):(r=10,o=4);for(var i=r-o,s=new Int32Array(r),a=r-1;a>=0;--a)s[a]=15&e,e>>=4;try{new Jd(Vo.AZTEC_PARAM).decode(s,i)}catch{throw new z}var u=0;for(a=0;a<o;a++)u=(u<<4)+s[a];return u},t.prototype.getBullsEyeCorners=function(e){var n=e,r=e,o=e,i=e,s=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var a=this.getFirstDifferent(n,s,1,-1),u=this.getFirstDifferent(r,s,1,1),l=this.getFirstDifferent(o,s,-1,1),c=this.getFirstDifferent(i,s,-1,-1);if(this.nbCenterLayers>2){var f=this.distancePoint(c,a)*this.nbCenterLayers/(this.distancePoint(i,n)*(this.nbCenterLayers+2));if(f<.75||f>1.25||!this.isWhiteOrBlackRectangle(a,u,l,c))break}n=a,r=u,o=l,i=c,s=!s}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new z;this.compact=this.nbCenterLayers===5;var d=new ae(n.getX()+.5,n.getY()-.5),p=new ae(r.getX()+.5,r.getY()+.5),m=new ae(o.getX()-.5,o.getY()+.5),y=new ae(i.getX()-.5,i.getY()-.5);return this.expandSquare([d,p,m,y],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,n,r,o;try{e=(l=new z2(this.image).detect())[0],n=l[1],r=l[2],o=l[3]}catch{var i=this.image.getWidth()/2,s=this.image.getHeight()/2;e=this.getFirstDifferent(new vn(i+7,s-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new vn(i+7,s+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new vn(i-7,s+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new vn(i-7,s-7),!1,-1,-1).toResultPoint()}var a=be.round((e.getX()+o.getX()+n.getX()+r.getX())/4),u=be.round((e.getY()+o.getY()+n.getY()+r.getY())/4);try{var l;e=(l=new z2(this.image,15,a,u).detect())[0],n=l[1],r=l[2],o=l[3]}catch{e=this.getFirstDifferent(new vn(a+7,u-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new vn(a+7,u+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new vn(a-7,u+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new vn(a-7,u-7),!1,-1,-1).toResultPoint()}return a=be.round((e.getX()+o.getX()+n.getX()+r.getX())/4),u=be.round((e.getY()+o.getY()+n.getY()+r.getY())/4),new vn(a,u)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,n,r,o,i){var s=gy.getInstance(),a=this.getDimension(),u=a/2-this.nbCenterLayers,l=a/2+this.nbCenterLayers;return s.sampleGrid(e,a,a,u,u,l,u,l,l,u,l,n.getX(),n.getY(),r.getX(),r.getY(),o.getX(),o.getY(),i.getX(),i.getY())},t.prototype.sampleLine=function(e,n,r){for(var o=0,i=this.distanceResultPoint(e,n),s=i/r,a=e.getX(),u=e.getY(),l=s*(n.getX()-e.getX())/i,c=s*(n.getY()-e.getY())/i,f=0;f<r;f++)this.image.get(be.round(a+f*l),be.round(u+f*c))&&(o|=1<<r-f-1);return o},t.prototype.isWhiteOrBlackRectangle=function(e,n,r,o){e=new vn(e.getX()-3,e.getY()+3),n=new vn(n.getX()-3,n.getY()-3),r=new vn(r.getX()+3,r.getY()-3),o=new vn(o.getX()+3,o.getY()+3);var i=this.getColor(o,e);if(i===0)return!1;var s=this.getColor(e,n);return s===i&&(s=this.getColor(n,r))===i&&(s=this.getColor(r,o))===i},t.prototype.getColor=function(e,n){for(var r=this.distancePoint(e,n),o=(n.getX()-e.getX())/r,i=(n.getY()-e.getY())/r,s=0,a=e.getX(),u=e.getY(),l=this.image.get(e.getX(),e.getY()),c=Math.ceil(r),f=0;f<c;f++)a+=o,u+=i,this.image.get(be.round(a),be.round(u))!==l&&s++;var d=s/r;return d>.1&&d<.9?0:d<=.1===l?1:-1},t.prototype.getFirstDifferent=function(e,n,r,o){for(var i=e.getX()+r,s=e.getY()+o;this.isValid(i,s)&&this.image.get(i,s)===n;)i+=r,s+=o;for(i-=r,s-=o;this.isValid(i,s)&&this.image.get(i,s)===n;)i+=r;for(i-=r;this.isValid(i,s)&&this.image.get(i,s)===n;)s+=o;return new vn(i,s-=o)},t.prototype.expandSquare=function(e,n,r){var o=r/(2*n),i=e[0].getX()-e[2].getX(),s=e[0].getY()-e[2].getY(),a=(e[0].getX()+e[2].getX())/2,u=(e[0].getY()+e[2].getY())/2,l=new ae(a+o*i,u+o*s),c=new ae(a-o*i,u-o*s);return i=e[1].getX()-e[3].getX(),s=e[1].getY()-e[3].getY(),a=(e[1].getX()+e[3].getX())/2,u=(e[1].getY()+e[3].getY())/2,[l,new ae(a+o*i,u+o*s),c,new ae(a-o*i,u-o*s)]},t.prototype.isValid=function(e,n){return e>=0&&e<this.image.getWidth()&&n>0&&n<this.image.getHeight()},t.prototype.isValidPoint=function(e){var n=be.round(e.getX()),r=be.round(e.getY());return this.isValid(n,r)},t.prototype.distancePoint=function(e,n){return be.distance(e.getX(),e.getY(),n.getX(),n.getY())},t.prototype.distanceResultPoint=function(e,n){return be.distance(e.getX(),e.getY(),n.getX(),n.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Vt.truncDivision(this.nbLayers-4,8)+1)+15},t}(),Pf=function(){function t(){}return t.prototype.decode=function(e,n){n===void 0&&(n=null);var r=null,o=new UF(e.getBlackMatrix()),i=null,s=null;try{i=(a=o.detectMirror(!1)).getPoints(),this.reportFoundResultPoints(n,i),s=new X4().decode(a)}catch(f){r=f}if(s==null)try{var a;i=(a=o.detectMirror(!0)).getPoints(),this.reportFoundResultPoints(n,i),s=new X4().decode(a)}catch(f){throw r??f}var u=new bn(s.getText(),s.getRawBytes(),s.getNumBits(),i,le.AZTEC,Je.currentTimeMillis()),l=s.getByteSegments();l!=null&&u.putMetadata(jt.BYTE_SEGMENTS,l);var c=s.getECLevel();return c!=null&&u.putMetadata(jt.ERROR_CORRECTION_LEVEL,c),u},t.prototype.reportFoundResultPoints=function(e,n){if(e!=null){var r=e.get(Ke.NEED_RESULT_POINT_CALLBACK);r!=null&&n.forEach(function(o,i,s){r.foundPossibleResultPoint(o)})}},t.prototype.reset=function(){},t}(),$F=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){function e(n){return n===void 0&&(n=500),t.call(this,new Pf,n)||this}$F(e,t)})($a);var Ut=function(){function t(){}return t.prototype.decode=function(e,n){try{return this.doDecode(e,n)}catch{if(n&&n.get(Ke.TRY_HARDER)===!0&&e.isRotateSupported()){var r=e.rotateCounterClockwise(),o=this.doDecode(r,n),i=o.getResultMetadata(),s=270;i!==null&&i.get(jt.ORIENTATION)===!0&&(s+=i.get(jt.ORIENTATION)%360),o.putMetadata(jt.ORIENTATION,s);var a=o.getResultPoints();if(a!==null)for(var u=r.getHeight(),l=0;l<a.length;l++)a[l]=new ae(u-a[l].getY()-1,a[l].getX());return o}throw new z}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,n){var r,o=e.getWidth(),i=e.getHeight(),s=new Cr(o),a=n&&n.get(Ke.TRY_HARDER)===!0,u=Math.max(1,i>>(a?8:5));r=a?i:15;for(var l=Math.trunc(i/2),c=0;c<r;c++){var f=Math.trunc((c+1)/2),d=l+u*(1&c?-f:f);if(d<0||d>=i)break;try{s=e.getBlackRow(d,s)}catch{continue}for(var p=function(v){if(v===1&&(s.reverse(),n&&n.get(Ke.NEED_RESULT_POINT_CALLBACK)===!0)){var g=new Map;n.forEach(function(P,N){return g.set(N,P)}),g.delete(Ke.NEED_RESULT_POINT_CALLBACK),n=g}try{var E=m.decodeRow(d,s,n);if(v===1){E.putMetadata(jt.ORIENTATION,180);var x=E.getResultPoints();x!==null&&(x[0]=new ae(o-x[0].getX()-1,x[0].getY()),x[1]=new ae(o-x[1].getX()-1,x[1].getY()))}return{value:E}}catch{}},m=this,y=0;y<2;y++){var _=p(y);if(typeof _=="object")return _.value}}throw new z},t.recordPattern=function(e,n,r){for(var o=r.length,i=0;i<o;i++)r[i]=0;var s=e.getSize();if(n>=s)throw new z;for(var a=!e.get(n),u=0,l=n;l<s;){if(e.get(l)!==a)r[u]++;else{if(++u===o)break;r[u]=1,a=!a}l++}if(u!==o&&(u!==o-1||l!==s))throw new z},t.recordPatternInReverse=function(e,n,r){for(var o=r.length,i=e.get(n);n>0&&o>=0;)e.get(--n)!==i&&(o--,i=!i);if(o>=0)throw new z;t.recordPattern(e,n+1,r)},t.patternMatchVariance=function(e,n,r){for(var o=e.length,i=0,s=0,a=0;a<o;a++)i+=e[a],s+=n[a];if(i<s)return Number.POSITIVE_INFINITY;var u=i/s;r*=u;for(var l=0,c=0;c<o;c++){var f=e[c],d=n[c]*u,p=f>d?f-d:d-f;if(p>r)return Number.POSITIVE_INFINITY;l+=p}return l/i},t}(),HF=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Q4=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return HF(e,t),e.findStartPattern=function(n){for(var r=n.getSize(),o=n.getNextSet(0),i=0,s=Int32Array.from([0,0,0,0,0,0]),a=o,u=!1,l=o;l<r;l++)if(n.get(l)!==u)s[i]++;else{if(i===5){for(var c=e.MAX_AVG_VARIANCE,f=-1,d=e.CODE_START_A;d<=e.CODE_START_C;d++){var p=Ut.patternMatchVariance(s,e.CODE_PATTERNS[d],e.MAX_INDIVIDUAL_VARIANCE);p<c&&(c=p,f=d)}if(f>=0&&n.isRange(Math.max(0,a-(l-a)/2),a,!1))return Int32Array.from([a,l,f]);a+=s[0]+s[1],(s=s.slice(2,s.length-1))[i-1]=0,s[i]=0,i--}else i++;s[i]=1,u=!u}throw new z},e.decodeCode=function(n,r,o){Ut.recordPattern(n,o,r);for(var i=e.MAX_AVG_VARIANCE,s=-1,a=0;a<e.CODE_PATTERNS.length;a++){var u=e.CODE_PATTERNS[a],l=this.patternMatchVariance(r,u,e.MAX_INDIVIDUAL_VARIANCE);l<i&&(i=l,s=a)}if(s>=0)return s;throw new z},e.prototype.decodeRow=function(n,r,o){var i,s=o&&o.get(Ke.ASSUME_GS1)===!0,a=e.findStartPattern(r),u=a[2],l=0,c=new Uint8Array(20);switch(c[l++]=u,u){case e.CODE_START_A:i=e.CODE_CODE_A;break;case e.CODE_START_B:i=e.CODE_CODE_B;break;case e.CODE_START_C:i=e.CODE_CODE_C;break;default:throw new J}for(var f=!1,d=!1,p="",m=a[0],y=a[1],_=Int32Array.from([0,0,0,0,0,0]),v=0,g=0,E=u,x=0,P=!0,N=!1,I=!1;!f;){var C=d;switch(d=!1,v=g,g=e.decodeCode(r,_,y),c[l++]=g,g!==e.CODE_STOP&&(P=!0),g!==e.CODE_STOP&&(E+=++x*g),m=y,y+=_.reduce(function(re,$){return re+$},0),g){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new J}switch(i){case e.CODE_CODE_A:if(g<64)p+=I===N?String.fromCharCode(" ".charCodeAt(0)+g):String.fromCharCode(" ".charCodeAt(0)+g+128),I=!1;else if(g<96)p+=I===N?String.fromCharCode(g-64):String.fromCharCode(g+64),I=!1;else switch(g!==e.CODE_STOP&&(P=!1),g){case e.CODE_FNC_1:s&&(p.length===0?p+="]C1":p+=String.fromCharCode(29));break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!N&&I?(N=!0,I=!1):N&&I?(N=!1,I=!1):I=!0;break;case e.CODE_SHIFT:d=!0,i=e.CODE_CODE_B;break;case e.CODE_CODE_B:i=e.CODE_CODE_B;break;case e.CODE_CODE_C:i=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0}break;case e.CODE_CODE_B:if(g<96)p+=I===N?String.fromCharCode(" ".charCodeAt(0)+g):String.fromCharCode(" ".charCodeAt(0)+g+128),I=!1;else switch(g!==e.CODE_STOP&&(P=!1),g){case e.CODE_FNC_1:s&&(p.length===0?p+="]C1":p+=String.fromCharCode(29));break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!N&&I?(N=!0,I=!1):N&&I?(N=!1,I=!1):I=!0;break;case e.CODE_SHIFT:d=!0,i=e.CODE_CODE_A;break;case e.CODE_CODE_A:i=e.CODE_CODE_A;break;case e.CODE_CODE_C:i=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0}break;case e.CODE_CODE_C:if(g<100)g<10&&(p+="0"),p+=g;else switch(g!==e.CODE_STOP&&(P=!1),g){case e.CODE_FNC_1:s&&(p.length===0?p+="]C1":p+=String.fromCharCode(29));break;case e.CODE_CODE_A:i=e.CODE_CODE_A;break;case e.CODE_CODE_B:i=e.CODE_CODE_B;break;case e.CODE_STOP:f=!0}}C&&(i=i===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var D=y-m;if(y=r.getNextUnset(y),!r.isRange(y,Math.min(r.getSize(),y+(y-m)/2),!1))throw new z;if((E-=x*v)%103!==v)throw new wt;var T=p.length;if(T===0)throw new z;T>0&&P&&(p=i===e.CODE_CODE_C?p.substring(0,T-2):p.substring(0,T-1));for(var R=(a[1]+a[0])/2,k=m+D/2,b=c.length,U=new Uint8Array(b),K=0;K<b;K++)U[K]=c[K];var te=[new ae(R,n),new ae(k,n)];return new bn(p,U,0,te,le.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(Ut),zF=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Q1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Z4=function(t){function e(n,r){n===void 0&&(n=!1),r===void 0&&(r=!1);var o=t.call(this)||this;return o.usingCheckDigit=n,o.extendedMode=r,o.decodeRowResult="",o.counters=new Int32Array(9),o}return zF(e,t),e.prototype.decodeRow=function(n,r,o){var i,s,a,u,l=this.counters;l.fill(0),this.decodeRowResult="";var c,f,d=e.findAsteriskPattern(r,l),p=r.getNextSet(d[1]),m=r.getSize();do{e.recordPattern(r,p,l);var y=e.toNarrowWidePattern(l);if(y<0)throw new z;c=e.patternToChar(y),this.decodeRowResult+=c,f=p;try{for(var _=(i=void 0,Q1(l)),v=_.next();!v.done;v=_.next())p+=v.value}catch(R){i={error:R}}finally{try{v&&!v.done&&(s=_.return)&&s.call(_)}finally{if(i)throw i.error}}p=r.getNextSet(p)}while(c!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var g,E=0;try{for(var x=Q1(l),P=x.next();!P.done;P=x.next())E+=P.value}catch(R){a={error:R}}finally{try{P&&!P.done&&(u=x.return)&&u.call(x)}finally{if(a)throw a.error}}if(p!==m&&2*(p-f-E)<E)throw new z;if(this.usingCheckDigit){for(var N=this.decodeRowResult.length-1,I=0,C=0;C<N;C++)I+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(C));if(this.decodeRowResult.charAt(N)!==e.ALPHABET_STRING.charAt(I%43))throw new wt;this.decodeRowResult=this.decodeRowResult.substring(0,N)}if(this.decodeRowResult.length===0)throw new z;g=this.extendedMode?e.decodeExtended(this.decodeRowResult):this.decodeRowResult;var D=(d[1]+d[0])/2,T=f+E/2;return new bn(g,null,0,[new ae(D,n),new ae(T,n)],le.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(n,r){for(var o=n.getSize(),i=n.getNextSet(0),s=0,a=i,u=!1,l=r.length,c=i;c<o;c++)if(n.get(c)!==u)r[s]++;else{if(s===l-1){if(this.toNarrowWidePattern(r)===e.ASTERISK_ENCODING&&n.isRange(Math.max(0,a-Math.floor((c-a)/2)),a,!1))return[a,c];a+=r[0]+r[1],r.copyWithin(0,2,2+s-1),r[s-1]=0,r[s]=0,s--}else s++;r[s]=1,u=!u}throw new z},e.toNarrowWidePattern=function(n){var r,o,i,s=n.length,a=0;do{var u=2147483647;try{for(var l=(r=void 0,Q1(n)),c=l.next();!c.done;c=l.next())(m=c.value)<u&&m>a&&(u=m)}catch(y){r={error:y}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}a=u,i=0;for(var f=0,d=0,p=0;p<s;p++)(m=n[p])>a&&(d|=1<<s-1-p,i++,f+=m);if(i===3){for(p=0;p<s&&i>0;p++){var m;if((m=n[p])>a&&(i--,2*m>=f))return-1}return d}}while(i>3);return-1},e.patternToChar=function(n){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===n)return e.ALPHABET_STRING.charAt(r);if(n===e.ASTERISK_ENCODING)return"*";throw new z},e.decodeExtended=function(n){for(var r=n.length,o="",i=0;i<r;i++){var s=n.charAt(i);if(s==="+"||s==="$"||s==="%"||s==="/"){var a=n.charAt(i+1),u="\0";switch(s){case"+":if(!(a>="A"&&a<="Z"))throw new J;u=String.fromCharCode(a.charCodeAt(0)+32);break;case"$":if(!(a>="A"&&a<="Z"))throw new J;u=String.fromCharCode(a.charCodeAt(0)-64);break;case"%":if(a>="A"&&a<="E")u=String.fromCharCode(a.charCodeAt(0)-38);else if(a>="F"&&a<="J")u=String.fromCharCode(a.charCodeAt(0)-11);else if(a>="K"&&a<="O")u=String.fromCharCode(a.charCodeAt(0)+16);else if(a>="P"&&a<="T")u=String.fromCharCode(a.charCodeAt(0)+43);else if(a==="U")u="\0";else if(a==="V")u="@";else if(a==="W")u="`";else{if(a!=="X"&&a!=="Y"&&a!=="Z")throw new J;u=""}break;case"/":if(a>="A"&&a<="O")u=String.fromCharCode(a.charCodeAt(0)-32);else{if(a!=="Z")throw new J;u=":"}}o+=u,i++}else o+=s}return o},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(Ut),WF=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),GF=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},J4=function(t){function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.narrowLineWidth=-1,n}return WF(e,t),e.prototype.decodeRow=function(n,r,o){var i,s,a=this.decodeStart(r),u=this.decodeEnd(r),l=new je;e.decodeMiddle(r,a[1],u[0],l);var c=l.toString(),f=null;o!=null&&(f=o.get(Ke.ALLOWED_LENGTHS)),f==null&&(f=e.DEFAULT_ALLOWED_LENGTHS);var d=c.length,p=!1,m=0;try{for(var y=GF(f),_=y.next();!_.done;_=y.next()){var v=_.value;if(d===v){p=!0;break}v>m&&(m=v)}}catch(E){i={error:E}}finally{try{_&&!_.done&&(s=y.return)&&s.call(y)}finally{if(i)throw i.error}}if(!p&&d>m&&(p=!0),!p)throw new J;var g=[new ae(a[1],n),new ae(u[0],n)];return new bn(c,null,0,g,le.ITF,new Date().getTime())},e.decodeMiddle=function(n,r,o,i){var s=new Int32Array(10),a=new Int32Array(5),u=new Int32Array(5);for(s.fill(0),a.fill(0),u.fill(0);r<o;){Ut.recordPattern(n,r,s);for(var l=0;l<5;l++){var c=2*l;a[l]=s[c],u[l]=s[c+1]}var f=e.decodeDigit(a);i.append(f.toString()),f=this.decodeDigit(u),i.append(f.toString()),s.forEach(function(d){r+=d})}},e.prototype.decodeStart=function(n){var r=e.skipWhiteSpace(n),o=e.findGuardPattern(n,r,e.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(n,o[0]),o},e.prototype.validateQuietZone=function(n,r){var o=10*this.narrowLineWidth;o=o<r?o:r;for(var i=r-1;o>0&&i>=0&&!n.get(i);i--)o--;if(o!==0)throw new z},e.skipWhiteSpace=function(n){var r=n.getSize(),o=n.getNextSet(0);if(o===r)throw new z;return o},e.prototype.decodeEnd=function(n){n.reverse();try{var r=e.skipWhiteSpace(n),o=void 0;try{o=e.findGuardPattern(n,r,e.END_PATTERN_REVERSED[0])}catch(s){s instanceof z&&(o=e.findGuardPattern(n,r,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,o[0]);var i=o[0];return o[0]=n.getSize()-o[1],o[1]=n.getSize()-i,o}finally{n.reverse()}},e.findGuardPattern=function(n,r,o){var i=o.length,s=new Int32Array(i),a=n.getSize(),u=!1,l=0,c=r;s.fill(0);for(var f=r;f<a;f++)if(n.get(f)!==u)s[l]++;else{if(l===i-1){if(Ut.patternMatchVariance(s,o,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[c,f];c+=s[0]+s[1],Je.arraycopy(s,2,s,0,l-1),s[l-1]=0,s[l]=0,l--}else l++;s[l]=1,u=!u}throw new z},e.decodeDigit=function(n){for(var r=e.MAX_AVG_VARIANCE,o=-1,i=e.PATTERNS.length,s=0;s<i;s++){var a=e.PATTERNS[s],u=Ut.patternMatchVariance(n,a,e.MAX_INDIVIDUAL_VARIANCE);u<r?(r=u,o=s):u===r&&(o=-1)}if(o>=0)return o%10;throw new z},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(Ut),qF=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Aa=function(t){function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.decodeRowStringBuffer="",n}return qF(e,t),e.findStartGuardPattern=function(n){for(var r,o=!1,i=0,s=Int32Array.from([0,0,0]);!o;){s=Int32Array.from([0,0,0]);var a=(r=e.findGuardPattern(n,i,!1,this.START_END_PATTERN,s))[0],u=a-((i=r[1])-a);u>=0&&(o=n.isRange(u,a,!1))}return r},e.checkChecksum=function(n){return e.checkStandardUPCEANChecksum(n)},e.checkStandardUPCEANChecksum=function(n){var r=n.length;if(r===0)return!1;var o=parseInt(n.charAt(r-1),10);return e.getStandardUPCEANChecksum(n.substring(0,r-1))===o},e.getStandardUPCEANChecksum=function(n){for(var r=n.length,o=0,i=r-1;i>=0;i-=2){if((s=n.charAt(i).charCodeAt(0)-"0".charCodeAt(0))<0||s>9)throw new J;o+=s}for(o*=3,i=r-2;i>=0;i-=2){var s;if((s=n.charAt(i).charCodeAt(0)-"0".charCodeAt(0))<0||s>9)throw new J;o+=s}return(1e3-o)%10},e.decodeEnd=function(n,r){return e.findGuardPattern(n,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(n,r,o,i){return this.findGuardPattern(n,r,o,i,new Int32Array(i.length))},e.findGuardPattern=function(n,r,o,i,s){for(var a=n.getSize(),u=0,l=r=o?n.getNextUnset(r):n.getNextSet(r),c=i.length,f=o,d=r;d<a;d++)if(n.get(d)!==f)s[u]++;else{if(u===c-1){if(Ut.patternMatchVariance(s,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([l,d]);l+=s[0]+s[1];for(var p=s.slice(2,s.length-1),m=0;m<u-1;m++)s[m]=p[m];s[u-1]=0,s[u]=0,u--}else u++;s[u]=1,f=!f}throw new z},e.decodeDigit=function(n,r,o,i){this.recordPattern(n,o,r);for(var s=this.MAX_AVG_VARIANCE,a=-1,u=i.length,l=0;l<u;l++){var c=i[l],f=Ut.patternMatchVariance(r,c,e.MAX_INDIVIDUAL_VARIANCE);f<s&&(s=f,a=l)}if(a>=0)return a;throw new z},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(Ut),KF=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},XF=function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,n,r){var o=this.decodeRowStringBuffer,i=this.decodeMiddle(n,r,o),s=o.toString(),a=t.parseExtensionString(s),u=[new ae((r[0]+r[1])/2,e),new ae(i,e)],l=new bn(s,null,0,u,le.UPC_EAN_EXTENSION,new Date().getTime());return a!=null&&l.putAllMetadata(a),l},t.prototype.decodeMiddle=function(e,n,r){var o,i,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var a=e.getSize(),u=n[1],l=0,c=0;c<5&&u<a;c++){var f=Aa.decodeDigit(e,s,u,Aa.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+f%10);try{for(var d=(o=void 0,KF(s)),p=d.next();!p.done;p=d.next())u+=p.value}catch(y){o={error:y}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(o)throw o.error}}f>=10&&(l|=1<<4-c),c!==4&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(r.length!==5)throw new z;var m=this.determineCheckDigit(l);if(t.extensionChecksum(r.toString())!==m)throw new z;return u},t.extensionChecksum=function(e){for(var n=e.length,r=0,o=n-2;o>=0;o-=2)r+=e.charAt(o).charCodeAt(0)-"0".charCodeAt(0);for(r*=3,o=n-1;o>=0;o-=2)r+=e.charAt(o).charCodeAt(0)-"0".charCodeAt(0);return(r*=3)%10},t.prototype.determineCheckDigit=function(e){for(var n=0;n<10;n++)if(e===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new z},t.parseExtensionString=function(e){if(e.length!==5)return null;var n=t.parseExtension5String(e);return n==null?null:new Map([[jt.SUGGESTED_PRICE,n]])},t.parseExtension5String=function(e){var n;switch(e.charAt(0)){case"0":n="";break;case"5":n="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n=""}var r=parseInt(e.substring(1)),o=r%100;return n+(r/100).toString()+"."+(o<10?"0"+o:o.toString())},t}(),YF=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},QF=function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,n,r){var o=this.decodeRowStringBuffer,i=this.decodeMiddle(n,r,o),s=o.toString(),a=t.parseExtensionString(s),u=[new ae((r[0]+r[1])/2,e),new ae(i,e)],l=new bn(s,null,0,u,le.UPC_EAN_EXTENSION,new Date().getTime());return a!=null&&l.putAllMetadata(a),l},t.prototype.decodeMiddle=function(e,n,r){var o,i,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var a=e.getSize(),u=n[1],l=0,c=0;c<2&&u<a;c++){var f=Aa.decodeDigit(e,s,u,Aa.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+f%10);try{for(var d=(o=void 0,YF(s)),p=d.next();!p.done;p=d.next())u+=p.value}catch(m){o={error:m}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(o)throw o.error}}f>=10&&(l|=1<<1-c),c!==1&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(r.length!==2)throw new z;if(parseInt(r.toString())%4!==l)throw new z;return u},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[jt.ISSUE_NUMBER,parseInt(e)]])},t}(),ZF=function(){function t(){}return t.decodeRow=function(e,n,r){var o=Aa.findGuardPattern(n,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new XF().decodeRow(e,n,o)}catch{return new QF().decodeRow(e,n,o)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t}(),JF=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),_t=function(t){function e(){var n=t.call(this)||this;n.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(a){return Int32Array.from(a)});for(var r=10;r<20;r++){for(var o=e.L_PATTERNS[r-10],i=new Int32Array(o.length),s=0;s<o.length;s++)i[s]=o[o.length-s-1];e.L_AND_G_PATTERNS[r]=i}return n}return JF(e,t),e.prototype.decodeRow=function(n,r,o){var i=e.findStartGuardPattern(r),s=o==null?null:o.get(Ke.NEED_RESULT_POINT_CALLBACK);if(s!=null){var a=new ae((i[0]+i[1])/2,n);s.foundPossibleResultPoint(a)}var u=this.decodeMiddle(r,i,this.decodeRowStringBuffer),l=u.rowOffset,c=u.resultString;if(s!=null){var f=new ae(l,n);s.foundPossibleResultPoint(f)}var d=e.decodeEnd(r,l);if(s!=null){var p=new ae((d[0]+d[1])/2,n);s.foundPossibleResultPoint(p)}var m=d[1],y=m+(m-d[0]);if(y>=r.getSize()||!r.isRange(m,y,!1))throw new z;var _=c.toString();if(_.length<8)throw new J;if(!e.checkChecksum(_))throw new wt;var v=(i[1]+i[0])/2,g=(d[1]+d[0])/2,E=this.getBarcodeFormat(),x=[new ae(v,n),new ae(g,n)],P=new bn(_,null,0,x,E,new Date().getTime()),N=0;try{var I=ZF.decodeRow(n,r,d[1]);P.putMetadata(jt.UPC_EAN_EXTENSION,I.getText()),P.putAllMetadata(I.getResultMetadata()),P.addResultPoints(I.getResultPoints()),N=I.getText().length}catch{}var C=o==null?null:o.get(Ke.ALLOWED_EAN_EXTENSIONS);if(C!=null){var D=!1;for(var T in C)if(N.toString()===T){D=!0;break}if(!D)throw new z}return E===le.EAN_13||le.UPC_A,P},e.checkChecksum=function(n){return e.checkStandardUPCEANChecksum(n)},e.checkStandardUPCEANChecksum=function(n){var r=n.length;if(r===0)return!1;var o=parseInt(n.charAt(r-1),10);return e.getStandardUPCEANChecksum(n.substring(0,r-1))===o},e.getStandardUPCEANChecksum=function(n){for(var r=n.length,o=0,i=r-1;i>=0;i-=2){if((s=n.charAt(i).charCodeAt(0)-"0".charCodeAt(0))<0||s>9)throw new J;o+=s}for(o*=3,i=r-2;i>=0;i-=2){var s;if((s=n.charAt(i).charCodeAt(0)-"0".charCodeAt(0))<0||s>9)throw new J;o+=s}return(1e3-o)%10},e.decodeEnd=function(n,r){return e.findGuardPattern(n,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(Aa),eL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),eE=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},W2=function(t){function e(){var n=t.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return eL(e,t),e.prototype.decodeMiddle=function(n,r,o){var i,s,a,u,l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var c=n.getSize(),f=r[1],d=0,p=0;p<6&&f<c;p++){var m=_t.decodeDigit(n,l,f,_t.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+m%10);try{for(var y=(i=void 0,eE(l)),_=y.next();!_.done;_=y.next())f+=_.value}catch(E){i={error:E}}finally{try{_&&!_.done&&(s=y.return)&&s.call(y)}finally{if(i)throw i.error}}m>=10&&(d|=1<<5-p)}for(o=e.determineFirstDigit(o,d),f=_t.findGuardPattern(n,f,!0,_t.MIDDLE_PATTERN,new Int32Array(_t.MIDDLE_PATTERN.length).fill(0))[1],p=0;p<6&&f<c;p++){m=_t.decodeDigit(n,l,f,_t.L_PATTERNS),o+=String.fromCharCode("0".charCodeAt(0)+m);try{for(var v=(a=void 0,eE(l)),g=v.next();!g.done;g=v.next())f+=g.value}catch(E){a={error:E}}finally{try{g&&!g.done&&(u=v.return)&&u.call(v)}finally{if(a)throw a.error}}}return{rowOffset:f,resultString:o}},e.prototype.getBarcodeFormat=function(){return le.EAN_13},e.determineFirstDigit=function(n,r){for(var o=0;o<10;o++)if(r===this.FIRST_DIGIT_ENCODINGS[o])return n=String.fromCharCode("0".charCodeAt(0)+o)+n;throw new z},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(_t),tL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),tE=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nE=function(t){function e(){var n=t.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return tL(e,t),e.prototype.decodeMiddle=function(n,r,o){var i,s,a,u,l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var c=n.getSize(),f=r[1],d=0;d<4&&f<c;d++){var p=_t.decodeDigit(n,l,f,_t.L_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+p);try{for(var m=(i=void 0,tE(l)),y=m.next();!y.done;y=m.next())f+=y.value}catch(g){i={error:g}}finally{try{y&&!y.done&&(s=m.return)&&s.call(m)}finally{if(i)throw i.error}}}for(f=_t.findGuardPattern(n,f,!0,_t.MIDDLE_PATTERN,new Int32Array(_t.MIDDLE_PATTERN.length).fill(0))[1],d=0;d<4&&f<c;d++){p=_t.decodeDigit(n,l,f,_t.L_PATTERNS),o+=String.fromCharCode("0".charCodeAt(0)+p);try{for(var _=(a=void 0,tE(l)),v=_.next();!v.done;v=_.next())f+=v.value}catch(g){a={error:g}}finally{try{v&&!v.done&&(u=_.return)&&u.call(_)}finally{if(a)throw a.error}}}return{rowOffset:f,resultString:o}},e.prototype.getBarcodeFormat=function(){return le.EAN_8},e}(_t),nL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),rL=function(t){function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.ean13Reader=new W2,n}return nL(e,t),e.prototype.getBarcodeFormat=function(){return le.UPC_A},e.prototype.decode=function(n,r){return this.maybeReturnResult(this.ean13Reader.decode(n))},e.prototype.decodeRow=function(n,r,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,r,o))},e.prototype.decodeMiddle=function(n,r,o){return this.ean13Reader.decodeMiddle(n,r,o)},e.prototype.maybeReturnResult=function(n){var r=n.getText();if(r.charAt(0)==="0"){var o=new bn(r.substring(1),null,null,n.getResultPoints(),le.UPC_A);return n.getResultMetadata()!=null&&o.putAllMetadata(n.getResultMetadata()),o}throw new z},e.prototype.reset=function(){this.ean13Reader.reset()},e}(_t),oL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),iL=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rE=function(t){function e(){var n=t.call(this)||this;return n.decodeMiddleCounters=new Int32Array(4),n}return oL(e,t),e.prototype.decodeMiddle=function(n,r,o){var i,s,a=this.decodeMiddleCounters.map(function(y){return y});a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var u=n.getSize(),l=r[1],c=0,f=0;f<6&&l<u;f++){var d=e.decodeDigit(n,a,l,e.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+d%10);try{for(var p=(i=void 0,iL(a)),m=p.next();!m.done;m=p.next())l+=m.value}catch(y){i={error:y}}finally{try{m&&!m.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}d>=10&&(c|=1<<5-f)}return e.determineNumSysAndCheckDigit(new je(o),c),l},e.prototype.decodeEnd=function(n,r){return e.findGuardPatternWithoutCounters(n,r,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(n){return _t.checkChecksum(e.convertUPCEtoUPCA(n))},e.determineNumSysAndCheckDigit=function(n,r){for(var o=0;o<=1;o++)for(var i=0;i<10;i++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][i])return n.insert(0,"0"+o),void n.append("0"+i);throw z.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return le.UPC_E},e.convertUPCEtoUPCA=function(n){var r=n.slice(1,7).split("").map(function(s){return s.charCodeAt(0)}),o=new je;o.append(n.charAt(0));var i=r[5];switch(i){case 0:case 1:case 2:o.appendChars(r,0,2),o.append(i),o.append("0000"),o.appendChars(r,2,3);break;case 3:o.appendChars(r,0,3),o.append("00000"),o.appendChars(r,3,2);break;case 4:o.appendChars(r,0,4),o.append("00000"),o.append(r[4]);break;default:o.appendChars(r,0,5),o.append("0000"),o.append(i)}return n.length>=8&&o.append(n.charAt(7)),o.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(_t),sL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),oE=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Z1=function(t){function e(n){var r=t.call(this)||this,o=n==null?null:n.get(Ke.POSSIBLE_FORMATS),i=[];return o!=null&&(o.indexOf(le.EAN_13)>-1?i.push(new W2):o.indexOf(le.UPC_A)>-1&&i.push(new rL),o.indexOf(le.EAN_8)>-1&&i.push(new nE),o.indexOf(le.UPC_E)>-1&&i.push(new rE)),i.length===0&&(i.push(new W2),i.push(new nE),i.push(new rE)),r.readers=i,r}return sL(e,t),e.prototype.decodeRow=function(n,r,o){var i,s;try{for(var a=oE(this.readers),u=a.next();!u.done;u=a.next()){var l=u.value;try{var c=l.decodeRow(n,r,o),f=c.getBarcodeFormat()===le.EAN_13&&c.getText().charAt(0)==="0",d=o==null?null:o.get(Ke.POSSIBLE_FORMATS),p=d==null||d.includes(le.UPC_A);if(f&&p){var m=c.getRawBytes(),y=new bn(c.getText().substring(1),m,m.length,c.getResultPoints(),le.UPC_A);return y.putAllMetadata(c.getResultMetadata()),y}return c}catch{}}}catch(_){i={error:_}}finally{try{u&&!u.done&&(s=a.return)&&s.call(a)}finally{if(i)throw i.error}}throw new z},e.prototype.reset=function(){var n,r;try{for(var o=oE(this.readers),i=o.next();!i.done;i=o.next())i.value.reset()}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e}(Ut),aL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),uL=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Li=function(t){function e(){var n=t.call(this)||this;return n.decodeFinderCounters=new Int32Array(4),n.dataCharacterCounters=new Int32Array(8),n.oddRoundingErrors=new Array(4),n.evenRoundingErrors=new Array(4),n.oddCounts=new Array(n.dataCharacterCounters.length/2),n.evenCounts=new Array(n.dataCharacterCounters.length/2),n}return aL(e,t),e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(n,r){for(var o=0;o<r.length;o++)if(Ut.patternMatchVariance(n,r[o],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return o;throw new z},e.count=function(n){return be.sum(new Int32Array(n))},e.increment=function(n,r){for(var o=0,i=r[0],s=1;s<n.length;s++)r[s]>i&&(i=r[s],o=s);n[o]++},e.decrement=function(n,r){for(var o=0,i=r[0],s=1;s<n.length;s++)r[s]<i&&(i=r[s],o=s);n[o]--},e.isFinderPattern=function(n){var r,o,i=n[0]+n[1],s=i/(i+n[2]+n[3]);if(s>=e.MIN_FINDER_PATTERN_RATIO&&s<=e.MAX_FINDER_PATTERN_RATIO){var a=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;try{for(var l=uL(n),c=l.next();!c.done;c=l.next()){var f=c.value;f>u&&(u=f),f<a&&(a=f)}}catch(d){r={error:d}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}return u<10*a}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(Ut),Df=function(){function t(e,n){this.value=e,this.checksumPortion=n}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value&&this.checksumPortion===n.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t}(),gA=function(){function t(e,n,r,o,i){this.value=e,this.startEnd=n,this.value=e,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new ae(r,i)),this.resultPoints.push(new ae(o,i))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value},t.prototype.hashCode=function(){return this.value},t}(),lL=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Hs=function(){function t(){}return t.getRSSvalue=function(e,n,r){var o,i,s=0;try{for(var a=lL(e),u=a.next();!u.done;u=a.next())s+=u.value}catch(v){o={error:v}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}for(var l=0,c=0,f=e.length,d=0;d<f-1;d++){var p=void 0;for(p=1,c|=1<<d;p<e[d];p++,c&=~(1<<d)){var m=t.combins(s-p-1,f-d-2);if(r&&c===0&&s-p-(f-d-1)>=f-d-1&&(m-=t.combins(s-p-(f-d),f-d-2)),f-d-1>1){for(var y=0,_=s-p-(f-d-2);_>n;_--)y+=t.combins(s-p-_-1,f-d-3);m-=y*(f-1-d)}else s-p>n&&m--;l+=m}s-=p}return l},t.combins=function(e,n){var r,o;e-n>n?(o=n,r=e-n):(o=e-n,r=n);for(var i=1,s=1,a=e;a>r;a--)i*=a,s<=o&&(i/=s,s++);for(;s<=o;)i/=s,s++;return i},t}(),cL=function(){function t(){}return t.buildBitArray=function(e){var n=2*e.length-1;e[e.length-1].getRightChar()==null&&(n-=1);for(var r=new Cr(12*n),o=0,i=e[0].getRightChar().getValue(),s=11;s>=0;--s)i&1<<s&&r.set(o),o++;for(s=1;s<e.length;++s){for(var a=e[s],u=a.getLeftChar().getValue(),l=11;l>=0;--l)u&1<<l&&r.set(o),o++;if(a.getRightChar()!=null){var c=a.getRightChar().getValue();for(l=11;l>=0;--l)c&1<<l&&r.set(o),o++}}return r},t}(),Pi=function(){function t(e,n){n?this.decodedInformation=null:(this.finished=e,this.decodedInformation=n)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t}(),yy=function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t}(),fL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ir=function(t){function e(n,r){var o=t.call(this,n)||this;return o.value=r,o}return fL(e,t),e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(yy),dL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Di=function(t){function e(n,r,o){var i=t.call(this,n)||this;return o?(i.remaining=!0,i.remainingValue=i.remainingValue):(i.remaining=!1,i.remainingValue=0),i.newString=r,i}return dL(e,t),e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(yy),hL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yc=function(t){function e(n,r,o){var i=t.call(this,n)||this;if(r<0||r>10||o<0||o>10)throw new J;return i.firstDigit=r,i.secondDigit=o,i}return hL(e,t),e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return 10*this.firstDigit+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(yy),Qc=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pL=function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var n,r,o,i,s,a,u,l;if(!e)return null;if(e.length<2)throw new z;var c=e.substring(0,2);try{for(var f=Qc(t.TWO_DIGIT_DATA_LENGTH),d=f.next();!d.done;d=f.next())if((P=d.value)[0]===c)return P[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,P[2],e):t.processFixedAI(2,P[1],e)}catch(N){n={error:N}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}if(e.length<3)throw new z;var p=e.substring(0,3);try{for(var m=Qc(t.THREE_DIGIT_DATA_LENGTH),y=m.next();!y.done;y=m.next())if((P=y.value)[0]===p)return P[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,P[2],e):t.processFixedAI(3,P[1],e)}catch(N){o={error:N}}finally{try{y&&!y.done&&(i=m.return)&&i.call(m)}finally{if(o)throw o.error}}try{for(var _=Qc(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),v=_.next();!v.done;v=_.next())if((P=v.value)[0]===p)return P[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,P[2],e):t.processFixedAI(4,P[1],e)}catch(N){s={error:N}}finally{try{v&&!v.done&&(a=_.return)&&a.call(_)}finally{if(s)throw s.error}}if(e.length<4)throw new z;var g=e.substring(0,4);try{for(var E=Qc(t.FOUR_DIGIT_DATA_LENGTH),x=E.next();!x.done;x=E.next()){var P;if((P=x.value)[0]===g)return P[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,P[2],e):t.processFixedAI(4,P[1],e)}}catch(N){u={error:N}}finally{try{x&&!x.done&&(l=E.return)&&l.call(E)}finally{if(u)throw u.error}}throw new z},t.processFixedAI=function(e,n,r){if(r.length<e)throw new z;var o=r.substring(0,e);if(r.length<e+n)throw new z;var i=r.substring(e,e+n),s=r.substring(e+n),a="("+o+")"+i,u=t.parseFieldsInGeneralPurpose(s);return u==null?a:a+u},t.processVariableAI=function(e,n,r){var o,i=r.substring(0,e);o=r.length<e+n?r.length:e+n;var s=r.substring(e,o),a=r.substring(o),u="("+i+")"+s,l=t.parseFieldsInGeneralPurpose(a);return l==null?u:u+l},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t}(),T0=function(){function t(e){this.buffer=new je,this.information=e}return t.prototype.decodeAllCodes=function(e,n){for(var r=n,o=null;;){var i=this.decodeGeneralPurposeField(r,o),s=pL.parseFieldsInGeneralPurpose(i.getNewString());if(s!=null&&e.append(s),o=i.isRemaining()?""+i.getRemainingValue():null,r===i.getNewPosition())break;r=i.getNewPosition()}return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var n=e;n<e+3;++n)if(this.information.get(n))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var n=this.extractNumericValueFromBitArray(e,4);return new Yc(this.information.getSize(),n===0?Yc.FNC1:n-1,Yc.FNC1)}var r=this.extractNumericValueFromBitArray(e,7);return new Yc(e+7,(r-8)/11,(r-8)%11)},t.prototype.extractNumericValueFromBitArray=function(e,n){return t.extractNumericValueFromBitArray(this.information,e,n)},t.extractNumericValueFromBitArray=function(e,n,r){for(var o=0,i=0;i<r;++i)e.get(n+i)&&(o|=1<<r-i-1);return o},t.prototype.decodeGeneralPurposeField=function(e,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(e);var r=this.parseBlocks();return r!=null&&r.isRemaining()?new Di(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new Di(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,n;do{var r=this.current.getPosition();if(e=this.current.isAlpha()?(n=this.parseAlphaBlock()).isFinished():this.current.isIsoIec646()?(n=this.parseIsoIec646Block()).isFinished():(n=this.parseNumericBlock()).isFinished(),r===this.current.getPosition()&&!e)break}while(!e);return n.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var n=void 0;return n=e.isSecondDigitFNC1()?new Di(this.current.getPosition(),this.buffer.toString()):new Di(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Pi(!0,n)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1())return n=new Di(this.current.getPosition(),this.buffer.toString()),new Pi(!0,n);this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Pi(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var n=new Di(this.current.getPosition(),this.buffer.toString());return new Pi(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Pi(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var n=new Di(this.current.getPosition(),this.buffer.toString());return new Pi(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Pi(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+7>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;var o=this.extractNumericValueFromBitArray(e,8);return o>=232&&o<253},t.prototype.decodeIsoIec646=function(e){var n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new ir(e+5,ir.FNC1);if(n>=5&&n<15)return new ir(e+5,"0"+(n-5));var r,o=this.extractNumericValueFromBitArray(e,7);if(o>=64&&o<90)return new ir(e+7,""+(o+1));if(o>=90&&o<116)return new ir(e+7,""+(o+7));switch(this.extractNumericValueFromBitArray(e,8)){case 232:r="!";break;case 233:r='"';break;case 234:r="%";break;case 235:r="&";break;case 236:r="'";break;case 237:r="(";break;case 238:r=")";break;case 239:r="*";break;case 240:r="+";break;case 241:r=",";break;case 242:r="-";break;case 243:r=".";break;case 244:r="/";break;case 245:r=":";break;case 246:r=";";break;case 247:r="<";break;case 248:r="=";break;case 249:r=">";break;case 250:r="?";break;case 251:r="_";break;case 252:r=" ";break;default:throw new J}return new ir(e+8,r)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+6>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63},t.prototype.decodeAlphanumeric=function(e){var n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new ir(e+5,ir.FNC1);if(n>=5&&n<15)return new ir(e+5,"0"+(n-5));var r,o=this.extractNumericValueFromBitArray(e,6);if(o>=32&&o<58)return new ir(e+6,""+(o+33));switch(o){case 58:r="*";break;case 59:r=",";break;case 60:r="-";break;case 61:r=".";break;case 62:r="/";break;default:throw new oc("Decoding invalid alphanumeric value: "+o)}return new ir(e+6,r)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var n=0;n<5&&n+e<this.information.getSize();++n)if(n===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+n))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var n=e;n<e+3;++n)if(this.information.get(n))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var n=0;n<4&&n+e<this.information.getSize();++n)if(this.information.get(e+n))return!1;return!0},t}(),yA=function(){function t(e){this.information=e,this.generalDecoder=new T0(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t}(),mL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),cr=function(t){function e(n){return t.call(this,n)||this}return mL(e,t),e.prototype.encodeCompressedGtin=function(n,r){n.append("(01)");var o=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,r,o)},e.prototype.encodeCompressedGtinWithoutAI=function(n,r,o){for(var i=0;i<4;++i){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*i,10);s/100==0&&n.append("0"),s/10==0&&n.append("0"),n.append(s)}e.appendCheckDigit(n,o)},e.appendCheckDigit=function(n,r){for(var o=0,i=0;i<13;i++){var s=n.charAt(i+r).charCodeAt(0)-"0".charCodeAt(0);o+=1&i?s:3*s}(o=10-o%10)===10&&(o=0),n.append(o)},e.GTIN_SIZE=40,e}(yA),gL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),yL=function(t){function e(n){return t.call(this,n)||this}return gL(e,t),e.prototype.parseInformation=function(){var n=new je;n.append("(01)");var r=n.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return n.append(o),this.encodeCompressedGtinWithoutAI(n,e.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(n,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(cr),vL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),_L=function(t){function e(n){return t.call(this,n)||this}return vL(e,t),e.prototype.parseInformation=function(){var n=new je;return this.getGeneralDecoder().decodeAllCodes(n,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(yA),wL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),S0=function(t){function e(n){return t.call(this,n)||this}return wL(e,t),e.prototype.encodeCompressedWeight=function(n,r,o){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,o);this.addWeightCode(n,i);for(var s=this.checkWeight(i),a=1e5,u=0;u<5;++u)s/a==0&&n.append("0"),a/=10;n.append(s)},e}(cr),EL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),vA=function(t){function e(n){return t.call(this,n)||this}return EL(e,t),e.prototype.parseInformation=function(){if(this.getInformation().getSize()!=e.HEADER_SIZE+S0.GTIN_SIZE+e.WEIGHT_SIZE)throw new z;var n=new je;return this.encodeCompressedGtin(n,e.HEADER_SIZE),this.encodeCompressedWeight(n,e.HEADER_SIZE+S0.GTIN_SIZE,e.WEIGHT_SIZE),n.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(S0),xL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),CL=function(t){function e(n){return t.call(this,n)||this}return xL(e,t),e.prototype.addWeightCode=function(n,r){n.append("(3103)")},e.prototype.checkWeight=function(n){return n},e}(vA),AL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),IL=function(t){function e(n){return t.call(this,n)||this}return AL(e,t),e.prototype.addWeightCode=function(n,r){r<1e4?n.append("(3202)"):n.append("(3203)")},e.prototype.checkWeight=function(n){return n<1e4?n:n-1e4},e}(vA),TL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),SL=function(t){function e(n){return t.call(this,n)||this}return TL(e,t),e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+cr.GTIN_SIZE)throw new z;var n=new je;this.encodeCompressedGtin(n,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+cr.GTIN_SIZE,e.LAST_DIGIT_SIZE);n.append("(392"),n.append(r),n.append(")");var o=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+cr.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return n.append(o.getNewString()),n.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(cr),bL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),RL=function(t){function e(n){return t.call(this,n)||this}return bL(e,t),e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+cr.GTIN_SIZE)throw new z;var n=new je;this.encodeCompressedGtin(n,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+cr.GTIN_SIZE,e.LAST_DIGIT_SIZE);n.append("(393"),n.append(r),n.append(")");var o=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+cr.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);o/100==0&&n.append("0"),o/10==0&&n.append("0"),n.append(o);var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+cr.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return n.append(i.getNewString()),n.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(cr),PL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Eo=function(t){function e(n,r,o){var i=t.call(this,n)||this;return i.dateCode=o,i.firstAIdigits=r,i}return PL(e,t),e.prototype.parseInformation=function(){if(this.getInformation().getSize()!=e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new z;var n=new je;return this.encodeCompressedGtin(n,e.HEADER_SIZE),this.encodeCompressedWeight(n,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(n,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),n.toString()},e.prototype.encodeCompressedDate=function(n,r){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,e.DATE_SIZE);if(o!=38400){n.append("("),n.append(this.dateCode),n.append(")");var i=o%32,s=(o/=32)%12+1,a=o/=12;a/10==0&&n.append("0"),n.append(a),s/10==0&&n.append("0"),n.append(s),i/10==0&&n.append("0"),n.append(i)}},e.prototype.addWeightCode=function(n,r){n.append("("),n.append(this.firstAIdigits),n.append(r/1e5),n.append(")")},e.prototype.checkWeight=function(n){return n%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(S0),iE=function(){function t(e,n,r,o){this.leftchar=e,this.rightchar=n,this.finderpattern=r,this.maybeLast=o}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,n){return e instanceof t&&t.equalsOrNull(e.leftchar,n.leftchar)&&t.equalsOrNull(e.rightchar,n.rightchar)&&t.equalsOrNull(e.finderpattern,n.finderpattern)},t.equalsOrNull=function(e,n){return e===null?n===null:t.equals(e,n)},t.prototype.hashCode=function(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()},t}(),DL=function(){function t(e,n,r){this.pairs=e,this.rowNumber=n,this.wasReversed=r}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,n){return e instanceof t&&this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed},t.prototype.checkEqualitity=function(e,n){var r;if(e&&n)return e.forEach(function(o,i){n.forEach(function(s){o.getLeftChar().getValue()===s.getLeftChar().getValue()&&o.getRightChar().getValue()===s.getRightChar().getValue()&&o.getFinderPatter().getValue()===s.getFinderPatter().getValue()&&(r=!0)})}),r},t}(),NL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),xo=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},OL=function(t){function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.pairs=new Array(e.MAX_PAIRS),n.rows=new Array,n.startEnd=[2],n}return NL(e,t),e.prototype.decodeRow=function(n,r,o){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(n,r))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(n,r))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(n,r){for(var o,i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,n))}catch(a){if(a instanceof z){if(!this.pairs.length)throw new z;i=!0}}if(this.checkChecksum())return this.pairs;if(o=!!this.rows.length,this.storeRow(n,!1),o){var s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0))!=null)return s}throw new z},e.prototype.checkRowsBoolean=function(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());var r=null;try{r=this.checkRows(new Array,0)}catch(o){console.log(o)}return n&&(this.rows=this.rows.reverse()),r},e.prototype.checkRows=function(n,r){for(var o,i,s=r;s<this.rows.length;s++){var a=this.rows[s];this.pairs.length=0;try{for(var u=(o=void 0,xo(n)),l=u.next();!l.done;l=u.next()){var c=l.value;this.pairs.push(c.getPairs())}}catch(d){o={error:d}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}if(this.pairs.push(a.getPairs()),e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var f=new Array(n);f.push(a);try{return this.checkRows(f,s+1)}catch(d){console.log(d)}}}throw new z},e.isValidSequence=function(n){var r,o;try{for(var i=xo(e.FINDER_PATTERN_SEQUENCES),s=i.next();!s.done;s=i.next()){var a=s.value;if(!(n.length>a.length)){for(var u=!0,l=0;l<n.length;l++)if(n[l].getFinderPattern().getValue()!=a[l]){u=!1;break}if(u)return!0}}}catch(c){r={error:c}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return!1},e.prototype.storeRow=function(n,r){for(var o=0,i=!1,s=!1;o<this.rows.length;){var a=this.rows[o];if(a.getRowNumber()>n){s=a.isEquivalent(this.pairs);break}i=a.isEquivalent(this.pairs),o++}s||i||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new DL(this.pairs,n,r)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(n,r){var o,i,s,a,u,l;try{for(var c=xo(r),f=c.next();!f.done;f=c.next()){var d=f.value;if(d.getPairs().length!==n.length)try{for(var p=(s=void 0,xo(d.getPairs())),m=p.next();!m.done;m=p.next()){var y=m.value,_=!1;try{for(var v=(u=void 0,xo(n)),g=v.next();!g.done;g=v.next()){var E=g.value;if(iE.equals(y,E)){_=!0;break}}}catch(x){u={error:x}}finally{try{g&&!g.done&&(l=v.return)&&l.call(v)}finally{if(u)throw u.error}}}}catch(x){s={error:x}}finally{try{m&&!m.done&&(a=p.return)&&a.call(p)}finally{if(s)throw s.error}}}}catch(x){o={error:x}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(o)throw o.error}}},e.isPartialRow=function(n,r){var o,i,s,a,u,l;try{for(var c=xo(r),f=c.next();!f.done;f=c.next()){var d=f.value,p=!0;try{for(var m=(s=void 0,xo(n)),y=m.next();!y.done;y=m.next()){var _=y.value,v=!1;try{for(var g=(u=void 0,xo(d.getPairs())),E=g.next();!E.done;E=g.next()){var x=E.value;if(_.equals(x)){v=!0;break}}}catch(P){u={error:P}}finally{try{E&&!E.done&&(l=g.return)&&l.call(g)}finally{if(u)throw u.error}}if(!v){p=!1;break}}}catch(P){s={error:P}}finally{try{y&&!y.done&&(a=m.return)&&a.call(m)}finally{if(s)throw s.error}}if(p)return!0}}catch(P){o={error:P}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(o)throw o.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(n){var r=function(a){try{if(a.get(1))return new yL(a);if(!a.get(2))return new _L(a);switch(T0.extractNumericValueFromBitArray(a,1,4)){case 4:return new CL(a);case 5:return new IL(a)}switch(T0.extractNumericValueFromBitArray(a,1,5)){case 12:return new SL(a);case 13:return new RL(a)}switch(T0.extractNumericValueFromBitArray(a,1,7)){case 56:return new Eo(a,"310","11");case 57:return new Eo(a,"320","11");case 58:return new Eo(a,"310","13");case 59:return new Eo(a,"320","13");case 60:return new Eo(a,"310","15");case 61:return new Eo(a,"320","15");case 62:return new Eo(a,"310","17");case 63:return new Eo(a,"320","17")}}catch(u){throw console.log(u),new oc("unknown decoder: "+a)}}(cL.buildBitArray(n)).parseInformation(),o=n[0].getFinderPattern().getResultPoints(),i=n[n.length-1].getFinderPattern().getResultPoints(),s=[o[0],o[1],i[0],i[1]];return new bn(r,null,null,s,le.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var n=this.pairs.get(0),r=n.getLeftChar(),o=n.getRightChar();if(o==null)return!1;for(var i=o.getChecksumPortion(),s=2,a=1;a<this.pairs.size();++a){var u=this.pairs.get(a);i+=u.getLeftChar().getChecksumPortion(),s++;var l=u.getRightChar();l!=null&&(i+=l.getChecksumPortion(),s++)}return 211*(s-4)+(i%=211)==r.getValue()},e.getNextSecondBar=function(n,r){var o;return n.get(r)?(o=n.getNextUnset(r),o=n.getNextSet(o)):(o=n.getNextSet(r),o=n.getNextUnset(o)),o},e.prototype.retrieveNextPair=function(n,r,o){var i,s=r.length%2==0;this.startFromEven&&(s=!s);var a=!0,u=-1;do this.findNextPair(n,r,u),(i=this.parseFoundFinderPattern(n,o,s))==null?u=e.getNextSecondBar(n,this.startEnd[0]):a=!1;while(a);var l,c=this.decodeDataCharacter(n,i,s,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new z;try{l=this.decodeDataCharacter(n,i,s,!1)}catch(f){l=null,console.log(f)}return new iE(c,l,i,!0)},e.prototype.isEmptyPair=function(n){return n.length===0},e.prototype.findNextPair=function(n,r,o){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;var s,a=n.getSize();o>=0?s=o:this.isEmptyPair(r)?s=0:s=r[r.length-1].getFinderPattern().getStartEnd()[1];var u=r.length%2!=0;this.startFromEven&&(u=!u);for(var l=!1;s<a&&(l=!n.get(s));)s++;for(var c=0,f=s,d=s;d<a;d++)if(n.get(d)!=l)i[c]++;else{if(c==3){if(u&&e.reverseCounters(i),e.isFinderPattern(i))return this.startEnd[0]=f,void(this.startEnd[1]=d);u&&e.reverseCounters(i),f+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,c--}else c++;i[c]=1,l=!l}throw new z},e.reverseCounters=function(n){for(var r=n.length,o=0;o<r/2;++o){var i=n[o];n[o]=n[r-o-1],n[r-o-1]=i}},e.prototype.parseFoundFinderPattern=function(n,r,o){var i,s,a;if(o){for(var u=this.startEnd[0]-1;u>=0&&!n.get(u);)u--;u++,i=this.startEnd[0]-u,s=u,a=this.startEnd[1]}else s=this.startEnd[0],i=(a=n.getNextUnset(this.startEnd[1]+1))-this.startEnd[1];var l,c=this.getDecodeFinderCounters();Je.arraycopy(c,0,c,1,c.length-1),c[0]=i;try{l=this.parseFinderValue(c,e.FINDER_PATTERNS)}catch{return null}return new gA(l,[s,a],s,a,r)},e.prototype.decodeDataCharacter=function(n,r,o,i){for(var s=this.getDataCharacterCounters(),a=0;a<s.length;a++)s[a]=0;if(i)e.recordPatternInReverse(n,r.getStartEnd()[0],s);else{e.recordPattern(n,r.getStartEnd()[1],s);for(var u=0,l=s.length-1;u<l;u++,l--){var c=s[u];s[u]=s[l],s[l]=c}}var f=be.sum(new Int32Array(s))/17,d=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(f-d)/d>.3)throw new z;var p=this.getOddCounts(),m=this.getEvenCounts(),y=this.getOddRoundingErrors(),_=this.getEvenRoundingErrors();for(u=0;u<s.length;u++){var v=1*s[u]/f,g=v+.5;if(g<1){if(v<.3)throw new z;g=1}else if(g>8){if(v>8.7)throw new z;g=8}var E=u/2;1&u?(m[E]=g,_[E]=v-g):(p[E]=g,y[E]=v-g)}this.adjustOddEvenCounts(17);var x=4*r.getValue()+(o?0:2)+(i?0:1)-1,P=0,N=0;for(u=p.length-1;u>=0;u--){if(e.isNotA1left(r,o,i)){var I=e.WEIGHTS[x][2*u];N+=p[u]*I}P+=p[u]}var C=0;for(u=m.length-1;u>=0;u--)e.isNotA1left(r,o,i)&&(I=e.WEIGHTS[x][2*u+1],C+=m[u]*I);var D=N+C;if(1&P||P>13||P<4)throw new z;var T=(13-P)/2,R=e.SYMBOL_WIDEST[T],k=9-R,b=Hs.getRSSvalue(p,R,!0),U=Hs.getRSSvalue(m,k,!1),K=e.EVEN_TOTAL_SUBSET[T],te=e.GSUM[T];return new Df(b*K+U+te,D)},e.isNotA1left=function(n,r,o){return!(n.getValue()==0&&r&&o)},e.prototype.adjustOddEvenCounts=function(n){var r=be.sum(new Int32Array(this.getOddCounts())),o=be.sum(new Int32Array(this.getEvenCounts())),i=!1,s=!1;r>13?s=!0:r<4&&(i=!0);var a=!1,u=!1;o>13?u=!0:o<4&&(a=!0);var l=r+o-n,c=(1&r)==1,f=(1&o)==0;if(l==1)if(c){if(f)throw new z;s=!0}else{if(!f)throw new z;u=!0}else if(l==-1)if(c){if(f)throw new z;i=!0}else{if(!f)throw new z;a=!0}else{if(l!=0)throw new z;if(c){if(!f)throw new z;r<o?(i=!0,u=!0):(s=!0,a=!0)}else if(f)throw new z}if(i){if(s)throw new z;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(u)throw new z;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(Li),kL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),BL=function(t){function e(n,r,o){var i=t.call(this,n,r)||this;return i.count=0,i.finderPattern=o,i}return kL(e,t),e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(Df),ML=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),J1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sE=function(t){function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.possibleLeftPairs=[],n.possibleRightPairs=[],n}return ML(e,t),e.prototype.decodeRow=function(n,r,o){var i,s,a,u,l=this.decodePair(r,!1,n,o);e.addOrTally(this.possibleLeftPairs,l),r.reverse();var c=this.decodePair(r,!0,n,o);e.addOrTally(this.possibleRightPairs,c),r.reverse();try{for(var f=J1(this.possibleLeftPairs),d=f.next();!d.done;d=f.next()){var p=d.value;if(p.getCount()>1)try{for(var m=(a=void 0,J1(this.possibleRightPairs)),y=m.next();!y.done;y=m.next()){var _=y.value;if(_.getCount()>1&&e.checkChecksum(p,_))return e.constructResult(p,_)}}catch(v){a={error:v}}finally{try{y&&!y.done&&(u=m.return)&&u.call(m)}finally{if(a)throw a.error}}}}catch(v){i={error:v}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}throw new z},e.addOrTally=function(n,r){var o,i;if(r!=null){var s=!1;try{for(var a=J1(n),u=a.next();!u.done;u=a.next()){var l=u.value;if(l.getValue()===r.getValue()){l.incrementCount(),s=!0;break}}}catch(c){o={error:c}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}s||n.push(r)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(n,r){for(var o=4537077*n.getValue()+r.getValue(),i=new String(o).toString(),s=new je,a=13-i.length;a>0;a--)s.append("0");s.append(i);var u=0;for(a=0;a<13;a++){var l=s.charAt(a).charCodeAt(0)-"0".charCodeAt(0);u+=1&a?l:3*l}(u=10-u%10)===10&&(u=0),s.append(u.toString());var c=n.getFinderPattern().getResultPoints(),f=r.getFinderPattern().getResultPoints();return new bn(s.toString(),null,0,[c[0],c[1],f[0],f[1]],le.RSS_14,new Date().getTime())},e.checkChecksum=function(n,r){var o=(n.getChecksumPortion()+16*r.getChecksumPortion())%79,i=9*n.getFinderPattern().getValue()+r.getFinderPattern().getValue();return i>72&&i--,i>8&&i--,o===i},e.prototype.decodePair=function(n,r,o,i){try{var s=this.findFinderPattern(n,r),a=this.parseFoundFinderPattern(n,o,r,s),u=i==null?null:i.get(Ke.NEED_RESULT_POINT_CALLBACK);if(u!=null){var l=(s[0]+s[1])/2;r&&(l=n.getSize()-1-l),u.foundPossibleResultPoint(new ae(l,o))}var c=this.decodeDataCharacter(n,a,!0),f=this.decodeDataCharacter(n,a,!1);return new BL(1597*c.getValue()+f.getValue(),c.getChecksumPortion()+4*f.getChecksumPortion(),a)}catch{return null}},e.prototype.decodeDataCharacter=function(n,r,o){for(var i=this.getDataCharacterCounters(),s=0;s<i.length;s++)i[s]=0;if(o)Ut.recordPatternInReverse(n,r.getStartEnd()[0],i);else{Ut.recordPattern(n,r.getStartEnd()[1]+1,i);for(var a=0,u=i.length-1;a<u;a++,u--){var l=i[a];i[a]=i[u],i[u]=l}}var c=o?16:15,f=be.sum(new Int32Array(i))/c,d=this.getOddCounts(),p=this.getEvenCounts(),m=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors();for(a=0;a<i.length;a++){var _=i[a]/f,v=Math.floor(_+.5);v<1?v=1:v>8&&(v=8);var g=Math.floor(a/2);1&a?(p[g]=v,y[g]=_-v):(d[g]=v,m[g]=_-v)}this.adjustOddEvenCounts(o,c);var E=0,x=0;for(a=d.length-1;a>=0;a--)x*=9,x+=d[a],E+=d[a];var P=0,N=0;for(a=p.length-1;a>=0;a--)P*=9,P+=p[a],N+=p[a];var I=x+3*P;if(o){if(1&E||E>12||E<4)throw new z;var C=(12-E)/2,D=9-(U=e.OUTSIDE_ODD_WIDEST[C]),T=Hs.getRSSvalue(d,U,!1),R=Hs.getRSSvalue(p,D,!0),k=e.OUTSIDE_EVEN_TOTAL_SUBSET[C],b=e.OUTSIDE_GSUM[C];return new Df(T*k+R+b,I)}if(1&N||N>10||N<4)throw new z;C=(10-N)/2,D=9-(U=e.INSIDE_ODD_WIDEST[C]),T=Hs.getRSSvalue(d,U,!0),R=Hs.getRSSvalue(p,D,!1);var U,K=e.INSIDE_ODD_TOTAL_SUBSET[C];return b=e.INSIDE_GSUM[C],new Df(R*K+T+b,I)},e.prototype.findFinderPattern=function(n,r){var o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var i=n.getSize(),s=!1,a=0;a<i&&r!==(s=!n.get(a));)a++;for(var u=0,l=a,c=a;c<i;c++)if(n.get(c)!==s)o[u]++;else{if(u===3){if(Li.isFinderPattern(o))return[l,c];l+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,u--}else u++;o[u]=1,s=!s}throw new z},e.prototype.parseFoundFinderPattern=function(n,r,o,i){for(var s=n.get(i[0]),a=i[0]-1;a>=0&&s!==n.get(a);)a--;a++;var u=i[0]-a,l=this.getDecodeFinderCounters(),c=new Int32Array(l.length);Je.arraycopy(l,0,c,1,l.length-1),c[0]=u;var f=this.parseFinderValue(c,e.FINDER_PATTERNS),d=a,p=i[1];return o&&(d=n.getSize()-1-d,p=n.getSize()-1-p),new gA(f,[a,i[1]],d,p,r)},e.prototype.adjustOddEvenCounts=function(n,r){var o=be.sum(new Int32Array(this.getOddCounts())),i=be.sum(new Int32Array(this.getEvenCounts())),s=!1,a=!1,u=!1,l=!1;n?(o>12?a=!0:o<4&&(s=!0),i>12?l=!0:i<4&&(u=!0)):(o>11?a=!0:o<5&&(s=!0),i>10?l=!0:i<4&&(u=!0));var c=o+i-r,f=(1&o)==(n?1:0),d=(1&i)==1;if(c===1)if(f){if(d)throw new z;a=!0}else{if(!d)throw new z;l=!0}else if(c===-1)if(f){if(d)throw new z;s=!0}else{if(!d)throw new z;u=!0}else{if(c!==0)throw new z;if(f){if(!d)throw new z;o<i?(s=!0,l=!0):(a=!0,u=!0)}else if(d)throw new z}if(s){if(a)throw new z;Li.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&Li.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(l)throw new z;Li.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&Li.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(Li),FL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),zs=function(t){function e(n){var r=t.call(this)||this;r.readers=[];var o=n?n.get(Ke.POSSIBLE_FORMATS):null,i=n&&n.get(Ke.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;return o&&((o.includes(le.EAN_13)||o.includes(le.UPC_A)||o.includes(le.EAN_8)||o.includes(le.UPC_E))&&r.readers.push(new Z1(n)),o.includes(le.CODE_39)&&r.readers.push(new Z4(i)),o.includes(le.CODE_128)&&r.readers.push(new Q4),o.includes(le.ITF)&&r.readers.push(new J4),o.includes(le.RSS_14)&&r.readers.push(new sE),o.includes(le.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),r.readers.push(new OL))),r.readers.length===0&&(r.readers.push(new Z1(n)),r.readers.push(new Z4),r.readers.push(new Z1(n)),r.readers.push(new Q4),r.readers.push(new J4),r.readers.push(new sE)),r}return FL(e,t),e.prototype.decodeRow=function(n,r,o){for(var i=0;i<this.readers.length;i++)try{return this.readers[i].decodeRow(n,r,o)}catch{}throw new z},e.prototype.reset=function(){this.readers.forEach(function(n){return n.reset()})},e}(Ut),LL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){function e(n,r){return n===void 0&&(n=500),t.call(this,new zs(r),n,r)||this}LL(e,t)})($a);var yt,aE=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ne=function(){function t(e,n,r){this.ecCodewords=e,this.ecBlocks=[n],r&&this.ecBlocks.push(r)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),De=function(){function t(e,n){this.count=e,this.dataCodewords=n}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),VL=function(){function t(e,n,r,o,i,s){var a,u;this.versionNumber=e,this.symbolSizeRows=n,this.symbolSizeColumns=r,this.dataRegionSizeRows=o,this.dataRegionSizeColumns=i,this.ecBlocks=s;var l=0,c=s.getECCodewords(),f=s.getECBlocks();try{for(var d=aE(f),p=d.next();!p.done;p=d.next()){var m=p.value;l+=m.getCount()*(m.getDataCodewords()+c)}}catch(y){a={error:y}}finally{try{p&&!p.done&&(u=d.return)&&u.call(d)}finally{if(a)throw a.error}}this.totalCodewords=l}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,n){var r,o;if(1&e||1&n)throw new J;try{for(var i=aE(t.VERSIONS),s=i.next();!s.done;s=i.next()){var a=s.value;if(a.symbolSizeRows===e&&a.symbolSizeColumns===n)return a}}catch(u){r={error:u}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}throw new J},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new Ne(5,new De(1,3))),new t(2,12,12,10,10,new Ne(7,new De(1,5))),new t(3,14,14,12,12,new Ne(10,new De(1,8))),new t(4,16,16,14,14,new Ne(12,new De(1,12))),new t(5,18,18,16,16,new Ne(14,new De(1,18))),new t(6,20,20,18,18,new Ne(18,new De(1,22))),new t(7,22,22,20,20,new Ne(20,new De(1,30))),new t(8,24,24,22,22,new Ne(24,new De(1,36))),new t(9,26,26,24,24,new Ne(28,new De(1,44))),new t(10,32,32,14,14,new Ne(36,new De(1,62))),new t(11,36,36,16,16,new Ne(42,new De(1,86))),new t(12,40,40,18,18,new Ne(48,new De(1,114))),new t(13,44,44,20,20,new Ne(56,new De(1,144))),new t(14,48,48,22,22,new Ne(68,new De(1,174))),new t(15,52,52,24,24,new Ne(42,new De(2,102))),new t(16,64,64,14,14,new Ne(56,new De(2,140))),new t(17,72,72,16,16,new Ne(36,new De(4,92))),new t(18,80,80,18,18,new Ne(48,new De(4,114))),new t(19,88,88,20,20,new Ne(56,new De(4,144))),new t(20,96,96,22,22,new Ne(68,new De(4,174))),new t(21,104,104,24,24,new Ne(56,new De(6,136))),new t(22,120,120,18,18,new Ne(68,new De(6,175))),new t(23,132,132,20,20,new Ne(62,new De(8,163))),new t(24,144,144,22,22,new Ne(62,new De(8,156),new De(2,155))),new t(25,8,18,6,16,new Ne(7,new De(1,5))),new t(26,8,32,6,14,new Ne(11,new De(1,10))),new t(27,12,26,10,24,new Ne(14,new De(1,16))),new t(28,12,36,10,16,new Ne(18,new De(1,22))),new t(29,16,36,14,16,new Ne(24,new De(1,32))),new t(30,16,48,14,22,new Ne(28,new De(1,49)))]},t.VERSIONS=t.buildVersions(),t}(),jL=function(){function t(e){var n=e.getHeight();if(n<8||n>144||1&n)throw new J;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new oo(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var n=e.getHeight(),r=e.getWidth();return VL.getVersionForDimensions(n,r)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),n=0,r=4,o=0,i=this.mappingBitMatrix.getHeight(),s=this.mappingBitMatrix.getWidth(),a=!1,u=!1,l=!1,c=!1;do if(r!==i||o!==0||a)if(r!==i-2||o!==0||!(3&s)||u)if(r!==i+4||o!==2||7&s||l)if(r!==i-2||o!==0||(7&s)!=4||c){do r<i&&o>=0&&!this.readMappingMatrix.get(o,r)&&(e[n++]=255&this.readUtah(r,o,i,s)),r-=2,o+=2;while(r>=0&&o<s);r+=1,o+=3;do r>=0&&o<s&&!this.readMappingMatrix.get(o,r)&&(e[n++]=255&this.readUtah(r,o,i,s)),r+=2,o-=2;while(r<i&&o>=0);r+=3,o+=1}else e[n++]=255&this.readCorner4(i,s),r-=2,o+=2,c=!0;else e[n++]=255&this.readCorner3(i,s),r-=2,o+=2,l=!0;else e[n++]=255&this.readCorner2(i,s),r-=2,o+=2,u=!0;else e[n++]=255&this.readCorner1(i,s),r-=2,o+=2,a=!0;while(r<i||o<s);if(n!==this.version.getTotalCodewords())throw new J;return e},t.prototype.readModule=function(e,n,r,o){return e<0&&(e+=r,n+=4-(r+4&7)),n<0&&(n+=o,e+=4-(o+4&7)),this.readMappingMatrix.set(n,e),this.mappingBitMatrix.get(n,e)},t.prototype.readUtah=function(e,n,r,o){var i=0;return this.readModule(e-2,n-2,r,o)&&(i|=1),i<<=1,this.readModule(e-2,n-1,r,o)&&(i|=1),i<<=1,this.readModule(e-1,n-2,r,o)&&(i|=1),i<<=1,this.readModule(e-1,n-1,r,o)&&(i|=1),i<<=1,this.readModule(e-1,n,r,o)&&(i|=1),i<<=1,this.readModule(e,n-2,r,o)&&(i|=1),i<<=1,this.readModule(e,n-1,r,o)&&(i|=1),i<<=1,this.readModule(e,n,r,o)&&(i|=1),i},t.prototype.readCorner1=function(e,n){var r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,1,e,n)&&(r|=1),r<<=1,this.readModule(e-1,2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r},t.prototype.readCorner2=function(e,n){var r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-4,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r},t.prototype.readCorner3=function(e,n){var r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-3,e,n)&&(r|=1),r<<=1,this.readModule(1,n-2,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r},t.prototype.readCorner4=function(e,n){var r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r},t.prototype.extractDataRegion=function(e){var n=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==n)throw new de("Dimension of bitMatrix must match the version size");for(var o=this.version.getDataRegionSizeRows(),i=this.version.getDataRegionSizeColumns(),s=n/o|0,a=r/i|0,u=new oo(a*i,s*o),l=0;l<s;++l)for(var c=l*o,f=0;f<a;++f)for(var d=f*i,p=0;p<o;++p)for(var m=l*(o+2)+1+p,y=c+p,_=0;_<i;++_){var v=f*(i+2)+1+_;if(e.get(v,m)){var g=d+_;u.set(g,y)}}return u},t}(),uE=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},UL=function(){function t(e,n){this.numDataCodewords=e,this.codewords=n}return t.getDataBlocks=function(e,n){var r,o,i,s,a=n.getECBlocks(),u=0,l=a.getECBlocks();try{for(var c=uE(l),f=c.next();!f.done;f=c.next())u+=(_=f.value).getCount()}catch(b){r={error:b}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}var d=new Array(u),p=0;try{for(var m=uE(l),y=m.next();!y.done;y=m.next())for(var _=y.value,v=0;v<_.getCount();v++){var g=_.getDataCodewords(),E=a.getECCodewords()+g;d[p++]=new t(g,new Uint8Array(E))}}catch(b){i={error:b}}finally{try{y&&!y.done&&(s=m.return)&&s.call(m)}finally{if(i)throw i.error}}var x=d[0].codewords.length-a.getECCodewords(),P=x-1,N=0;for(v=0;v<P;v++)for(var I=0;I<p;I++)d[I].codewords[v]=e[N++];var C=n.getVersionNumber()===24,D=C?8:p;for(I=0;I<D;I++)d[I].codewords[x-1]=e[N++];var T=d[0].codewords.length;for(v=x;v<T;v++)for(I=0;I<p;I++){var R=C?(I+8)%p:I,k=C&&R>7?v-1:v;d[R].codewords[k]=e[N++]}if(N!==e.length)throw new de;return d},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),_A=function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new de(""+e);var n=0,r=this.bitOffset,o=this.byteOffset,i=this.bytes;if(r>0){var s=8-r,a=e<s?e:s,u=255>>8-a<<(l=s-a);n=(i[o]&u)>>l,e-=a,(r+=a)===8&&(r=0,o++)}if(e>0){for(;e>=8;)n=n<<8|255&i[o],o++,e-=8;if(e>0){var l;u=255>>(l=8-e)<<l,n=n<<e|(i[o]&u)>>l,r+=e}}return this.bitOffset=r,this.byteOffset=o,n},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t}();(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(yt||(yt={}));var Ws,$L=function(){function t(){}return t.decode=function(e){var n=new _A(e),r=new je,o=new je,i=new Array,s=yt.ASCII_ENCODE;do if(s===yt.ASCII_ENCODE)s=this.decodeAsciiSegment(n,r,o);else{switch(s){case yt.C40_ENCODE:this.decodeC40Segment(n,r);break;case yt.TEXT_ENCODE:this.decodeTextSegment(n,r);break;case yt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,r);break;case yt.EDIFACT_ENCODE:this.decodeEdifactSegment(n,r);break;case yt.BASE256_ENCODE:this.decodeBase256Segment(n,r,i);break;default:throw new J}s=yt.ASCII_ENCODE}while(s!==yt.PAD_ENCODE&&n.available()>0);return o.length()>0&&r.append(o.toString()),new Zd(e,r.toString(),i.length===0?null:i,null)},t.decodeAsciiSegment=function(e,n,r){var o=!1;do{var i=e.readBits(8);if(i===0)throw new J;if(i<=128)return o&&(i+=128),n.append(String.fromCharCode(i-1)),yt.ASCII_ENCODE;if(i===129)return yt.PAD_ENCODE;if(i<=229){var s=i-130;s<10&&n.append("0"),n.append(""+s)}else switch(i){case 230:return yt.C40_ENCODE;case 231:return yt.BASE256_ENCODE;case 232:n.append(String.fromCharCode(29));break;case 233:case 234:case 241:break;case 235:o=!0;break;case 236:n.append("[)>05"),r.insert(0,"");break;case 237:n.append("[)>06"),r.insert(0,"");break;case 238:return yt.ANSIX12_ENCODE;case 239:return yt.TEXT_ENCODE;case 240:return yt.EDIFACT_ENCODE;default:if(i!==254||e.available()!==0)throw new J}}while(e.available()>0);return yt.ASCII_ENCODE},t.decodeC40Segment=function(e,n){var r=!1,o=[],i=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),o);for(var a=0;a<3;a++){var u=o[a];switch(i){case 0:if(u<3)i=u+1;else{if(!(u<this.C40_BASIC_SET_CHARS.length))throw new J;var l=this.C40_BASIC_SET_CHARS[u];r?(n.append(String.fromCharCode(l.charCodeAt(0)+128)),r=!1):n.append(l)}break;case 1:r?(n.append(String.fromCharCode(u+128)),r=!1):n.append(String.fromCharCode(u)),i=0;break;case 2:if(u<this.C40_SHIFT2_SET_CHARS.length)l=this.C40_SHIFT2_SET_CHARS[u],r?(n.append(String.fromCharCode(l.charCodeAt(0)+128)),r=!1):n.append(l);else switch(u){case 27:n.append(String.fromCharCode(29));break;case 30:r=!0;break;default:throw new J}i=0;break;case 3:r?(n.append(String.fromCharCode(u+224)),r=!1):n.append(String.fromCharCode(u+96)),i=0;break;default:throw new J}}}while(e.available()>0)},t.decodeTextSegment=function(e,n){var r=!1,o=[],i=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),o);for(var a=0;a<3;a++){var u=o[a];switch(i){case 0:if(u<3)i=u+1;else{if(!(u<this.TEXT_BASIC_SET_CHARS.length))throw new J;var l=this.TEXT_BASIC_SET_CHARS[u];r?(n.append(String.fromCharCode(l.charCodeAt(0)+128)),r=!1):n.append(l)}break;case 1:r?(n.append(String.fromCharCode(u+128)),r=!1):n.append(String.fromCharCode(u)),i=0;break;case 2:if(u<this.TEXT_SHIFT2_SET_CHARS.length)l=this.TEXT_SHIFT2_SET_CHARS[u],r?(n.append(String.fromCharCode(l.charCodeAt(0)+128)),r=!1):n.append(l);else switch(u){case 27:n.append(String.fromCharCode(29));break;case 30:r=!0;break;default:throw new J}i=0;break;case 3:if(!(u<this.TEXT_SHIFT3_SET_CHARS.length))throw new J;l=this.TEXT_SHIFT3_SET_CHARS[u],r?(n.append(String.fromCharCode(l.charCodeAt(0)+128)),r=!1):n.append(l),i=0;break;default:throw new J}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,n){var r=[];do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),r);for(var i=0;i<3;i++){var s=r[i];switch(s){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(s<14)n.append(String.fromCharCode(s+44));else{if(!(s<40))throw new J;n.append(String.fromCharCode(s+51))}}}}while(e.available()>0)},t.parseTwoBytes=function(e,n,r){var o=(e<<8)+n-1,i=Math.floor(o/1600);r[0]=i,o-=1600*i,i=Math.floor(o/40),r[1]=i,r[2]=o-40*i},t.decodeEdifactSegment=function(e,n){do{if(e.available()<=16)return;for(var r=0;r<4;r++){var o=e.readBits(6);if(o===31){var i=8-e.getBitOffset();return void(i!==8&&e.readBits(i))}!(32&o)&&(o|=64),n.append(String.fromCharCode(o))}}while(e.available()>0)},t.decodeBase256Segment=function(e,n,r){var o,i=1+e.getByteOffset(),s=this.unrandomize255State(e.readBits(8),i++);if((o=s===0?e.available()/8|0:s<250?s:250*(s-249)+this.unrandomize255State(e.readBits(8),i++))<0)throw new J;for(var a=new Uint8Array(o),u=0;u<o;u++){if(e.available()<8)throw new J;a[u]=this.unrandomize255State(e.readBits(8),i++)}r.push(a);try{n.append(Zi.decode(a,It.ISO88591))}catch(l){throw new oc("Platform does not support required encoding: "+l.message)}},t.unrandomize255State=function(e,n){var r=e-(149*n%255+1);return r>=0?r:r+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)],t}(),HL=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zL=function(){function t(){this.rsDecoder=new Jd(Vo.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var n,r,o=new jL(e),i=o.getVersion(),s=o.readCodewords(),a=UL.getDataBlocks(s,i),u=0;try{for(var l=HL(a),c=l.next();!c.done;c=l.next())u+=c.value.getNumDataCodewords()}catch(g){n={error:g}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}for(var f=new Uint8Array(u),d=a.length,p=0;p<d;p++){var m=a[p],y=m.getCodewords(),_=m.getNumDataCodewords();this.correctErrors(y,_);for(var v=0;v<_;v++)f[v*d+p]=y[v]}return $L.decode(f)},t.prototype.correctErrors=function(e,n){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new wt}for(var o=0;o<n;o++)e[o]=r[o]},t}(),WL=function(){function t(e){this.image=e,this.rectangleDetector=new z2(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),n=this.detectSolid1(e);if((n=this.detectSolid2(n))[3]=this.correctTopRight(n),!n[3])throw new z;var r=(n=this.shiftToModuleCenter(n))[0],o=n[1],i=n[2],s=n[3],a=this.transitionsBetween(r,s)+1,u=this.transitionsBetween(i,s)+1;(1&a)==1&&(a+=1),(1&u)==1&&(u+=1),4*a<7*u&&4*u<7*a&&(a=u=Math.max(a,u));var l=t.sampleGrid(this.image,r,o,i,s,a,u);return new my(l,[r,o,i,s])},t.shiftPoint=function(e,n,r){var o=(n.getX()-e.getX())/(r+1),i=(n.getY()-e.getY())/(r+1);return new ae(e.getX()+o,e.getY()+i)},t.moveAway=function(e,n,r){var o=e.getX(),i=e.getY();return o<n?o-=1:o+=1,i<r?i-=1:i+=1,new ae(o,i)},t.prototype.detectSolid1=function(e){var n=e[0],r=e[1],o=e[3],i=e[2],s=this.transitionsBetween(n,r),a=this.transitionsBetween(r,o),u=this.transitionsBetween(o,i),l=this.transitionsBetween(i,n),c=s,f=[i,n,r,o];return c>a&&(c=a,f[0]=n,f[1]=r,f[2]=o,f[3]=i),c>u&&(c=u,f[0]=r,f[1]=o,f[2]=i,f[3]=n),c>l&&(f[0]=o,f[1]=i,f[2]=n,f[3]=r),f},t.prototype.detectSolid2=function(e){var n=e[0],r=e[1],o=e[2],i=e[3],s=this.transitionsBetween(n,i),a=t.shiftPoint(r,o,4*(s+1)),u=t.shiftPoint(o,r,4*(s+1));return this.transitionsBetween(a,n)<this.transitionsBetween(u,i)?(e[0]=n,e[1]=r,e[2]=o,e[3]=i):(e[0]=r,e[1]=o,e[2]=i,e[3]=n),e},t.prototype.correctTopRight=function(e){var n=e[0],r=e[1],o=e[2],i=e[3],s=this.transitionsBetween(n,i),a=this.transitionsBetween(r,i),u=t.shiftPoint(n,r,4*(a+1)),l=t.shiftPoint(o,r,4*(s+1));s=this.transitionsBetween(u,i),a=this.transitionsBetween(l,i);var c=new ae(i.getX()+(o.getX()-r.getX())/(s+1),i.getY()+(o.getY()-r.getY())/(s+1)),f=new ae(i.getX()+(n.getX()-r.getX())/(a+1),i.getY()+(n.getY()-r.getY())/(a+1));return this.isValid(c)?this.isValid(f)?this.transitionsBetween(u,c)+this.transitionsBetween(l,c)>this.transitionsBetween(u,f)+this.transitionsBetween(l,f)?c:f:c:this.isValid(f)?f:null},t.prototype.shiftToModuleCenter=function(e){var n=e[0],r=e[1],o=e[2],i=e[3],s=this.transitionsBetween(n,i)+1,a=this.transitionsBetween(o,i)+1,u=t.shiftPoint(n,r,4*a),l=t.shiftPoint(o,r,4*s);(1&(s=this.transitionsBetween(u,i)+1))==1&&(s+=1),(1&(a=this.transitionsBetween(l,i)+1))==1&&(a+=1);var c,f,d=(n.getX()+r.getX()+o.getX()+i.getX())/4,p=(n.getY()+r.getY()+o.getY()+i.getY())/4;return n=t.moveAway(n,d,p),r=t.moveAway(r,d,p),o=t.moveAway(o,d,p),i=t.moveAway(i,d,p),u=t.shiftPoint(n,r,4*a),u=t.shiftPoint(u,i,4*s),c=t.shiftPoint(r,n,4*a),c=t.shiftPoint(c,o,4*s),l=t.shiftPoint(o,i,4*a),l=t.shiftPoint(l,r,4*s),f=t.shiftPoint(i,o,4*a),[u,c,l,f=t.shiftPoint(f,n,4*s)]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,n,r,o,i,s,a){return gy.getInstance().sampleGrid(e,s,a,.5,.5,s-.5,.5,s-.5,a-.5,.5,a-.5,n.getX(),n.getY(),i.getX(),i.getY(),o.getX(),o.getY(),r.getX(),r.getY())},t.prototype.transitionsBetween=function(e,n){var r=Math.trunc(e.getX()),o=Math.trunc(e.getY()),i=Math.trunc(n.getX()),s=Math.trunc(n.getY()),a=Math.abs(s-o)>Math.abs(i-r);if(a){var u=r;r=o,o=u,u=i,i=s,s=u}for(var l=Math.abs(i-r),c=Math.abs(s-o),f=-l/2,d=o<s?1:-1,p=r<i?1:-1,m=0,y=this.image.get(a?o:r,a?r:o),_=r,v=o;_!==i;_+=p){var g=this.image.get(a?v:_,a?_:v);if(g!==y&&(m++,y=g),(f+=c)>0){if(v===s)break;v+=d,f-=l}}return m},t}(),Nf=function(){function t(){this.decoder=new zL}return t.prototype.decode=function(e,n){var r,o;if(n===void 0&&(n=null),n!=null&&n.has(Ke.PURE_BARCODE)){var i=t.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(i),o=t.NO_POINTS}else{var s=new WL(e.getBlackMatrix()).detect();r=this.decoder.decode(s.getBits()),o=s.getPoints()}var a=r.getRawBytes(),u=new bn(r.getText(),a,8*a.length,o,le.DATA_MATRIX,Je.currentTimeMillis()),l=r.getByteSegments();l!=null&&u.putMetadata(jt.BYTE_SEGMENTS,l);var c=r.getECLevel();return c!=null&&u.putMetadata(jt.ERROR_CORRECTION_LEVEL,c),u},t.prototype.reset=function(){},t.extractPureBits=function(e){var n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n==null||r==null)throw new z;var o=this.moduleSize(n,e),i=n[1],s=r[1],a=n[0],u=(r[0]-a+1)/o,l=(s-i+1)/o;if(u<=0||l<=0)throw new z;var c=o/2;i+=c,a+=c;for(var f=new oo(u,l),d=0;d<l;d++)for(var p=i+d*o,m=0;m<u;m++)e.get(a+m*o,p)&&f.set(m,d);return f},t.moduleSize=function(e,n){for(var r=n.getWidth(),o=e[0],i=e[1];o<r&&n.get(o,i);)o++;if(o===r)throw new z;var s=o-e[0];if(s===0)throw new z;return s},t.NO_POINTS=[],t}(),GL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){function e(n){return n===void 0&&(n=500),t.call(this,new Nf,n)||this}GL(e,t)})($a),function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"}(Ws||(Ws={}));var At,qL=function(){function t(e,n,r){this.value=e,this.stringValue=n,this.bits=r,t.FOR_BITS.set(r,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new lt(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new de;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(Ws.L,"L",1),t.M=new t(Ws.M,"M",0),t.Q=new t(Ws.Q,"Q",3),t.H=new t(Ws.H,"H",2),t}(),KL=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wA=function(){function t(e){this.errorCorrectionLevel=qL.forBits(e>>3&3),this.dataMask=7&e}return t.numBitsDiffering=function(e,n){return Vt.bitCount(e^n)},t.decodeFormatInformation=function(e,n){var r=t.doDecodeFormatInformation(e,n);return r!==null?r:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,n^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,n){var r,o,i=Number.MAX_SAFE_INTEGER,s=0;try{for(var a=KL(t.FORMAT_INFO_DECODE_LOOKUP),u=a.next();!u.done;u=a.next()){var l=u.value,c=l[0];if(c===e||c===n)return new t(l[1]);var f=t.numBitsDiffering(e,c);f<i&&(s=l[1],i=f),e!==n&&(f=t.numBitsDiffering(n,c))<i&&(s=l[1],i=f)}}catch(d){r={error:d}}finally{try{u&&!u.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return i<=3?new t(s):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t}(),XL=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},L=function(){function t(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.ecCodewordsPerBlock=e,this.ecBlocks=n}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,n,r=0,o=this.ecBlocks;try{for(var i=XL(o),s=i.next();!s.done;s=i.next())r+=s.value.getCount()}catch(a){e={error:a}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),M=function(){function t(e,n){this.count=e,this.dataCodewords=n}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),YL=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},b0=function(){function t(e,n){for(var r,o,i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];this.versionNumber=e,this.alignmentPatternCenters=n,this.ecBlocks=i;var a=0,u=i[0].getECCodewordsPerBlock(),l=i[0].getECBlocks();try{for(var c=YL(l),f=c.next();!f.done;f=c.next()){var d=f.value;a+=d.getCount()*(d.getDataCodewords()+u)}}catch(p){r={error:p}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}this.totalCodewords=a}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!=1)throw new J;try{return this.getVersionForNumber((e-17)/4)}catch{throw new J}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new de;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var n=Number.MAX_SAFE_INTEGER,r=0,o=0;o<t.VERSION_DECODE_INFO.length;o++){var i=t.VERSION_DECODE_INFO[o];if(i===e)return t.getVersionForNumber(o+7);var s=wA.numBitsDiffering(e,i);s<n&&(r=o+7,n=s)}return n<=3?t.getVersionForNumber(r):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),n=new oo(e);n.setRegion(0,0,9,9),n.setRegion(e-8,0,8,9),n.setRegion(0,e-8,9,8);for(var r=this.alignmentPatternCenters.length,o=0;o<r;o++)for(var i=this.alignmentPatternCenters[o]-2,s=0;s<r;s++)o===0&&(s===0||s===r-1)||o===r-1&&s===0||n.setRegion(this.alignmentPatternCenters[s]-2,i,5,5);return n.setRegion(6,9,1,e-17),n.setRegion(9,6,e-17,1),this.versionNumber>6&&(n.setRegion(e-11,0,3,6),n.setRegion(0,e-11,6,3)),n},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new L(7,new M(1,19)),new L(10,new M(1,16)),new L(13,new M(1,13)),new L(17,new M(1,9))),new t(2,Int32Array.from([6,18]),new L(10,new M(1,34)),new L(16,new M(1,28)),new L(22,new M(1,22)),new L(28,new M(1,16))),new t(3,Int32Array.from([6,22]),new L(15,new M(1,55)),new L(26,new M(1,44)),new L(18,new M(2,17)),new L(22,new M(2,13))),new t(4,Int32Array.from([6,26]),new L(20,new M(1,80)),new L(18,new M(2,32)),new L(26,new M(2,24)),new L(16,new M(4,9))),new t(5,Int32Array.from([6,30]),new L(26,new M(1,108)),new L(24,new M(2,43)),new L(18,new M(2,15),new M(2,16)),new L(22,new M(2,11),new M(2,12))),new t(6,Int32Array.from([6,34]),new L(18,new M(2,68)),new L(16,new M(4,27)),new L(24,new M(4,19)),new L(28,new M(4,15))),new t(7,Int32Array.from([6,22,38]),new L(20,new M(2,78)),new L(18,new M(4,31)),new L(18,new M(2,14),new M(4,15)),new L(26,new M(4,13),new M(1,14))),new t(8,Int32Array.from([6,24,42]),new L(24,new M(2,97)),new L(22,new M(2,38),new M(2,39)),new L(22,new M(4,18),new M(2,19)),new L(26,new M(4,14),new M(2,15))),new t(9,Int32Array.from([6,26,46]),new L(30,new M(2,116)),new L(22,new M(3,36),new M(2,37)),new L(20,new M(4,16),new M(4,17)),new L(24,new M(4,12),new M(4,13))),new t(10,Int32Array.from([6,28,50]),new L(18,new M(2,68),new M(2,69)),new L(26,new M(4,43),new M(1,44)),new L(24,new M(6,19),new M(2,20)),new L(28,new M(6,15),new M(2,16))),new t(11,Int32Array.from([6,30,54]),new L(20,new M(4,81)),new L(30,new M(1,50),new M(4,51)),new L(28,new M(4,22),new M(4,23)),new L(24,new M(3,12),new M(8,13))),new t(12,Int32Array.from([6,32,58]),new L(24,new M(2,92),new M(2,93)),new L(22,new M(6,36),new M(2,37)),new L(26,new M(4,20),new M(6,21)),new L(28,new M(7,14),new M(4,15))),new t(13,Int32Array.from([6,34,62]),new L(26,new M(4,107)),new L(22,new M(8,37),new M(1,38)),new L(24,new M(8,20),new M(4,21)),new L(22,new M(12,11),new M(4,12))),new t(14,Int32Array.from([6,26,46,66]),new L(30,new M(3,115),new M(1,116)),new L(24,new M(4,40),new M(5,41)),new L(20,new M(11,16),new M(5,17)),new L(24,new M(11,12),new M(5,13))),new t(15,Int32Array.from([6,26,48,70]),new L(22,new M(5,87),new M(1,88)),new L(24,new M(5,41),new M(5,42)),new L(30,new M(5,24),new M(7,25)),new L(24,new M(11,12),new M(7,13))),new t(16,Int32Array.from([6,26,50,74]),new L(24,new M(5,98),new M(1,99)),new L(28,new M(7,45),new M(3,46)),new L(24,new M(15,19),new M(2,20)),new L(30,new M(3,15),new M(13,16))),new t(17,Int32Array.from([6,30,54,78]),new L(28,new M(1,107),new M(5,108)),new L(28,new M(10,46),new M(1,47)),new L(28,new M(1,22),new M(15,23)),new L(28,new M(2,14),new M(17,15))),new t(18,Int32Array.from([6,30,56,82]),new L(30,new M(5,120),new M(1,121)),new L(26,new M(9,43),new M(4,44)),new L(28,new M(17,22),new M(1,23)),new L(28,new M(2,14),new M(19,15))),new t(19,Int32Array.from([6,30,58,86]),new L(28,new M(3,113),new M(4,114)),new L(26,new M(3,44),new M(11,45)),new L(26,new M(17,21),new M(4,22)),new L(26,new M(9,13),new M(16,14))),new t(20,Int32Array.from([6,34,62,90]),new L(28,new M(3,107),new M(5,108)),new L(26,new M(3,41),new M(13,42)),new L(30,new M(15,24),new M(5,25)),new L(28,new M(15,15),new M(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new L(28,new M(4,116),new M(4,117)),new L(26,new M(17,42)),new L(28,new M(17,22),new M(6,23)),new L(30,new M(19,16),new M(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new L(28,new M(2,111),new M(7,112)),new L(28,new M(17,46)),new L(30,new M(7,24),new M(16,25)),new L(24,new M(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new L(30,new M(4,121),new M(5,122)),new L(28,new M(4,47),new M(14,48)),new L(30,new M(11,24),new M(14,25)),new L(30,new M(16,15),new M(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new L(30,new M(6,117),new M(4,118)),new L(28,new M(6,45),new M(14,46)),new L(30,new M(11,24),new M(16,25)),new L(30,new M(30,16),new M(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new L(26,new M(8,106),new M(4,107)),new L(28,new M(8,47),new M(13,48)),new L(30,new M(7,24),new M(22,25)),new L(30,new M(22,15),new M(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new L(28,new M(10,114),new M(2,115)),new L(28,new M(19,46),new M(4,47)),new L(28,new M(28,22),new M(6,23)),new L(30,new M(33,16),new M(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new L(30,new M(8,122),new M(4,123)),new L(28,new M(22,45),new M(3,46)),new L(30,new M(8,23),new M(26,24)),new L(30,new M(12,15),new M(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new L(30,new M(3,117),new M(10,118)),new L(28,new M(3,45),new M(23,46)),new L(30,new M(4,24),new M(31,25)),new L(30,new M(11,15),new M(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new L(30,new M(7,116),new M(7,117)),new L(28,new M(21,45),new M(7,46)),new L(30,new M(1,23),new M(37,24)),new L(30,new M(19,15),new M(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new L(30,new M(5,115),new M(10,116)),new L(28,new M(19,47),new M(10,48)),new L(30,new M(15,24),new M(25,25)),new L(30,new M(23,15),new M(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new L(30,new M(13,115),new M(3,116)),new L(28,new M(2,46),new M(29,47)),new L(30,new M(42,24),new M(1,25)),new L(30,new M(23,15),new M(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new L(30,new M(17,115)),new L(28,new M(10,46),new M(23,47)),new L(30,new M(10,24),new M(35,25)),new L(30,new M(19,15),new M(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new L(30,new M(17,115),new M(1,116)),new L(28,new M(14,46),new M(21,47)),new L(30,new M(29,24),new M(19,25)),new L(30,new M(11,15),new M(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new L(30,new M(13,115),new M(6,116)),new L(28,new M(14,46),new M(23,47)),new L(30,new M(44,24),new M(7,25)),new L(30,new M(59,16),new M(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new L(30,new M(12,121),new M(7,122)),new L(28,new M(12,47),new M(26,48)),new L(30,new M(39,24),new M(14,25)),new L(30,new M(22,15),new M(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new L(30,new M(6,121),new M(14,122)),new L(28,new M(6,47),new M(34,48)),new L(30,new M(46,24),new M(10,25)),new L(30,new M(2,15),new M(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new L(30,new M(17,122),new M(4,123)),new L(28,new M(29,46),new M(14,47)),new L(30,new M(49,24),new M(10,25)),new L(30,new M(24,15),new M(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new L(30,new M(4,122),new M(18,123)),new L(28,new M(13,46),new M(32,47)),new L(30,new M(48,24),new M(14,25)),new L(30,new M(42,15),new M(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new L(30,new M(20,117),new M(4,118)),new L(28,new M(40,47),new M(7,48)),new L(30,new M(43,24),new M(22,25)),new L(30,new M(10,15),new M(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new L(30,new M(19,118),new M(6,119)),new L(28,new M(18,47),new M(31,48)),new L(30,new M(34,24),new M(34,25)),new L(30,new M(20,15),new M(61,16)))],t}();(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(At||(At={}));var zn,lE=function(){function t(e,n){this.value=e,this.isMasked=n}return t.prototype.unmaskBitMatrix=function(e,n){for(var r=0;r<n;r++)for(var o=0;o<n;o++)this.isMasked(r,o)&&e.flip(o,r)},t.values=new Map([[At.DATA_MASK_000,new t(At.DATA_MASK_000,function(e,n){return(e+n&1)==0})],[At.DATA_MASK_001,new t(At.DATA_MASK_001,function(e,n){return(1&e)==0})],[At.DATA_MASK_010,new t(At.DATA_MASK_010,function(e,n){return n%3==0})],[At.DATA_MASK_011,new t(At.DATA_MASK_011,function(e,n){return(e+n)%3==0})],[At.DATA_MASK_100,new t(At.DATA_MASK_100,function(e,n){return(Math.floor(e/2)+Math.floor(n/3)&1)==0})],[At.DATA_MASK_101,new t(At.DATA_MASK_101,function(e,n){return e*n%6==0})],[At.DATA_MASK_110,new t(At.DATA_MASK_110,function(e,n){return e*n%6<3})],[At.DATA_MASK_111,new t(At.DATA_MASK_111,function(e,n){return(e+n+e*n%3&1)==0})]]),t}(),QL=function(){function t(e){var n=e.getHeight();if(n<21||(3&n)!=1)throw new J;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,n=0;n<6;n++)e=this.copyBit(n,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var r=5;r>=0;r--)e=this.copyBit(8,r,e);var o=this.bitMatrix.getHeight(),i=0,s=o-7;for(r=o-1;r>=s;r--)i=this.copyBit(8,r,i);for(n=o-8;n<o;n++)i=this.copyBit(n,8,i);if(this.parsedFormatInfo=wA.decodeFormatInformation(e,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new J},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),n=Math.floor((e-17)/4);if(n<=6)return b0.getVersionForNumber(n);for(var r=0,o=e-11,i=5;i>=0;i--)for(var s=e-9;s>=o;s--)r=this.copyBit(s,i,r);var a=b0.decodeVersionInformation(r);if(a!==null&&a.getDimensionForVersion()===e)return this.parsedVersion=a,a;for(r=0,s=5;s>=0;s--)for(i=e-9;i>=o;i--)r=this.copyBit(s,i,r);if((a=b0.decodeVersionInformation(r))!==null&&a.getDimensionForVersion()===e)return this.parsedVersion=a,a;throw new J},t.prototype.copyBit=function(e,n,r){return(this.isMirror?this.bitMatrix.get(n,e):this.bitMatrix.get(e,n))?r<<1|1:r<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),n=this.readVersion(),r=lE.values.get(e.getDataMask()),o=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,o);for(var i=n.buildFunctionPattern(),s=!0,a=new Uint8Array(n.getTotalCodewords()),u=0,l=0,c=0,f=o-1;f>0;f-=2){f===6&&f--;for(var d=0;d<o;d++)for(var p=s?o-1-d:d,m=0;m<2;m++)i.get(f-m,p)||(c++,l<<=1,this.bitMatrix.get(f-m,p)&&(l|=1),c===8&&(a[u++]=l,c=0,l=0));s=!s}if(u!==n.getTotalCodewords())throw new J;return a},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=lE.values[this.parsedFormatInfo.getDataMask()],n=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,n)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,n=0,r=e.getWidth();n<r;n++)for(var o=n+1,i=e.getHeight();o<i;o++)e.get(n,o)!==e.get(o,n)&&(e.flip(o,n),e.flip(n,o))},t}(),cE=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ZL=function(){function t(e,n){this.numDataCodewords=e,this.codewords=n}return t.getDataBlocks=function(e,n,r){var o,i,s,a;if(e.length!==n.getTotalCodewords())throw new de;var u=n.getECBlocksForLevel(r),l=0,c=u.getECBlocks();try{for(var f=cE(c),d=f.next();!d.done;d=f.next())l+=(v=d.value).getCount()}catch(k){o={error:k}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(o)throw o.error}}var p=new Array(l),m=0;try{for(var y=cE(c),_=y.next();!_.done;_=y.next())for(var v=_.value,g=0;g<v.getCount();g++){var E=v.getDataCodewords(),x=u.getECCodewordsPerBlock()+E;p[m++]=new t(E,new Uint8Array(x))}}catch(k){s={error:k}}finally{try{_&&!_.done&&(a=y.return)&&a.call(y)}finally{if(s)throw s.error}}for(var P=p[0].codewords.length,N=p.length-1;N>=0&&p[N].codewords.length!==P;)N--;N++;var I=P-u.getECCodewordsPerBlock(),C=0;for(g=0;g<I;g++)for(var D=0;D<m;D++)p[D].codewords[g]=e[C++];for(D=N;D<m;D++)p[D].codewords[I]=e[C++];var T=p[0].codewords.length;for(g=I;g<T;g++)for(D=0;D<m;D++){var R=D<N?g:g+1;p[D].codewords[R]=e[C++]}return p},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}();(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(zn||(zn={}));var Fe,Zc,Pn=function(){function t(e,n,r,o){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=r,this.bits=o,t.FOR_BITS.set(o,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var n=t.FOR_BITS.get(e);if(n===void 0)throw new de;return n},t.prototype.getCharacterCountBits=function(e){var n,r=e.getVersionNumber();return n=r<=9?0:r<=26?1:2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(zn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(zn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(zn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(zn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(zn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(zn.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(zn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(zn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(zn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(zn.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t}(),JL=function(){function t(){}return t.decode=function(e,n,r,o){var i=new _A(e),s=new je,a=new Array,u=-1,l=-1;try{var c=null,f=!1,d=void 0;do{if(i.available()<4)d=Pn.TERMINATOR;else{var p=i.readBits(4);d=Pn.forBits(p)}switch(d){case Pn.TERMINATOR:break;case Pn.FNC1_FIRST_POSITION:case Pn.FNC1_SECOND_POSITION:f=!0;break;case Pn.STRUCTURED_APPEND:if(i.available()<16)throw new J;u=i.readBits(8),l=i.readBits(8);break;case Pn.ECI:var m=t.parseECIValue(i);if((c=wn.getCharacterSetECIByValue(m))===null)throw new J;break;case Pn.HANZI:var y=i.readBits(4),_=i.readBits(d.getCharacterCountBits(n));y===t.GB2312_SUBSET&&t.decodeHanziSegment(i,s,_);break;default:var v=i.readBits(d.getCharacterCountBits(n));switch(d){case Pn.NUMERIC:t.decodeNumericSegment(i,s,v);break;case Pn.ALPHANUMERIC:t.decodeAlphanumericSegment(i,s,v,f);break;case Pn.BYTE:t.decodeByteSegment(i,s,v,c,a,o);break;case Pn.KANJI:t.decodeKanjiSegment(i,s,v);break;default:throw new J}}}while(d!==Pn.TERMINATOR)}catch{throw new J}return new Zd(e,s.toString(),a.length===0?null:a,r===null?null:r.toString(),u,l)},t.decodeHanziSegment=function(e,n,r){if(13*r>e.available())throw new J;for(var o=new Uint8Array(2*r),i=0;r>0;){var s=e.readBits(13),a=s/96<<8&4294967295|s%96;a+=a<959?41377:42657,o[i]=a>>8&255,o[i+1]=255&a,i+=2,r--}try{n.append(Zi.decode(o,It.GB2312))}catch(u){throw new J(u)}},t.decodeKanjiSegment=function(e,n,r){if(13*r>e.available())throw new J;for(var o=new Uint8Array(2*r),i=0;r>0;){var s=e.readBits(13),a=s/192<<8&4294967295|s%192;a+=a<7936?33088:49472,o[i]=a>>8,o[i+1]=a,i+=2,r--}try{n.append(Zi.decode(o,It.SHIFT_JIS))}catch(u){throw new J(u)}},t.decodeByteSegment=function(e,n,r,o,i,s){if(8*r>e.available())throw new J;for(var a,u=new Uint8Array(r),l=0;l<r;l++)u[l]=e.readBits(8);a=o===null?It.guessEncoding(u,s):o.getName();try{n.append(Zi.decode(u,a))}catch(c){throw new J(c)}i.push(u)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new J;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,n,r,o){for(var i=n.length();r>1;){if(e.available()<11)throw new J;var s=e.readBits(11);n.append(t.toAlphaNumericChar(Math.floor(s/45))),n.append(t.toAlphaNumericChar(s%45)),r-=2}if(r===1){if(e.available()<6)throw new J;n.append(t.toAlphaNumericChar(e.readBits(6)))}if(o)for(var a=i;a<n.length();a++)n.charAt(a)==="%"&&(a<n.length()-1&&n.charAt(a+1)==="%"?n.deleteCharAt(a+1):n.setCharAt(a,String.fromCharCode(29)))},t.decodeNumericSegment=function(e,n,r){for(;r>=3;){if(e.available()<10)throw new J;var o=e.readBits(10);if(o>=1e3)throw new J;n.append(t.toAlphaNumericChar(Math.floor(o/100))),n.append(t.toAlphaNumericChar(Math.floor(o/10)%10)),n.append(t.toAlphaNumericChar(o%10)),r-=3}if(r===2){if(e.available()<7)throw new J;var i=e.readBits(7);if(i>=100)throw new J;n.append(t.toAlphaNumericChar(Math.floor(i/10))),n.append(t.toAlphaNumericChar(i%10))}else if(r===1){if(e.available()<4)throw new J;var s=e.readBits(4);if(s>=10)throw new J;n.append(t.toAlphaNumericChar(s))}},t.parseECIValue=function(e){var n=e.readBits(8);if(!(128&n))return 127&n;if((192&n)==128)return(63&n)<<8&4294967295|e.readBits(8);if((224&n)==192)return(31&n)<<16&4294967295|e.readBits(16);throw new J},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t}(),EA=function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(this.mirrored&&e!==null&&!(e.length<3)){var n=e[0];e[0]=e[2],e[2]=n}},t}(),fE=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},eV=function(){function t(){this.rsDecoder=new Jd(Vo.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,n){return this.decodeBitMatrix(oo.parseFromBooleanArray(e),n)},t.prototype.decodeBitMatrix=function(e,n){var r=new QL(e),o=null;try{return this.decodeBitMatrixParser(r,n)}catch(s){o=s}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();var i=this.decodeBitMatrixParser(r,n);return i.setOther(new EA(!0)),i}catch(s){throw o!==null?o:s}},t.prototype.decodeBitMatrixParser=function(e,n){var r,o,i,s,a=e.readVersion(),u=e.readFormatInformation().getErrorCorrectionLevel(),l=e.readCodewords(),c=ZL.getDataBlocks(l,a,u),f=0;try{for(var d=fE(c),p=d.next();!p.done;p=d.next())f+=(g=p.value).getNumDataCodewords()}catch(N){r={error:N}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}var m=new Uint8Array(f),y=0;try{for(var _=fE(c),v=_.next();!v.done;v=_.next()){var g,E=(g=v.value).getCodewords(),x=g.getNumDataCodewords();this.correctErrors(E,x);for(var P=0;P<x;P++)m[y++]=E[P]}}catch(N){i={error:N}}finally{try{v&&!v.done&&(s=_.return)&&s.call(_)}finally{if(i)throw i.error}}return JL.decode(m,a,u,n)},t.prototype.correctErrors=function(e,n){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new wt}for(var o=0;o<n;o++)e[o]=r[o]},t}(),tV=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),nV=function(t){function e(n,r,o){var i=t.call(this,n,r)||this;return i.estimatedModuleSize=o,i}return tV(e,t),e.prototype.aboutEquals=function(n,r,o){if(Math.abs(r-this.getY())<=n&&Math.abs(o-this.getX())<=n){var i=Math.abs(n-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(n,r,o){return new e((this.getX()+r)/2,(this.getY()+n)/2,(this.estimatedModuleSize+o)/2)},e}(ae),rV=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},oV=function(){function t(e,n,r,o,i,s,a){this.image=e,this.startX=n,this.startY=r,this.width=o,this.height=i,this.moduleSize=s,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,n=this.height,r=e+this.width,o=this.startY+n/2,i=new Int32Array(3),s=this.image,a=0;a<n;a++){var u=o+(1&a?-Math.floor((a+1)/2):Math.floor((a+1)/2));i[0]=0,i[1]=0,i[2]=0;for(var l=e;l<r&&!s.get(l,u);)l++;for(var c=0;l<r;){if(s.get(l,u))if(c===1)i[1]++;else if(c===2){var f;if(this.foundPatternCross(i)&&(f=this.handlePossibleCenter(i,u,l))!==null)return f;i[0]=i[2],i[1]=1,i[2]=0,c=1}else i[++c]++;else c===1&&c++,i[c]++;l++}if(this.foundPatternCross(i)&&(f=this.handlePossibleCenter(i,u,r))!==null)return f}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new z},t.centerFromEnd=function(e,n){return n-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var n=this.moduleSize,r=n/2,o=0;o<3;o++)if(Math.abs(n-e[o])>=r)return!1;return!0},t.prototype.crossCheckVertical=function(e,n,r,o){var i=this.image,s=i.getHeight(),a=this.crossCheckStateCount;a[0]=0,a[1]=0,a[2]=0;for(var u=e;u>=0&&i.get(n,u)&&a[1]<=r;)a[1]++,u--;if(u<0||a[1]>r)return NaN;for(;u>=0&&!i.get(n,u)&&a[0]<=r;)a[0]++,u--;if(a[0]>r)return NaN;for(u=e+1;u<s&&i.get(n,u)&&a[1]<=r;)a[1]++,u++;if(u===s||a[1]>r)return NaN;for(;u<s&&!i.get(n,u)&&a[2]<=r;)a[2]++,u++;if(a[2]>r)return NaN;var l=a[0]+a[1]+a[2];return 5*Math.abs(l-o)>=2*o?NaN:this.foundPatternCross(a)?t.centerFromEnd(a,u):NaN},t.prototype.handlePossibleCenter=function(e,n,r){var o,i,s=e[0]+e[1]+e[2],a=t.centerFromEnd(e,r),u=this.crossCheckVertical(n,a,2*e[1],s);if(!isNaN(u)){var l=(e[0]+e[1]+e[2])/3;try{for(var c=rV(this.possibleCenters),f=c.next();!f.done;f=c.next()){var d=f.value;if(d.aboutEquals(l,u,a))return d.combineEstimate(u,a,l)}}catch(m){o={error:m}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(o)throw o.error}}var p=new nV(a,u,l);this.possibleCenters.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return null},t}(),iV=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),sV=function(t){function e(n,r,o,i){var s=t.call(this,n,r)||this;return s.estimatedModuleSize=o,s.count=i,i===void 0&&(s.count=1),s}return iV(e,t),e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(n,r,o){if(Math.abs(r-this.getY())<=n&&Math.abs(o-this.getX())<=n){var i=Math.abs(n-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(n,r,o){var i=this.count+1;return new e((this.count*this.getX()+r)/i,(this.count*this.getY()+n)/i,(this.count*this.estimatedModuleSize+o)/i,i)},e}(ae),aV=function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t}(),_u=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},uV=function(){function t(e,n){this.image=e,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var n=e!=null&&e.get(Ke.TRY_HARDER)!==void 0,r=e!=null&&e.get(Ke.PURE_BARCODE)!==void 0,o=this.image,i=o.getHeight(),s=o.getWidth(),a=Math.floor(3*i/(4*t.MAX_MODULES));(a<t.MIN_SKIP||n)&&(a=t.MIN_SKIP);for(var u=!1,l=new Int32Array(5),c=a-1;c<i&&!u;c+=a){l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0;for(var f=0,d=0;d<s;d++)if(o.get(d,c))(1&f)==1&&f++,l[f]++;else if(1&f)l[f]++;else if(f===4)if(t.foundPatternCross(l)){if(this.handlePossibleCenter(l,c,d,r)!==!0){l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,f=3;continue}if(a=2,this.hasSkipped===!0)u=this.haveMultiplyConfirmedCenters();else{var p=this.findRowSkip();p>l[2]&&(c+=p-l[2]-a,d=s-1)}f=0,l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0}else l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,f=3;else l[++f]++;t.foundPatternCross(l)&&this.handlePossibleCenter(l,c,s,r)===!0&&(a=l[0],this.hasSkipped&&(u=this.haveMultiplyConfirmedCenters()))}var m=this.selectBestPatterns();return ae.orderBestPatterns(m),new aV(m)},t.centerFromEnd=function(e,n){return n-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var n=0,r=0;r<5;r++){var o=e[r];if(o===0)return!1;n+=o}if(n<7)return!1;var i=n/7,s=i/2;return Math.abs(i-e[0])<s&&Math.abs(i-e[1])<s&&Math.abs(3*i-e[2])<3*s&&Math.abs(i-e[3])<s&&Math.abs(i-e[4])<s},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,n,r,o){for(var i=this.getCrossCheckStateCount(),s=0,a=this.image;e>=s&&n>=s&&a.get(n-s,e-s);)i[2]++,s++;if(e<s||n<s)return!1;for(;e>=s&&n>=s&&!a.get(n-s,e-s)&&i[1]<=r;)i[1]++,s++;if(e<s||n<s||i[1]>r)return!1;for(;e>=s&&n>=s&&a.get(n-s,e-s)&&i[0]<=r;)i[0]++,s++;if(i[0]>r)return!1;var u=a.getHeight(),l=a.getWidth();for(s=1;e+s<u&&n+s<l&&a.get(n+s,e+s);)i[2]++,s++;if(e+s>=u||n+s>=l)return!1;for(;e+s<u&&n+s<l&&!a.get(n+s,e+s)&&i[3]<r;)i[3]++,s++;if(e+s>=u||n+s>=l||i[3]>=r)return!1;for(;e+s<u&&n+s<l&&a.get(n+s,e+s)&&i[4]<r;)i[4]++,s++;if(i[4]>=r)return!1;var c=i[0]+i[1]+i[2]+i[3]+i[4];return Math.abs(c-o)<2*o&&t.foundPatternCross(i)},t.prototype.crossCheckVertical=function(e,n,r,o){for(var i=this.image,s=i.getHeight(),a=this.getCrossCheckStateCount(),u=e;u>=0&&i.get(n,u);)a[2]++,u--;if(u<0)return NaN;for(;u>=0&&!i.get(n,u)&&a[1]<=r;)a[1]++,u--;if(u<0||a[1]>r)return NaN;for(;u>=0&&i.get(n,u)&&a[0]<=r;)a[0]++,u--;if(a[0]>r)return NaN;for(u=e+1;u<s&&i.get(n,u);)a[2]++,u++;if(u===s)return NaN;for(;u<s&&!i.get(n,u)&&a[3]<r;)a[3]++,u++;if(u===s||a[3]>=r)return NaN;for(;u<s&&i.get(n,u)&&a[4]<r;)a[4]++,u++;if(a[4]>=r)return NaN;var l=a[0]+a[1]+a[2]+a[3]+a[4];return 5*Math.abs(l-o)>=2*o?NaN:t.foundPatternCross(a)?t.centerFromEnd(a,u):NaN},t.prototype.crossCheckHorizontal=function(e,n,r,o){for(var i=this.image,s=i.getWidth(),a=this.getCrossCheckStateCount(),u=e;u>=0&&i.get(u,n);)a[2]++,u--;if(u<0)return NaN;for(;u>=0&&!i.get(u,n)&&a[1]<=r;)a[1]++,u--;if(u<0||a[1]>r)return NaN;for(;u>=0&&i.get(u,n)&&a[0]<=r;)a[0]++,u--;if(a[0]>r)return NaN;for(u=e+1;u<s&&i.get(u,n);)a[2]++,u++;if(u===s)return NaN;for(;u<s&&!i.get(u,n)&&a[3]<r;)a[3]++,u++;if(u===s||a[3]>=r)return NaN;for(;u<s&&i.get(u,n)&&a[4]<r;)a[4]++,u++;if(a[4]>=r)return NaN;var l=a[0]+a[1]+a[2]+a[3]+a[4];return 5*Math.abs(l-o)>=o?NaN:t.foundPatternCross(a)?t.centerFromEnd(a,u):NaN},t.prototype.handlePossibleCenter=function(e,n,r,o){var i=e[0]+e[1]+e[2]+e[3]+e[4],s=t.centerFromEnd(e,r),a=this.crossCheckVertical(n,Math.floor(s),e[2],i);if(!isNaN(a)&&(s=this.crossCheckHorizontal(Math.floor(s),Math.floor(a),e[2],i),!isNaN(s)&&(!o||this.crossCheckDiagonal(Math.floor(a),Math.floor(s),e[2],i)))){for(var u=i/7,l=!1,c=this.possibleCenters,f=0,d=c.length;f<d;f++){var p=c[f];if(p.aboutEquals(u,a,s)){c[f]=p.combineEstimate(a,s,u),l=!0;break}}if(!l){var m=new sV(s,a,u);c.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return!0}return!1},t.prototype.findRowSkip=function(){var e,n;if(this.possibleCenters.length<=1)return 0;var r=null;try{for(var o=_u(this.possibleCenters),i=o.next();!i.done;i=o.next()){var s=i.value;if(s.getCount()>=t.CENTER_QUORUM){if(r!=null)return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-s.getX())-Math.abs(r.getY()-s.getY()))/2);r=s}}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,n,r,o,i=0,s=0,a=this.possibleCenters.length;try{for(var u=_u(this.possibleCenters),l=u.next();!l.done;l=u.next())(m=l.value).getCount()>=t.CENTER_QUORUM&&(i++,s+=m.getEstimatedModuleSize())}catch(y){e={error:y}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}if(i<3)return!1;var c=s/a,f=0;try{for(var d=_u(this.possibleCenters),p=d.next();!p.done;p=d.next()){var m=p.value;f+=Math.abs(m.getEstimatedModuleSize()-c)}}catch(y){r={error:y}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}return f<=.05*s},t.prototype.selectBestPatterns=function(){var e,n,r,o,i=this.possibleCenters.length;if(i<3)throw new z;var s,a=this.possibleCenters;if(i>3){var u=0,l=0;try{for(var c=_u(this.possibleCenters),f=c.next();!f.done;f=c.next()){var d=f.value.getEstimatedModuleSize();u+=d,l+=d*d}}catch(E){e={error:E}}finally{try{f&&!f.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}s=u/i;var p=Math.sqrt(l/i-s*s);a.sort(function(E,x){var P=Math.abs(x.getEstimatedModuleSize()-s),N=Math.abs(E.getEstimatedModuleSize()-s);return P<N?-1:P>N?1:0});for(var m=Math.max(.2*s,p),y=0;y<a.length&&a.length>3;y++){var _=a[y];Math.abs(_.getEstimatedModuleSize()-s)>m&&(a.splice(y,1),y--)}}if(a.length>3){u=0;try{for(var v=_u(a),g=v.next();!g.done;g=v.next())u+=g.value.getEstimatedModuleSize()}catch(E){r={error:E}}finally{try{g&&!g.done&&(o=v.return)&&o.call(v)}finally{if(r)throw r.error}}s=u/a.length,a.sort(function(E,x){if(x.getCount()===E.getCount()){var P=Math.abs(x.getEstimatedModuleSize()-s),N=Math.abs(E.getEstimatedModuleSize()-s);return P<N?1:P>N?-1:0}return x.getCount()-E.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t}(),lV=function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(Ke.NEED_RESULT_POINT_CALLBACK);var n=new uV(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var n=e.getTopLeft(),r=e.getTopRight(),o=e.getBottomLeft(),i=this.calculateModuleSize(n,r,o);if(i<1)throw new z("No pattern found in proccess finder.");var s=t.computeDimension(n,r,o,i),a=b0.getProvisionalVersionForDimension(s),u=a.getDimensionForVersion()-7,l=null;if(a.getAlignmentPatternCenters().length>0)for(var c=r.getX()-n.getX()+o.getX(),f=r.getY()-n.getY()+o.getY(),d=1-3/u,p=Math.floor(n.getX()+d*(c-n.getX())),m=Math.floor(n.getY()+d*(f-n.getY())),y=4;y<=16;y<<=1)try{l=this.findAlignmentInRegion(i,p,m,y);break}catch(g){if(!(g instanceof z))throw g}var _=t.createTransform(n,r,o,l,s),v=t.sampleGrid(this.image,_,s);return new my(v,l===null?[o,n,r]:[o,n,r,l])},t.createTransform=function(e,n,r,o,i){var s,a,u,l,c=i-3.5;return o!==null?(s=o.getX(),a=o.getY(),l=u=c-3):(s=n.getX()-e.getX()+r.getX(),a=n.getY()-e.getY()+r.getY(),u=c,l=c),mA.quadrilateralToQuadrilateral(3.5,3.5,c,3.5,u,l,3.5,c,e.getX(),e.getY(),n.getX(),n.getY(),s,a,r.getX(),r.getY())},t.sampleGrid=function(e,n,r){return gy.getInstance().sampleGridWithTransform(e,r,r,n)},t.computeDimension=function(e,n,r,o){var i=be.round(ae.distance(e,n)/o),s=be.round(ae.distance(e,r)/o),a=Math.floor((i+s)/2)+7;switch(3&a){case 0:a++;break;case 2:a--;break;case 3:throw new z("Dimensions could be not found.")}return a},t.prototype.calculateModuleSize=function(e,n,r){return(this.calculateModuleSizeOneWay(e,n)+this.calculateModuleSizeOneWay(e,r))/2},t.prototype.calculateModuleSizeOneWay=function(e,n){var r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(n.getX()),Math.floor(n.getY())),o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?o/7:isNaN(o)?r/7:(r+o)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,n,r,o){var i=this.sizeOfBlackWhiteBlackRun(e,n,r,o),s=1,a=e-(r-e);a<0?(s=e/(e-a),a=0):a>=this.image.getWidth()&&(s=(this.image.getWidth()-1-e)/(a-e),a=this.image.getWidth()-1);var u=Math.floor(n-(o-n)*s);return s=1,u<0?(s=n/(n-u),u=0):u>=this.image.getHeight()&&(s=(this.image.getHeight()-1-n)/(u-n),u=this.image.getHeight()-1),a=Math.floor(e+(a-e)*s),(i+=this.sizeOfBlackWhiteBlackRun(e,n,a,u))-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,n,r,o){var i=Math.abs(o-n)>Math.abs(r-e);if(i){var s=e;e=n,n=s,s=r,r=o,o=s}for(var a=Math.abs(r-e),u=Math.abs(o-n),l=-a/2,c=e<r?1:-1,f=n<o?1:-1,d=0,p=r+c,m=e,y=n;m!==p;m+=c){var _=i?y:m,v=i?m:y;if(d===1===this.image.get(_,v)){if(d===2)return be.distance(m,y,e,n);d++}if((l+=u)>0){if(y===o)break;y+=f,l-=a}}return d===2?be.distance(r+c,o,e,n):NaN},t.prototype.findAlignmentInRegion=function(e,n,r,o){var i=Math.floor(o*e),s=Math.max(0,n-i),a=Math.min(this.image.getWidth()-1,n+i);if(a-s<3*e)throw new z("Alignment top exceeds estimated module size.");var u=Math.max(0,r-i),l=Math.min(this.image.getHeight()-1,r+i);if(l-u<3*e)throw new z("Alignment bottom exceeds estimated module size.");return new oV(this.image,s,u,a-s,l-u,e,this.resultPointCallback).find()},t}(),Of=function(){function t(){this.decoder=new eV}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,n){var r,o;if(n!=null&&n.get(Ke.PURE_BARCODE)!==void 0){var i=t.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(i,n),o=t.NO_POINTS}else{var s=new lV(e.getBlackMatrix()).detect(n);r=this.decoder.decodeBitMatrix(s.getBits(),n),o=s.getPoints()}r.getOther()instanceof EA&&r.getOther().applyMirroredCorrection(o);var a=new bn(r.getText(),r.getRawBytes(),void 0,o,le.QR_CODE,void 0),u=r.getByteSegments();u!==null&&a.putMetadata(jt.BYTE_SEGMENTS,u);var l=r.getECLevel();return l!==null&&a.putMetadata(jt.ERROR_CORRECTION_LEVEL,l),r.hasStructuredAppend()&&(a.putMetadata(jt.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),a.putMetadata(jt.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),a},t.prototype.reset=function(){},t.extractPureBits=function(e){var n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n===null||r===null)throw new z;var o=this.moduleSize(n,e),i=n[1],s=r[1],a=n[0],u=r[0];if(a>=u||i>=s)throw new z;if(s-i!=u-a&&(u=a+(s-i))>=e.getWidth())throw new z;var l=Math.round((u-a+1)/o),c=Math.round((s-i+1)/o);if(l<=0||c<=0)throw new z;if(c!==l)throw new z;var f=Math.floor(o/2);i+=f;var d=(a+=f)+Math.floor((l-1)*o)-u;if(d>0){if(d>f)throw new z;a-=d}var p=i+Math.floor((c-1)*o)-s;if(p>0){if(p>f)throw new z;i-=p}for(var m=new oo(l,c),y=0;y<c;y++)for(var _=i+Math.floor(y*o),v=0;v<l;v++)e.get(a+Math.floor(v*o),_)&&m.set(v,y);return m},t.moduleSize=function(e,n){for(var r=n.getHeight(),o=n.getWidth(),i=e[0],s=e[1],a=!0,u=0;i<o&&s<r;){if(a!==n.get(i,s)){if(++u==5)break;a=!a}i++,s++}if(i===o||s===r)throw new z;return(i-e[0])/7},t.NO_POINTS=new Array,t}(),cV=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ae=function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return be.sum(e)},t.toIntArray=function(e){var n,r;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var o=new Int32Array(e.length),i=0;try{for(var s=cV(e),a=s.next();!a.done;a=s.next()){var u=a.value;o[i++]=u}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o},t.getCodeword=function(e){var n=Fn.binarySearch(t.SYMBOL_TABLE,262143&e);return n<0?-1:(t.CODEWORD_TABLE[n]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t}(),fV=function(){function t(e,n){this.bits=e,this.points=n}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),dV=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hV=function(){function t(){}return t.detectMultiple=function(e,n,r){var o=e.getBlackMatrix(),i=t.detect(r,o);return i.length||((o=o.clone()).rotate180(),i=t.detect(r,o)),new fV(o,i)},t.detect=function(e,n){for(var r,o,i=new Array,s=0,a=0,u=!1;s<n.getHeight();){var l=t.findVertices(n,s,a);if(l[0]!=null||l[3]!=null){if(u=!0,i.push(l),!e)break;l[2]!=null?(a=Math.trunc(l[2].getX()),s=Math.trunc(l[2].getY())):(a=Math.trunc(l[4].getX()),s=Math.trunc(l[4].getY()))}else{if(!u)break;u=!1,a=0;try{for(var c=(r=void 0,dV(i)),f=c.next();!f.done;f=c.next()){var d=f.value;d[1]!=null&&(s=Math.trunc(Math.max(s,d[1].getY()))),d[3]!=null&&(s=Math.max(s,Math.trunc(d[3].getY())))}}catch(p){r={error:p}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}s+=t.ROW_STEP}}return i},t.findVertices=function(e,n,r){var o=e.getHeight(),i=e.getWidth(),s=new Array(8);return t.copyToResult(s,t.findRowsWithPattern(e,o,i,n,r,t.START_PATTERN),t.INDEXES_START_PATTERN),s[4]!=null&&(r=Math.trunc(s[4].getX()),n=Math.trunc(s[4].getY())),t.copyToResult(s,t.findRowsWithPattern(e,o,i,n,r,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),s},t.copyToResult=function(e,n,r){for(var o=0;o<r.length;o++)e[r[o]]=n[o]},t.findRowsWithPattern=function(e,n,r,o,i,s){for(var a=new Array(4),u=!1,l=new Int32Array(s.length);o<n;o+=t.ROW_STEP)if((p=t.findGuardPattern(e,i,o,r,!1,s,l))!=null){for(;o>0;){if((d=t.findGuardPattern(e,i,--o,r,!1,s,l))==null){o++;break}p=d}a[0]=new ae(p[0],o),a[1]=new ae(p[1],o),u=!0;break}var c=o+1;if(u){for(var f=0,d=Int32Array.from([Math.trunc(a[0].getX()),Math.trunc(a[1].getX())]);c<n;c++){var p;if((p=t.findGuardPattern(e,d[0],c,r,!1,s,l))!=null&&Math.abs(d[0]-p[0])<t.MAX_PATTERN_DRIFT&&Math.abs(d[1]-p[1])<t.MAX_PATTERN_DRIFT)d=p,f=0;else{if(f>t.SKIPPED_ROW_COUNT_MAX)break;f++}}c-=f+1,a[2]=new ae(d[0],c),a[3]=new ae(d[1],c)}return c-o<t.BARCODE_MIN_HEIGHT&&Fn.fill(a,null),a},t.findGuardPattern=function(e,n,r,o,i,s,a){Fn.fillWithin(a,0,a.length,0);for(var u=n,l=0;e.get(u,r)&&u>0&&l++<t.MAX_PIXEL_DRIFT;)u--;for(var c=u,f=0,d=s.length,p=i;c<o;c++)if(e.get(c,r)!==p)a[f]++;else{if(f===d-1){if(t.patternMatchVariance(a,s,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([u,c]);u+=a[0]+a[1],Je.arraycopy(a,2,a,0,f-1),a[f-1]=0,a[f]=0,f--}else f++;a[f]=1,p=!p}return f===d-1&&t.patternMatchVariance(a,s,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([u,c-1]):null},t.patternMatchVariance=function(e,n,r){for(var o=e.length,i=0,s=0,a=0;a<o;a++)i+=e[a],s+=n[a];if(i<s)return 1/0;var u=i/s;r*=u;for(var l=0,c=0;c<o;c++){var f=e[c],d=n[c]*u,p=f>d?f-d:d-f;if(p>r)return 1/0;l+=p}return l/i},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t}(),pV=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qi=function(){function t(e,n){if(n.length===0)throw new de;this.field=e;var r=n.length;if(r>1&&n[0]===0){for(var o=1;o<r&&n[o]===0;)o++;o===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-o),Je.arraycopy(n,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var n,r;if(e===0)return this.getCoefficient(0);if(e===1){var o=0;try{for(var i=pV(this.coefficients),s=i.next();!s.done;s=i.next()){var a=s.value;o=this.field.add(o,a)}}catch(f){n={error:f}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return o}for(var u=this.coefficients[0],l=this.coefficients.length,c=1;c<l;c++)u=this.field.add(this.field.multiply(e,u),this.coefficients[c]);return u},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new de("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var n=this.coefficients,r=e.coefficients;if(n.length>r.length){var o=n;n=r,r=o}var i=new Int32Array(r.length),s=r.length-n.length;Je.arraycopy(r,0,i,0,s);for(var a=s;a<r.length;a++)i[a]=this.field.add(n[a-s],r[a]);return new t(this.field,i)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new de("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new de("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var n=this.coefficients,r=n.length,o=e.coefficients,i=o.length,s=new Int32Array(r+i-1),a=0;a<r;a++)for(var u=n[a],l=0;l<i;l++)s[a+l]=this.field.add(s[a+l],this.field.multiply(u,o[l]));return new t(this.field,s)},t.prototype.negative=function(){for(var e=this.coefficients.length,n=new Int32Array(e),r=0;r<e;r++)n[r]=this.field.subtract(0,this.coefficients[r]);return new t(this.field,n)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var n=this.coefficients.length,r=new Int32Array(n),o=0;o<n;o++)r[o]=this.field.multiply(this.coefficients[o],e);return new t(this.field,r)},t.prototype.multiplyByMonomial=function(e,n){if(e<0)throw new de;if(n===0)return new t(this.field,new Int32Array([0]));for(var r=this.coefficients.length,o=new Int32Array(r+e),i=0;i<r;i++)o[i]=this.field.multiply(this.coefficients[i],n);return new t(this.field,o)},t.prototype.toString=function(){for(var e=new je,n=this.getDegree();n>=0;n--){var r=this.getCoefficient(n);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),n!==0&&r===1||e.append(r),n!==0&&(n===1?e.append("x"):(e.append("x^"),e.append(n))))}return e.toString()},t}(),mV=function(){function t(){}return t.prototype.add=function(e,n){return(e+n)%this.modulus},t.prototype.subtract=function(e,n){return(this.modulus+e-n)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new de;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new pA;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t}(),gV=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),yV=function(t){function e(n,r){var o=t.call(this)||this;o.modulus=n,o.expTable=new Int32Array(n),o.logTable=new Int32Array(n);for(var i=1,s=0;s<n;s++)o.expTable[s]=i,i=i*r%n;for(s=0;s<n-1;s++)o.logTable[o.expTable[s]]=s;return o.zero=new qi(o,new Int32Array([0])),o.one=new qi(o,new Int32Array([1])),o}return gV(e,t),e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(n,r){if(n<0)throw new de;if(r===0)return this.zero;var o=new Int32Array(n+1);return o[0]=r,new qi(this,o)},e.PDF417_GF=new e(Ae.NUMBER_OF_CODEWORDS,3),e}(mV),vV=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_V=function(){function t(){this.field=yV.PDF417_GF}return t.prototype.decode=function(e,n,r){for(var o,i,s=new qi(this.field,e),a=new Int32Array(n),u=!1,l=n;l>0;l--){var c=s.evaluateAt(this.field.exp(l));a[n-l]=c,c!==0&&(u=!0)}if(!u)return 0;var f=this.field.getOne();if(r!=null)try{for(var d=vV(r),p=d.next();!p.done;p=d.next()){var m=p.value,y=this.field.exp(e.length-1-m),_=new qi(this.field,new Int32Array([this.field.subtract(0,y),1]));f=f.multiply(_)}}catch(C){o={error:C}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(o)throw o.error}}var v=new qi(this.field,a),g=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),v,n),E=g[0],x=g[1],P=this.findErrorLocations(E),N=this.findErrorMagnitudes(x,E,P);for(l=0;l<P.length;l++){var I=e.length-1-this.field.log(P[l]);if(I<0)throw wt.getChecksumInstance();e[I]=this.field.subtract(e[I],N[l])}return P.length},t.prototype.runEuclideanAlgorithm=function(e,n,r){if(e.getDegree()<n.getDegree()){var o=e;e=n,n=o}for(var i=e,s=n,a=this.field.getZero(),u=this.field.getOne();s.getDegree()>=Math.round(r/2);){var l=i,c=a;if(a=u,(i=s).isZero())throw wt.getChecksumInstance();s=l;for(var f=this.field.getZero(),d=i.getCoefficient(i.getDegree()),p=this.field.inverse(d);s.getDegree()>=i.getDegree()&&!s.isZero();){var m=s.getDegree()-i.getDegree(),y=this.field.multiply(s.getCoefficient(s.getDegree()),p);f=f.add(this.field.buildMonomial(m,y)),s=s.subtract(i.multiplyByMonomial(m,y))}u=f.multiply(a).subtract(c).negative()}var _=u.getCoefficient(0);if(_===0)throw wt.getChecksumInstance();var v=this.field.inverse(_);return[u.multiply(v),s.multiply(v)]},t.prototype.findErrorLocations=function(e){for(var n=e.getDegree(),r=new Int32Array(n),o=0,i=1;i<this.field.getSize()&&o<n;i++)e.evaluateAt(i)===0&&(r[o]=this.field.inverse(i),o++);if(o!==n)throw wt.getChecksumInstance();return r},t.prototype.findErrorMagnitudes=function(e,n,r){for(var o=n.getDegree(),i=new Int32Array(o),s=1;s<=o;s++)i[o-s]=this.field.multiply(s,n.getCoefficient(s));var a=new qi(this.field,i),u=r.length,l=new Int32Array(u);for(s=0;s<u;s++){var c=this.field.inverse(r[s]),f=this.field.subtract(0,e.evaluateAt(c)),d=this.field.inverse(a.evaluateAt(c));l[s]=this.field.multiply(f,d)}return l},t}(),G2=function(){function t(e,n,r,o,i){e instanceof t?this.constructor_2(e):this.constructor_1(e,n,r,o,i)}return t.prototype.constructor_1=function(e,n,r,o,i){var s=n==null||r==null,a=o==null||i==null;if(s&&a)throw new z;s?(n=new ae(0,o.getY()),r=new ae(0,i.getY())):a&&(o=new ae(e.getWidth()-1,n.getY()),i=new ae(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=n,this.bottomLeft=r,this.topRight=o,this.bottomRight=i,this.minX=Math.trunc(Math.min(n.getX(),r.getX())),this.maxX=Math.trunc(Math.max(o.getX(),i.getX())),this.minY=Math.trunc(Math.min(n.getY(),o.getY())),this.maxY=Math.trunc(Math.max(r.getY(),i.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,n){return e==null?n:n==null?e:new t(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)},t.prototype.addMissingRows=function(e,n,r){var o=this.topLeft,i=this.bottomLeft,s=this.topRight,a=this.bottomRight;if(e>0){var u=r?this.topLeft:this.topRight,l=Math.trunc(u.getY()-e);l<0&&(l=0);var c=new ae(u.getX(),l);r?o=c:s=c}if(n>0){var f=r?this.bottomLeft:this.bottomRight,d=Math.trunc(f.getY()+n);d>=this.image.getHeight()&&(d=this.image.getHeight()-1);var p=new ae(f.getX(),d);r?i=p:a=p}return new t(this.image,o,i,s,a)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t}(),wV=function(){function t(e,n,r,o){this.columnCount=e,this.errorCorrectionLevel=o,this.rowCountUpperPart=n,this.rowCountLowerPart=r,this.rowCount=n+r}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t}(),vy=function(){function t(){this.buffer=""}return t.form=function(e,n){var r=-1;return e.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function(o,i,s,a,u,l){if(o==="%%")return"%";if(n[++r]!==void 0){o=a?parseInt(a.substr(1)):void 0;var c,f=u?parseInt(u.substr(1)):void 0;switch(l){case"s":c=n[r];break;case"c":c=n[r][0];break;case"f":c=parseFloat(n[r]).toFixed(o);break;case"p":c=parseFloat(n[r]).toPrecision(o);break;case"e":c=parseFloat(n[r]).toExponential(o);break;case"x":c=parseInt(n[r]).toString(f||16);break;case"d":c=parseFloat(parseInt(n[r],f||10).toPrecision(o)).toFixed(0)}c=typeof c=="object"?JSON.stringify(c):(+c).toString(f);for(var d=parseInt(s),p=s&&s[0]+""=="0"?"0":" ";c.length<d;)c=i!==void 0?c+p:p+c;return c}})},t.prototype.format=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.buffer+=t.form(e,n)},t.prototype.toString=function(){return this.buffer},t}(),EV=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xA=function(){function t(e){this.boundingBox=new G2(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var n=this.getCodeword(e);if(n!=null)return n;for(var r=1;r<t.MAX_NEARBY_DISTANCE;r++){var o=this.imageRowToCodewordIndex(e)-r;if(o>=0&&(n=this.codewords[o])!=null||(o=this.imageRowToCodewordIndex(e)+r)<this.codewords.length&&(n=this.codewords[o])!=null)return n}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,n){this.codewords[this.imageRowToCodewordIndex(e)]=n},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,n,r=new vy,o=0;try{for(var i=EV(this.codewords),s=i.next();!s.done;s=i.next()){var a=s.value;a!=null?r.format("%3d: %3d|%3d%n",o++,a.getRowNumber(),a.getValue()):r.format("%3d:    |   %n",o++)}}catch(u){e={error:u}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r.toString()},t.MAX_NEARBY_DISTANCE=5,t}(),xV=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},CV=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},Mu=function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var n=this.values.get(e);n==null&&(n=0),n++,this.values.set(e,n)},t.prototype.getValue=function(){var e,n,r=-1,o=new Array,i=function(l,c){var f=function(){return l},d=function(){return c};d()>r?(r=d(),(o=[]).push(f())):d()===r&&o.push(f())};try{for(var s=xV(this.values.entries()),a=s.next();!a.done;a=s.next()){var u=CV(a.value,2);i(u[0],u[1])}}catch(l){e={error:l}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return Ae.toIntArray(o)},t.prototype.getConfidence=function(e){return this.values.get(e)},t}(),AV=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ep=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dE=function(t){function e(n,r){var o=t.call(this,n)||this;return o._isLeft=r,o}return AV(e,t),e.prototype.setRowNumbers=function(){var n,r;try{for(var o=ep(this.getCodewords()),i=o.next();!i.done;i=o.next()){var s=i.value;s!=null&&s.setRowNumberAsRowIndicatorColumn()}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(n){var r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,n);for(var o=this.getBoundingBox(),i=this._isLeft?o.getTopLeft():o.getTopRight(),s=this._isLeft?o.getBottomLeft():o.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(i.getY())),u=this.imageRowToCodewordIndex(Math.trunc(s.getY())),l=-1,c=1,f=0,d=a;d<u;d++)if(r[d]!=null){var p=r[d],m=p.getRowNumber()-l;if(m===0)f++;else if(m===1)c=Math.max(c,f),f=1,l=p.getRowNumber();else if(m<0||p.getRowNumber()>=n.getRowCount()||m>d)r[d]=null;else{for(var y=void 0,_=(y=c>2?(c-2)*m:m)>=d,v=1;v<=y&&!_;v++)_=r[d-v]!=null;_?r[d]=null:(l=p.getRowNumber(),f=1)}}},e.prototype.getRowHeights=function(){var n,r,o=this.getBarcodeMetadata();if(o==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(o);var i=new Int32Array(o.getRowCount());try{for(var s=ep(this.getCodewords()),a=s.next();!a.done;a=s.next()){var u=a.value;if(u!=null){var l=u.getRowNumber();if(l>=i.length)continue;i[l]++}}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(n){for(var r=this.getBoundingBox(),o=this._isLeft?r.getTopLeft():r.getTopRight(),i=this._isLeft?r.getBottomLeft():r.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(o.getY())),a=this.imageRowToCodewordIndex(Math.trunc(i.getY())),u=this.getCodewords(),l=-1,c=s;c<a;c++)if(u[c]!=null){var f=u[c];f.setRowNumberAsRowIndicatorColumn();var d=f.getRowNumber()-l;d===0||(d===1?l=f.getRowNumber():f.getRowNumber()>=n.getRowCount()?u[c]=null:l=f.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var n,r,o=this.getCodewords(),i=new Mu,s=new Mu,a=new Mu,u=new Mu;try{for(var l=ep(o),c=l.next();!c.done;c=l.next()){var f=c.value;if(f!=null){f.setRowNumberAsRowIndicatorColumn();var d=f.getValue()%30,p=f.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:s.setValue(3*d+1);break;case 1:u.setValue(d/3),a.setValue(d%3);break;case 2:i.setValue(d+1)}}}}catch(y){n={error:y}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}if(i.getValue().length===0||s.getValue().length===0||a.getValue().length===0||u.getValue().length===0||i.getValue()[0]<1||s.getValue()[0]+a.getValue()[0]<Ae.MIN_ROWS_IN_BARCODE||s.getValue()[0]+a.getValue()[0]>Ae.MAX_ROWS_IN_BARCODE)return null;var m=new wV(i.getValue()[0],s.getValue()[0],a.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(o,m),m},e.prototype.removeIncorrectCodewords=function(n,r){for(var o=0;o<n.length;o++){var i=n[o];if(n[o]!=null){var s=i.getValue()%30,a=i.getRowNumber();if(a>r.getRowCount())n[o]=null;else switch(this._isLeft||(a+=2),a%3){case 0:3*s+1!==r.getRowCountUpperPart()&&(n[o]=null);break;case 1:Math.trunc(s/3)===r.getErrorCorrectionLevel()&&s%3===r.getRowCountLowerPart()||(n[o]=null);break;case 2:s+1!==r.getColumnCount()&&(n[o]=null)}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e}(xA),IV=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},TV=function(){function t(e,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e,n=Ae.MAX_CODEWORDS_IN_BARCODE;do e=n,n=this.adjustRowNumbersAndGetCount();while(n>0&&n<e);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var n=1;n<this.barcodeColumnCount+1;n++)for(var r=this.detectionResultColumns[n].getCodewords(),o=0;o<r.length;o++)r[o]!=null&&(r[o].hasValidRowNumber()||this.adjustRowNumbers(n,o,r));return e},t.prototype.adjustRowNumbersByRow=function(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(this.detectionResultColumns[0]!=null&&this.detectionResultColumns[this.barcodeColumnCount+1]!=null){for(var e=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<e.length;r++)if(e[r]!=null&&n[r]!=null&&e[r].getRowNumber()===n[r].getRowNumber())for(var o=1;o<=this.barcodeColumnCount;o++){var i=this.detectionResultColumns[o].getCodewords()[r];i!=null&&(i.setRowNumber(e[r].getRowNumber()),i.hasValidRowNumber()||(this.detectionResultColumns[o].getCodewords()[r]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<n.length;r++)if(n[r]!=null)for(var o=n[r].getRowNumber(),i=0,s=this.barcodeColumnCount+1;s>0&&i<this.ADJUST_ROW_NUMBER_SKIP;s--){var a=this.detectionResultColumns[s].getCodewords()[r];a!=null&&(i=t.adjustRowNumberIfValid(o,i,a),a.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,n=this.detectionResultColumns[0].getCodewords(),r=0;r<n.length;r++)if(n[r]!=null)for(var o=n[r].getRowNumber(),i=0,s=1;s<this.barcodeColumnCount+1&&i<this.ADJUST_ROW_NUMBER_SKIP;s++){var a=this.detectionResultColumns[s].getCodewords()[r];a!=null&&(i=t.adjustRowNumberIfValid(o,i,a),a.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,n,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),n=0):++n),n},t.prototype.adjustRowNumbers=function(e,n,r){var o,i,s=r[n],a=this.detectionResultColumns[e-1].getCodewords(),u=a;this.detectionResultColumns[e+1]!=null&&(u=this.detectionResultColumns[e+1].getCodewords());var l=new Array(14);l[2]=a[n],l[3]=u[n],n>0&&(l[0]=r[n-1],l[4]=a[n-1],l[5]=u[n-1]),n>1&&(l[8]=r[n-2],l[10]=a[n-2],l[11]=u[n-2]),n<r.length-1&&(l[1]=r[n+1],l[6]=a[n+1],l[7]=u[n+1]),n<r.length-2&&(l[9]=r[n+2],l[12]=a[n+2],l[13]=u[n+2]);try{for(var c=IV(l),f=c.next();!f.done;f=c.next()){var d=f.value;if(t.adjustRowNumber(s,d))return}}catch(p){o={error:p}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(o)throw o.error}}},t.adjustRowNumber=function(e,n){return n!=null&&!(!n.hasValidRowNumber()||n.getBucket()!==e.getBucket())&&(e.setRowNumber(n.getRowNumber()),!0)},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,n){this.detectionResultColumns[e]=n},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var n=new vy,r=0;r<e.getCodewords().length;r++){n.format("CW %3d:",r);for(var o=0;o<this.barcodeColumnCount+2;o++)if(this.detectionResultColumns[o]!=null){var i=this.detectionResultColumns[o].getCodewords()[r];i!=null?n.format(" %3d|%3d",i.getRowNumber(),i.getValue()):n.format("    |   ")}else n.format("    |   ");n.format("%n")}return n.toString()},t}(),SV=function(){function t(e,n,r,o){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(r),this.value=Math.trunc(o)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t}(),bV=function(){function t(){}return t.initialize=function(){for(var e=0;e<Ae.SYMBOL_TABLE.length;e++)for(var n=Ae.SYMBOL_TABLE[e],r=1&n,o=0;o<Ae.BARS_IN_MODULE;o++){for(var i=0;(1&n)===r;)i+=1,n>>=1;r=1&n,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(Ae.BARS_IN_MODULE)),t.RATIOS_TABLE[e][Ae.BARS_IN_MODULE-o-1]=Math.fround(i/Ae.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var n=t.getDecodedCodewordValue(t.sampleBitCounts(e));return n!==-1?n:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var n=be.sum(e),r=new Int32Array(Ae.BARS_IN_MODULE),o=0,i=0,s=0;s<Ae.MODULES_IN_CODEWORD;s++){var a=n/(2*Ae.MODULES_IN_CODEWORD)+s*n/Ae.MODULES_IN_CODEWORD;i+e[o]<=a&&(i+=e[o],o++),r[o]++}return r},t.getDecodedCodewordValue=function(e){var n=t.getBitValue(e);return Ae.getCodeword(n)===-1?-1:n},t.getBitValue=function(e){for(var n=0,r=0;r<e.length;r++)for(var o=0;o<e[r];o++)n=n<<1|(r%2==0?1:0);return Math.trunc(n)},t.getClosestDecodedValue=function(e){var n=be.sum(e),r=new Array(Ae.BARS_IN_MODULE);if(n>1)for(var o=0;o<r.length;o++)r[o]=Math.fround(e[o]/n);var i=H2.MAX_VALUE,s=-1;this.bSymbolTableReady||t.initialize();for(var a=0;a<t.RATIOS_TABLE.length;a++){for(var u=0,l=t.RATIOS_TABLE[a],c=0;c<Ae.BARS_IN_MODULE;c++){var f=Math.fround(l[c]-r[c]);if((u+=Math.fround(f*f))>=i)break}u<i&&(i=u,s=Ae.SYMBOL_TABLE[a])}return s},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(Ae.SYMBOL_TABLE.length).map(function(e){return new Array(Ae.BARS_IN_MODULE)}),t}(),RV=function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t}(),hE=function(){function t(){}return t.parseLong=function(e,n){return n===void 0&&(n=void 0),parseInt(e,n)},t}(),PV=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),DV=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return PV(e,t),e.kind="NullPointerException",e}(Sn),NV=function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,n,r){if(e==null)throw new DV;if(n<0||n>e.length||r<0||n+r>e.length||n+r<0)throw new py;if(r!==0)for(var o=0;o<r;o++)this.write(e[n+o])},t.prototype.flush=function(){},t.prototype.close=function(){},t}(),OV=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),kV=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return OV(e,t),e}(Sn),BV=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),MV=function(t){function e(n){n===void 0&&(n=32);var r=t.call(this)||this;if(r.count=0,n<0)throw new de("Negative initial size: "+n);return r.buf=new Uint8Array(n),r}return BV(e,t),e.prototype.ensureCapacity=function(n){n-this.buf.length>0&&this.grow(n)},e.prototype.grow=function(n){var r=this.buf.length<<1;if(r-n<0&&(r=n),r<0){if(n<0)throw new kV;r=Vt.MAX_VALUE}this.buf=Fn.copyOfUint8Array(this.buf,r)},e.prototype.write=function(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1},e.prototype.writeBytesOffset=function(n,r,o){if(r<0||r>n.length||o<0||r+o-n.length>0)throw new py;this.ensureCapacity(this.count+o),Je.arraycopy(n,r,this.buf,this.count,o),this.count+=o},e.prototype.writeTo=function(n){n.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return Fn.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(n){return new String(this.buf).toString()},e.prototype.toString_number=function(n){return new String(this.buf).toString()},e.prototype.close=function(){},e}(NV);function CA(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}function Co(t){if(Zc===void 0&&(Zc=CA()),Zc===null)throw new Error("BigInt is not supported!");return Zc(t)}(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Fe||(Fe={}));var FV=function(){function t(){}return t.decode=function(e,n){var r=new je(""),o=wn.ISO8859_1;r.enableDecoding(o);for(var i=1,s=e[i++],a=new RV;i<e[0];){switch(s){case t.TEXT_COMPACTION_MODE_LATCH:i=t.textCompaction(e,i,r);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:i=t.byteCompaction(s,e,o,i,r);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[i++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:i=t.numericCompaction(e,i,r);break;case t.ECI_CHARSET:wn.getCharacterSetECIByValue(e[i++]);break;case t.ECI_GENERAL_PURPOSE:i+=2;break;case t.ECI_USER_DEFINED:i++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:i=t.decodeMacroBlock(e,i,a);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new J;default:i--,i=t.textCompaction(e,i,r)}if(!(i<e.length))throw J.getFormatInstance();s=e[i++]}if(r.length()===0)throw J.getFormatInstance();var u=new Zd(null,r.toString(),null,n);return u.setOther(a),u},t.decodeMacroBlock=function(e,n,r){if(n+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw J.getFormatInstance();for(var o=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),i=0;i<t.NUMBER_OF_SEQUENCE_CODEWORDS;i++,n++)o[i]=e[n];r.setSegmentIndex(Vt.parseInt(t.decodeBase900toBase10(o,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var s=new je;n=t.textCompaction(e,n,s),r.setFileId(s.toString());var a=-1;for(e[n]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(a=n+1);n<e[0];)switch(e[n]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(e[++n]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var u=new je;n=t.textCompaction(e,n+1,u),r.setFileName(u.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var l=new je;n=t.textCompaction(e,n+1,l),r.setSender(l.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var c=new je;n=t.textCompaction(e,n+1,c),r.setAddressee(c.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var f=new je;n=t.numericCompaction(e,n+1,f),r.setSegmentCount(Vt.parseInt(f.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var d=new je;n=t.numericCompaction(e,n+1,d),r.setTimestamp(hE.parseLong(d.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var p=new je;n=t.numericCompaction(e,n+1,p),r.setChecksum(Vt.parseInt(p.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var m=new je;n=t.numericCompaction(e,n+1,m),r.setFileSize(hE.parseLong(m.toString()));break;default:throw J.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:n++,r.setLastSegment(!0);break;default:throw J.getFormatInstance()}if(a!==-1){var y=n-a;r.isLastSegment()&&y--,r.setOptionalData(Fn.copyOfRange(e,a,a+y))}return n},t.textCompaction=function(e,n,r){for(var o=new Int32Array(2*(e[0]-n)),i=new Int32Array(2*(e[0]-n)),s=0,a=!1;n<e[0]&&!a;){var u=e[n++];if(u<t.TEXT_COMPACTION_MODE_LATCH)o[s]=u/30,o[s+1]=u%30,s+=2;else switch(u){case t.TEXT_COMPACTION_MODE_LATCH:o[s++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:n--,a=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[s]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,u=e[n++],i[s]=u,s++}}return t.decodeTextCompaction(o,i,s,r),n},t.decodeTextCompaction=function(e,n,r,o){for(var i=Fe.ALPHA,s=Fe.ALPHA,a=0;a<r;){var u=e[a],l="";switch(i){case Fe.ALPHA:if(u<26)l=String.fromCharCode(65+u);else switch(u){case 26:l=" ";break;case t.LL:i=Fe.LOWER;break;case t.ML:i=Fe.MIXED;break;case t.PS:s=i,i=Fe.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[a]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=Fe.ALPHA}break;case Fe.LOWER:if(u<26)l=String.fromCharCode(97+u);else switch(u){case 26:l=" ";break;case t.AS:s=i,i=Fe.ALPHA_SHIFT;break;case t.ML:i=Fe.MIXED;break;case t.PS:s=i,i=Fe.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[a]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=Fe.ALPHA}break;case Fe.MIXED:if(u<t.PL)l=t.MIXED_CHARS[u];else switch(u){case t.PL:i=Fe.PUNCT;break;case 26:l=" ";break;case t.LL:i=Fe.LOWER;break;case t.AL:i=Fe.ALPHA;break;case t.PS:s=i,i=Fe.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[a]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=Fe.ALPHA}break;case Fe.PUNCT:if(u<t.PAL)l=t.PUNCT_CHARS[u];else switch(u){case t.PAL:i=Fe.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[a]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=Fe.ALPHA}break;case Fe.ALPHA_SHIFT:if(i=s,u<26)l=String.fromCharCode(65+u);else switch(u){case 26:l=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:i=Fe.ALPHA}break;case Fe.PUNCT_SHIFT:if(i=s,u<t.PAL)l=t.PUNCT_CHARS[u];else switch(u){case t.PAL:i=Fe.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[a]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=Fe.ALPHA}}l!==""&&o.append(l),a++}},t.byteCompaction=function(e,n,r,o,i){var s=new MV,a=0,u=0,l=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var c=new Int32Array(6),f=n[o++];o<n[0]&&!l;)switch(c[a++]=f,u=900*u+f,f=n[o++]){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:o--,l=!0;break;default:if(a%5==0&&a>0){for(var d=0;d<6;++d)s.write(Number(Co(u)>>Co(8*(5-d))));u=0,a=0}}o===n[0]&&f<t.TEXT_COMPACTION_MODE_LATCH&&(c[a++]=f);for(var p=0;p<a;p++)s.write(c[p]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;o<n[0]&&!l;){var m=n[o++];if(m<t.TEXT_COMPACTION_MODE_LATCH)a++,u=900*u+m;else switch(m){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:o--,l=!0}if(a%5==0&&a>0){for(d=0;d<6;++d)s.write(Number(Co(u)>>Co(8*(5-d))));u=0,a=0}}}return i.append(Zi.decode(s.toByteArray(),r)),o},t.numericCompaction=function(e,n,r){for(var o=0,i=!1,s=new Int32Array(t.MAX_NUMERIC_CODEWORDS);n<e[0]&&!i;){var a=e[n++];if(n===e[0]&&(i=!0),a<t.TEXT_COMPACTION_MODE_LATCH)s[o]=a,o++;else switch(a){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:n--,i=!0}(o%t.MAX_NUMERIC_CODEWORDS==0||a===t.NUMERIC_COMPACTION_MODE_LATCH||i)&&o>0&&(r.append(t.decodeBase900toBase10(s,o)),o=0)}return n},t.decodeBase900toBase10=function(e,n){for(var r=Co(0),o=0;o<n;o++)r+=t.EXP900[n-o-1]*Co(e[o]);var i=r.toString();if(i.charAt(0)!=="1")throw new J;return i.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=CA()?function(){var e=[];e[0]=Co(1);var n=Co(900);e[1]=n;for(var r=2;r<16;r++)e[r]=e[r-1]*n;return e}():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t}(),wu=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},LV=function(){function t(){}return t.decode=function(e,n,r,o,i,s,a){for(var u,l=new G2(e,n,r,o,i),c=null,f=null,d=!0;;d=!1){if(n!=null&&(c=t.getRowIndicatorColumn(e,l,n,!0,s,a)),o!=null&&(f=t.getRowIndicatorColumn(e,l,o,!1,s,a)),(u=t.merge(c,f))==null)throw z.getNotFoundInstance();var p=u.getBoundingBox();if(!d||p==null||!(p.getMinY()<l.getMinY()||p.getMaxY()>l.getMaxY()))break;l=p}u.setBoundingBox(l);var m=u.getBarcodeColumnCount()+1;u.setDetectionResultColumn(0,c),u.setDetectionResultColumn(m,f);for(var y=c!=null,_=1;_<=m;_++){var v=y?_:m-_;if(u.getDetectionResultColumn(v)===void 0){var g=void 0;g=v===0||v===m?new dE(l,v===0):new xA(l),u.setDetectionResultColumn(v,g);for(var E=-1,x=E,P=l.getMinY();P<=l.getMaxY();P++){if((E=t.getStartColumn(u,v,P,y))<0||E>l.getMaxX()){if(x===-1)continue;E=x}var N=t.detectCodeword(e,l.getMinX(),l.getMaxX(),y,E,P,s,a);N!=null&&(g.setCodeword(P,N),x=E,s=Math.min(s,N.getWidth()),a=Math.max(a,N.getWidth()))}}}return t.createDecoderResult(u)},t.merge=function(e,n){if(e==null&&n==null)return null;var r=t.getBarcodeMetadata(e,n);if(r==null)return null;var o=G2.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(n));return new TV(r,o)},t.adjustBoundingBox=function(e){var n,r;if(e==null)return null;var o=e.getRowHeights();if(o==null)return null;var i=t.getMax(o),s=0;try{for(var a=wu(o),u=a.next();!u.done;u=a.next()){var l=u.value;if(s+=i-l,l>0)break}}catch(p){n={error:p}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}for(var c=e.getCodewords(),f=0;s>0&&c[f]==null;f++)s--;var d=0;for(f=o.length-1;f>=0&&(d+=i-o[f],!(o[f]>0));f--);for(f=c.length-1;d>0&&c[f]==null;f--)d--;return e.getBoundingBox().addMissingRows(s,d,e.isLeft())},t.getMax=function(e){var n,r,o=-1;try{for(var i=wu(e),s=i.next();!s.done;s=i.next()){var a=s.value;o=Math.max(o,a)}}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return o},t.getBarcodeMetadata=function(e,n){var r,o;return e==null||(r=e.getBarcodeMetadata())==null?n==null?null:n.getBarcodeMetadata():n==null||(o=n.getBarcodeMetadata())==null?r:r.getColumnCount()!==o.getColumnCount()&&r.getErrorCorrectionLevel()!==o.getErrorCorrectionLevel()&&r.getRowCount()!==o.getRowCount()?null:r},t.getRowIndicatorColumn=function(e,n,r,o,i,s){for(var a=new dE(n,o),u=0;u<2;u++)for(var l=u===0?1:-1,c=Math.trunc(Math.trunc(r.getX())),f=Math.trunc(Math.trunc(r.getY()));f<=n.getMaxY()&&f>=n.getMinY();f+=l){var d=t.detectCodeword(e,0,e.getWidth(),o,c,f,i,s);d!=null&&(a.setCodeword(f,d),c=o?d.getStartX():d.getEndX())}return a},t.adjustCodewordCount=function(e,n){var r=n[0][1],o=r.getValue(),i=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(o.length===0){if(i<1||i>Ae.MAX_CODEWORDS_IN_BARCODE)throw z.getNotFoundInstance();r.setValue(i)}else o[0]!==i&&r.setValue(i)},t.createDecoderResult=function(e){var n=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,n);for(var r=new Array,o=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),i=[],s=new Array,a=0;a<e.getBarcodeRowCount();a++)for(var u=0;u<e.getBarcodeColumnCount();u++){var l=n[a][u+1].getValue(),c=a*e.getBarcodeColumnCount()+u;l.length===0?r.push(c):l.length===1?o[c]=l[0]:(s.push(c),i.push(l))}for(var f=new Array(i.length),d=0;d<f.length;d++)f[d]=i[d];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),o,Ae.toIntArray(r),Ae.toIntArray(s),f)},t.createDecoderResultFromAmbiguousValues=function(e,n,r,o,i){for(var s=new Int32Array(o.length),a=100;a-- >0;){for(var u=0;u<s.length;u++)n[o[u]]=i[u][s[u]];try{return t.decodeCodewords(n,e,r)}catch(l){if(!(l instanceof wt))throw l}if(s.length===0)throw wt.getChecksumInstance();for(u=0;u<s.length;u++){if(s[u]<i[u].length-1){s[u]++;break}if(s[u]=0,u===s.length-1)throw wt.getChecksumInstance()}}throw wt.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var n,r,o,i,s=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),a=0;a<s.length;a++)for(var u=0;u<s[a].length;u++)s[a][u]=new Mu;var l=0;try{for(var c=wu(e.getDetectionResultColumns()),f=c.next();!f.done;f=c.next()){var d=f.value;if(d!=null)try{for(var p=(o=void 0,wu(d.getCodewords())),m=p.next();!m.done;m=p.next()){var y=m.value;if(y!=null){var _=y.getRowNumber();if(_>=0){if(_>=s.length)continue;s[_][l].setValue(y.getValue())}}}}catch(v){o={error:v}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(o)throw o.error}}l++}}catch(v){n={error:v}}finally{try{f&&!f.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return s},t.isValidBarcodeColumn=function(e,n){return n>=0&&n<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,n,r,o){var i,s,a=o?1:-1,u=null;if(t.isValidBarcodeColumn(e,n-a)&&(u=e.getDetectionResultColumn(n-a).getCodeword(r)),u!=null)return o?u.getEndX():u.getStartX();if((u=e.getDetectionResultColumn(n).getCodewordNearby(r))!=null)return o?u.getStartX():u.getEndX();if(t.isValidBarcodeColumn(e,n-a)&&(u=e.getDetectionResultColumn(n-a).getCodewordNearby(r)),u!=null)return o?u.getEndX():u.getStartX();for(var l=0;t.isValidBarcodeColumn(e,n-a);){n-=a;try{for(var c=(i=void 0,wu(e.getDetectionResultColumn(n).getCodewords())),f=c.next();!f.done;f=c.next()){var d=f.value;if(d!=null)return(o?d.getEndX():d.getStartX())+a*l*(d.getEndX()-d.getStartX())}}catch(p){i={error:p}}finally{try{f&&!f.done&&(s=c.return)&&s.call(c)}finally{if(i)throw i.error}}l++}return o?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,n,r,o,i,s,a,u){i=t.adjustCodewordStartColumn(e,n,r,o,i,s);var l,c=t.getModuleBitCount(e,n,r,o,i,s);if(c==null)return null;var f=be.sum(c);if(o)l=i+f;else{for(var d=0;d<c.length/2;d++){var p=c[d];c[d]=c[c.length-1-d],c[c.length-1-d]=p}i=(l=i)-f}if(!t.checkCodewordSkew(f,a,u))return null;var m=bV.getDecodedValue(c),y=Ae.getCodeword(m);return y===-1?null:new SV(i,l,t.getCodewordBucketNumber(m),y)},t.getModuleBitCount=function(e,n,r,o,i,s){for(var a=i,u=new Int32Array(8),l=0,c=o?1:-1,f=o;(o?a<r:a>=n)&&l<u.length;)e.get(a,s)===f?(u[l]++,a+=c):(l++,f=!f);return l===u.length||a===(o?r:n)&&l===u.length-1?u:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,n,r,o,i,s){for(var a=i,u=o?-1:1,l=0;l<2;l++){for(;(o?a>=n:a<r)&&o===e.get(a,s);){if(Math.abs(i-a)>t.CODEWORD_SKEW_SIZE)return i;a+=u}u=-u,o=!o}return a},t.checkCodewordSkew=function(e,n,r){return n-t.CODEWORD_SKEW_SIZE<=e&&e<=r+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,n,r){if(e.length===0)throw J.getFormatInstance();var o=1<<n+1,i=t.correctErrors(e,r,o);t.verifyCodewordCount(e,o);var s=FV.decode(e,""+n);return s.setErrorsCorrected(i),s.setErasures(r.length),s},t.correctErrors=function(e,n,r){if(n!=null&&n.length>r/2+t.MAX_ERRORS||r<0||r>t.MAX_EC_CODEWORDS)throw wt.getChecksumInstance();return t.errorCorrection.decode(e,r,n)},t.verifyCodewordCount=function(e,n){if(e.length<4)throw J.getFormatInstance();var r=e[0];if(r>e.length)throw J.getFormatInstance();if(r===0){if(!(n<e.length))throw J.getFormatInstance();e[0]=e.length-n}},t.getBitCountForCodeword=function(e){for(var n=new Int32Array(8),r=0,o=n.length-1;!((1&e)!==r&&(r=1&e,--o<0));)n[o]++,e>>=1;return n},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var n=new vy,r=0;r<e.length;r++){n.format("Row %2d: ",r);for(var o=0;o<e[r].length;o++){var i=e[r][o];i.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",i.getValue()[0],i.getConfidence(i.getValue()[0]))}n.format("%n")}return n.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new _V,t}(),VV=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kf=function(){function t(){}return t.prototype.decode=function(e,n){n===void 0&&(n=null);var r=t.decode(e,n,!1);if(r==null||r.length===0||r[0]==null)throw z.getNotFoundInstance();return r[0]},t.prototype.decodeMultiple=function(e,n){n===void 0&&(n=null);try{return t.decode(e,n,!0)}catch(r){throw r instanceof J||r instanceof wt?z.getNotFoundInstance():r}},t.decode=function(e,n,r){var o,i,s=new Array,a=hV.detectMultiple(e,n,r);try{for(var u=VV(a.getPoints()),l=u.next();!l.done;l=u.next()){var c=l.value,f=LV.decode(a.getBits(),c[4],c[5],c[6],c[7],t.getMinCodewordWidth(c),t.getMaxCodewordWidth(c)),d=new bn(f.getText(),f.getRawBytes(),void 0,c,le.PDF_417);d.putMetadata(jt.ERROR_CORRECTION_LEVEL,f.getECLevel());var p=f.getOther();p!=null&&d.putMetadata(jt.PDF417_EXTRA_METADATA,p),s.push(d)}}catch(m){o={error:m}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}return s.map(function(m){return m})},t.getMaxWidth=function(e,n){return e==null||n==null?0:Math.trunc(Math.abs(e.getX()-n.getX()))},t.getMinWidth=function(e,n){return e==null||n==null?Vt.MAX_VALUE:Math.trunc(Math.abs(e.getX()-n.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*Ae.MODULES_IN_CODEWORD/Ae.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*Ae.MODULES_IN_CODEWORD/Ae.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*Ae.MODULES_IN_CODEWORD/Ae.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*Ae.MODULES_IN_CODEWORD/Ae.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t}(),jV=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),pE=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return jV(e,t),e.kind="ReaderException",e}(Sn),mE=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},AA=function(){function t(){}return t.prototype.decode=function(e,n){return this.setHints(n),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return this.readers!==null&&this.readers!==void 0||this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var n=e!=null&&e.get(Ke.TRY_HARDER)!==void 0,r=e==null?null:e.get(Ke.POSSIBLE_FORMATS),o=new Array;if(r!=null){var i=r.some(function(s){return s===le.UPC_A||s===le.UPC_E||s===le.EAN_13||s===le.EAN_8||s===le.CODABAR||s===le.CODE_39||s===le.CODE_93||s===le.CODE_128||s===le.ITF||s===le.RSS_14||s===le.RSS_EXPANDED});i&&!n&&o.push(new zs(e)),r.includes(le.QR_CODE)&&o.push(new Of),r.includes(le.DATA_MATRIX)&&o.push(new Nf),r.includes(le.AZTEC)&&o.push(new Pf),r.includes(le.PDF_417)&&o.push(new kf),i&&n&&o.push(new zs(e))}o.length===0&&(n||o.push(new zs(e)),o.push(new Of),o.push(new Nf),o.push(new Pf),o.push(new kf),n&&o.push(new zs(e))),this.readers=o},t.prototype.reset=function(){var e,n;if(this.readers!==null)try{for(var r=mE(this.readers),o=r.next();!o.done;o=r.next())o.value.reset()}catch(i){e={error:i}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var n,r;if(this.readers===null)throw new pE("No readers where selected, nothing can be read.");try{for(var o=mE(this.readers),i=o.next();!i.done;i=o.next()){var s=i.value;try{return s.decode(e,this.hints)}catch(a){if(a instanceof pE)continue}}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}throw new z("No MultiFormat Readers were able to detect the code.")},t}(),UV=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){function e(n,r){n===void 0&&(n=null),r===void 0&&(r=500);var o=new AA;return o.setHints(n),t.call(this,o,r)||this}UV(e,t),e.prototype.decodeBitmap=function(n){return this.reader.decodeWithState(n)}})($a);var $V=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){function e(n){return n===void 0&&(n=500),t.call(this,new kf,n)||this}$V(e,t)})($a);var gE,HV=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){function e(n){return n===void 0&&(n=500),t.call(this,new Of,n)||this}HV(e,t)})($a),function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.MIN_SIZE=3]="MIN_SIZE",t[t.MAX_SIZE=4]="MAX_SIZE",t[t.MARGIN=5]="MARGIN",t[t.PDF417_COMPACT=6]="PDF417_COMPACT",t[t.PDF417_COMPACTION=7]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=9]="AZTEC_LAYERS",t[t.QR_VERSION=10]="QR_VERSION"}(gE||(gE={}));var zV=function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var n=0,r=e.getArray(),o=e.getWidth(),i=e.getHeight(),s=0;s<i-1;s++)for(var a=r[s],u=0;u<o-1;u++){var l=a[u];l===a[u+1]&&l===r[s+1][u]&&l===r[s+1][u+1]&&n++}return t.N2*n},t.applyMaskPenaltyRule3=function(e){for(var n=0,r=e.getArray(),o=e.getWidth(),i=e.getHeight(),s=0;s<i;s++)for(var a=0;a<o;a++){var u=r[s];a+6<o&&u[a]===1&&u[a+1]===0&&u[a+2]===1&&u[a+3]===1&&u[a+4]===1&&u[a+5]===0&&u[a+6]===1&&(t.isWhiteHorizontal(u,a-4,a)||t.isWhiteHorizontal(u,a+7,a+11))&&n++,s+6<i&&r[s][a]===1&&r[s+1][a]===0&&r[s+2][a]===1&&r[s+3][a]===1&&r[s+4][a]===1&&r[s+5][a]===0&&r[s+6][a]===1&&(t.isWhiteVertical(r,a,s-4,s)||t.isWhiteVertical(r,a,s+7,s+11))&&n++}return n*t.N3},t.isWhiteHorizontal=function(e,n,r){n=Math.max(n,0),r=Math.min(r,e.length);for(var o=n;o<r;o++)if(e[o]===1)return!1;return!0},t.isWhiteVertical=function(e,n,r,o){r=Math.max(r,0),o=Math.min(o,e.length);for(var i=r;i<o;i++)if(e[i][n]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var n=0,r=e.getArray(),o=e.getWidth(),i=e.getHeight(),s=0;s<i;s++)for(var a=r[s],u=0;u<o;u++)a[u]===1&&n++;var l=e.getHeight()*e.getWidth();return Math.floor(10*Math.abs(2*n-l)/l)*t.N4},t.getDataMaskBit=function(e,n,r){var o,i;switch(e){case 0:o=r+n&1;break;case 1:o=1&r;break;case 2:o=n%3;break;case 3:o=(r+n)%3;break;case 4:o=Math.floor(r/2)+Math.floor(n/3)&1;break;case 5:o=(1&(i=r*n))+i%3;break;case 6:o=(1&(i=r*n))+i%3&1;break;case 7:o=(i=r*n)%3+(r+n&1)&1;break;default:throw new de("Invalid mask pattern: "+e)}return o===0},t.applyMaskPenaltyRule1Internal=function(e,n){for(var r=0,o=n?e.getHeight():e.getWidth(),i=n?e.getWidth():e.getHeight(),s=e.getArray(),a=0;a<o;a++){for(var u=0,l=-1,c=0;c<i;c++){var f=n?s[a][c]:s[c][a];f===l?u++:(u>=5&&(r+=t.N1+(u-5)),u=1,l=f)}u>=5&&(r+=t.N1+(u-5))}return r},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t}(),WV=function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new je;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t}(),GV=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ni=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return GV(e,t),e.kind="WriterException",e}(Sn);(function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,n,r,o,i){t.clearMatrix(i),t.embedBasicPatterns(r,i),t.embedTypeInfo(n,o,i),t.maybeEmbedVersionInfo(r,i),t.embedDataBits(e,o,i)},t.embedBasicPatterns=function(e,n){t.embedPositionDetectionPatternsAndSeparators(n),t.embedDarkDotAtLeftBottomCorner(n),t.maybeEmbedPositionAdjustmentPatterns(e,n),t.embedTimingPatterns(n)},t.embedTypeInfo=function(e,n,r){var o=new Cr;t.makeTypeInfoBits(e,n,o);for(var i=0,s=o.getSize();i<s;++i){var a=o.get(o.getSize()-1-i),u=t.TYPE_INFO_COORDINATES[i],l=u[0],c=u[1];if(r.setBoolean(l,c,a),i<8){var f=r.getWidth()-i-1,d=8;r.setBoolean(f,d,a)}else f=8,d=r.getHeight()-7+(i-8),r.setBoolean(f,d,a)}},t.maybeEmbedVersionInfo=function(e,n){if(!(e.getVersionNumber()<7)){var r=new Cr;t.makeVersionInfoBits(e,r);for(var o=17,i=0;i<6;++i)for(var s=0;s<3;++s){var a=r.get(o);o--,n.setBoolean(i,n.getHeight()-11+s,a),n.setBoolean(n.getHeight()-11+s,i,a)}}},t.embedDataBits=function(e,n,r){for(var o=0,i=-1,s=r.getWidth()-1,a=r.getHeight()-1;s>0;){for(s===6&&(s-=1);a>=0&&a<r.getHeight();){for(var u=0;u<2;++u){var l=s-u;if(t.isEmpty(r.get(l,a))){var c=void 0;o<e.getSize()?(c=e.get(o),++o):c=!1,n!==255&&zV.getDataMaskBit(n,l,a)&&(c=!c),r.setBoolean(l,a,c)}}a+=i}a+=i=-i,s-=2}if(o!==e.getSize())throw new Ni("Not all bits consumed: "+o+"/"+e.getSize())},t.findMSBSet=function(e){return 32-Vt.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,n){if(n===0)throw new de("0 polynomial");var r=t.findMSBSet(n);for(e<<=r-1;t.findMSBSet(e)>=r;)e^=n<<t.findMSBSet(e)-r;return e},t.makeTypeInfoBits=function(e,n,r){if(!WV.isValidMaskPattern(n))throw new Ni("Invalid mask pattern");var o=e.getBits()<<3|n;r.appendBits(o,5);var i=t.calculateBCHCode(o,t.TYPE_INFO_POLY);r.appendBits(i,10);var s=new Cr;if(s.appendBits(t.TYPE_INFO_MASK_PATTERN,15),r.xor(s),r.getSize()!==15)throw new Ni("should not happen but we got: "+r.getSize())},t.makeVersionInfoBits=function(e,n){n.appendBits(e.getVersionNumber(),6);var r=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(n.appendBits(r,12),n.getSize()!==18)throw new Ni("should not happen but we got: "+n.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var n=8;n<e.getWidth()-8;++n){var r=(n+1)%2;t.isEmpty(e.get(n,6))&&e.setNumber(n,6,r),t.isEmpty(e.get(6,n))&&e.setNumber(6,n,r)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Ni;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,n,r){for(var o=0;o<8;++o){if(!t.isEmpty(r.get(e+o,n)))throw new Ni;r.setNumber(e+o,n,0)}},t.embedVerticalSeparationPattern=function(e,n,r){for(var o=0;o<7;++o){if(!t.isEmpty(r.get(e,n+o)))throw new Ni;r.setNumber(e,n+o,0)}},t.embedPositionAdjustmentPattern=function(e,n,r){for(var o=0;o<5;++o)for(var i=t.POSITION_ADJUSTMENT_PATTERN[o],s=0;s<5;++s)r.setNumber(e+s,n+o,i[s])},t.embedPositionDetectionPattern=function(e,n,r){for(var o=0;o<7;++o)for(var i=t.POSITION_DETECTION_PATTERN[o],s=0;s<7;++s)r.setNumber(e+s,n+o,i[s])},t.embedPositionDetectionPatternsAndSeparators=function(e){var n=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-n,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-n,e),t.embedHorizontalSeparationPattern(0,7,e),t.embedHorizontalSeparationPattern(e.getWidth()-8,7,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-8,e),t.embedVerticalSeparationPattern(7,0,e),t.embedVerticalSeparationPattern(e.getHeight()-7-1,0,e),t.embedVerticalSeparationPattern(7,e.getHeight()-7,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,n){if(!(e.getVersionNumber()<2))for(var r=e.getVersionNumber()-1,o=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r],i=0,s=o.length;i!==s;i++){var a=o[i];if(a>=0)for(var u=0;u!==s;u++){var l=o[u];l>=0&&t.isEmpty(n.get(l,a))&&t.embedPositionAdjustmentPattern(l-2,a-2,n)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t})();(function(){Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),wn.UTF8.getName()})();var qV=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){function e(n,r,o,i,s,a,u,l){var c=t.call(this,a,u)||this;if(c.yuvData=n,c.dataWidth=r,c.dataHeight=o,c.left=i,c.top=s,i+a>r||s+u>o)throw new de("Crop rectangle does not fit within image data.");return l&&c.reverseHorizontal(a,u),c}qV(e,t),e.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new de("Requested row is outside the image: "+n);var o=this.getWidth();(r==null||r.length<o)&&(r=new Uint8ClampedArray(o));var i=(n+this.top)*this.dataWidth+this.left;return Je.arraycopy(this.yuvData,i,r,0,o),r},e.prototype.getMatrix=function(){var n=this.getWidth(),r=this.getHeight();if(n===this.dataWidth&&r===this.dataHeight)return this.yuvData;var o=n*r,i=new Uint8ClampedArray(o),s=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return Je.arraycopy(this.yuvData,s,i,0,o),i;for(var a=0;a<r;a++){var u=a*n;Je.arraycopy(this.yuvData,s,i,u,n),s+=this.dataWidth}return i},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,r,o,i){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+r,o,i,!1)},e.prototype.renderThumbnail=function(){for(var n=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(n*r),i=this.yuvData,s=this.top*this.dataWidth+this.left,a=0;a<r;a++){for(var u=a*n,l=0;l<n;l++){var c=255&i[s+l*e.THUMBNAIL_SCALE_FACTOR];o[u+l]=4278190080|65793*c}s+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return o},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(n,r){for(var o=this.yuvData,i=0,s=this.top*this.dataWidth+this.left;i<r;i++,s+=this.dataWidth)for(var a=s+n/2,u=s,l=s+n-1;u<a;u++,l--){var c=o[u];o[u]=o[l],o[l]=c}},e.prototype.invert=function(){return new Qd(this)},e.THUMBNAIL_SCALE_FACTOR=2})(rc);var KV=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){function e(n,r,o,i,s,a,u){var l=t.call(this,r,o)||this;if(l.dataWidth=i,l.dataHeight=s,l.left=a,l.top=u,n.BYTES_PER_ELEMENT===4){for(var c=r*o,f=new Uint8ClampedArray(c),d=0;d<c;d++){var p=n[d],m=p>>16&255,y=p>>7&510,_=255&p;f[d]=(m+y+_)/4&255}l.luminances=f}else l.luminances=n;if(i===void 0&&(l.dataWidth=r),s===void 0&&(l.dataHeight=o),a===void 0&&(l.left=0),u===void 0&&(l.top=0),l.left+r>l.dataWidth||l.top+o>l.dataHeight)throw new de("Crop rectangle does not fit within image data.");return l}KV(e,t),e.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new de("Requested row is outside the image: "+n);var o=this.getWidth();(r==null||r.length<o)&&(r=new Uint8ClampedArray(o));var i=(n+this.top)*this.dataWidth+this.left;return Je.arraycopy(this.luminances,i,r,0,o),r},e.prototype.getMatrix=function(){var n=this.getWidth(),r=this.getHeight();if(n===this.dataWidth&&r===this.dataHeight)return this.luminances;var o=n*r,i=new Uint8ClampedArray(o),s=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return Je.arraycopy(this.luminances,s,i,0,o),i;for(var a=0;a<r;a++){var u=a*n;Je.arraycopy(this.luminances,s,i,u,n),s+=this.dataWidth}return i},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,r,o,i){return new e(this.luminances,o,i,this.dataWidth,this.dataHeight,this.left+n,this.top+r)},e.prototype.invert=function(){return new Qd(this)}})(rc);var XV=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){function e(){return t!==null&&t.apply(this,arguments)||this}XV(e,t),e.forName=function(n){return this.getCharacterSetECIByName(n)}})(wn);var YV=function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t}(),QV=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),IA=function(t){function e(n,r,o){var i=t.call(this,n)||this;return i.value=r,i.bitCount=o,i}return QV(e,t),e.prototype.appendTo=function(n,r){n.appendBits(this.value,this.bitCount)},e.prototype.add=function(n,r){return new e(this,n,r)},e.prototype.addBinaryShift=function(n,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,n,r)},e.prototype.toString=function(){var n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+Vt.toBinaryString(n|1<<this.bitCount).substring(1)+">"},e}(YV),ZV=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){function e(n,r,o){var i=t.call(this,n,0,0)||this;return i.binaryShiftStart=r,i.binaryShiftByteCount=o,i}ZV(e,t),e.prototype.appendTo=function(n,r){for(var o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):o===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(r[this.binaryShiftStart+o],8)},e.prototype.addBinaryShift=function(n,r){return new e(this,n,r)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}})(IA);new IA(null,0,0);var JV=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(t){var e,n;try{for(var r=JV(t),o=r.next();!o.done;o=r.next()){var i=o.value;Fn.fill(i,-1)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}t[0][4]=0,t[1][4]=0,t[1][0]=28,t[3][4]=0,t[2][4]=0,t[2][0]=15})(Fn.createInt32Array(6,6)),function(t){var e=It.getCharCode(" "),n=It.getCharCode("."),r=It.getCharCode(",");t[0][e]=1;for(var o=It.getCharCode("Z"),i=It.getCharCode("A"),s=i;s<=o;s++)t[0][s]=s-i+2;t[1][e]=1;var a=It.getCharCode("z"),u=It.getCharCode("a");for(s=u;s<=a;s++)t[1][s]=s-u+2;t[2][e]=1;var l=It.getCharCode("9"),c=It.getCharCode("0");for(s=c;s<=l;s++)t[2][s]=s-c+2;t[2][r]=12,t[2][n]=13;for(var f=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],d=0;d<f.length;d++)t[3][It.getCharCode(f[d])]=d;var p=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(d=0;d<p.length;d++)It.getCharCode(p[d])>0&&(t[4][It.getCharCode(p[d])]=d)}(Fn.createInt32Array(5,256));var ej=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),tj=function(t){function e(n){var r=t.call(this,n.width,n.height)||this;return r.canvas=n,r.buffer=e.makeBufferFromCanvasImageData(n),r}return ej(e,t),e.makeBufferFromCanvasImageData=function(n){var r=n.getContext("2d");if(!r)throw new Error("Couldn't get canvas context.");var o=r.getImageData(0,0,n.width,n.height);return e.toGrayscaleBuffer(o.data,n.width,n.height)},e.toGrayscaleBuffer=function(n,r,o){for(var i=new Uint8ClampedArray(r*o),s=0,a=0,u=n.length;s<u;s+=4,a++){var l=void 0;n[s+3]===0?l=255:l=306*n[s]+601*n[s+1]+117*n[s+2]+512>>10,i[a]=l}return i},e.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new de("Requested row is outside the image: "+n);var o=this.getWidth(),i=n*o;return r===null?r=this.buffer.slice(i,i+o):(r.length<o&&(r=new Uint8ClampedArray(o)),r.set(this.buffer.slice(i,i+o))),r},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,r,o,i){return t.prototype.crop.call(this,n,r,o,i),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.invert=function(){return new Qd(this)},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement},e.prototype.rotate=function(n){var r=this.getTempCanvasElement();if(!r)throw new Error("Could not create a Canvas element.");var o=n*e.DEGREE_TO_RADIANS,i=this.canvas.width,s=this.canvas.height,a=Math.ceil(Math.abs(Math.cos(o))*i+Math.abs(Math.sin(o))*s),u=Math.ceil(Math.abs(Math.sin(o))*i+Math.abs(Math.cos(o))*s);r.width=a,r.height=u;var l=r.getContext("2d");if(!l)throw new Error("Could not create a Convas Context element.");return l.translate(a/2,u/2),l.rotate(o),l.drawImage(this.canvas,i/-2,s/-2),this.buffer=e.makeBufferFromCanvasImageData(r),this},e.DEGREE_TO_RADIANS=Math.PI/180,e}(rc);function TA(){return typeof navigator<"u"}function nj(){return!!(TA()&&navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices)}var Gs=function(){return Gs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Gs.apply(this,arguments)},at=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(l){try{u(r.next(l))}catch(c){i(c)}}function a(l){try{u(r.throw(l))}catch(c){i(c)}}function u(l){var c;l.done?o(l.value):(c=l.value,c instanceof n?c:new n(function(f){f(c)})).then(s,a)}u((r=r.apply(t,e||[])).next())})},ut=function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(u){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,r=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!((o=o.length>0&&o[o.length-1])||c[0]!==6&&c[0]!==2)){s=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){s.label=c[1];break}if(c[0]===6&&s.label<o[1]){s.label=o[1],o=c;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(c);break}o[2]&&s.ops.pop(),s.trys.pop();continue}c=e.call(t,s)}catch(f){c=[6,f],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([u,l])}}},Jc=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rj={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},Ha=function(){function t(e,n,r){n===void 0&&(n=new Map),r===void 0&&(r={}),this.reader=e,this.hints=n,this.options=Gs(Gs({},rj),r)}return Object.defineProperty(t.prototype,"possibleFormats",{set:function(e){this.hints.set(Ke.POSSIBLE_FORMATS,e)},enumerable:!1,configurable:!0}),t.addVideoSource=function(e,n){try{e.srcObject=n}catch{e.src=URL.createObjectURL(n)}},t.mediaStreamSetTorch=function(e,n){return at(this,void 0,void 0,function(){return ut(this,function(r){switch(r.label){case 0:return[4,e.applyConstraints({advanced:[{fillLightMode:n?"flash":"off",torch:!!n}]})];case 1:return r.sent(),[2]}})})},t.mediaStreamIsTorchCompatible=function(e){var n,r,o=e.getVideoTracks();try{for(var i=Jc(o),s=i.next();!s.done;s=i.next()){var a=s.value;if(t.mediaStreamIsTorchCompatibleTrack(a))return!0}}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1},t.mediaStreamIsTorchCompatibleTrack=function(e){try{return"torch"in e.getCapabilities()}catch(n){return console.error(n),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},t.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&e.readyState>2},t.getMediaElement=function(e,n){var r=document.getElementById(e);if(!r)throw new lt("element with id '"+e+"' not found");if(r.nodeName.toLowerCase()!==n.toLowerCase())throw new lt("element with id '"+e+"' must be an "+n+" element");return r},t.createVideoElement=function(e){if(e instanceof HTMLVideoElement)return e;if(typeof e=="string")return t.getMediaElement(e,"video");if(!e&&typeof document<"u"){var n=document.createElement("video");return n.width=200,n.height=200,n}throw new Error("Couldn't get videoElement from videoSource!")},t.prepareImageElement=function(e){if(e instanceof HTMLImageElement)return e;if(typeof e=="string")return t.getMediaElement(e,"img");if(e===void 0){var n=document.createElement("img");return n.width=200,n.height=200,n}throw new Error("Couldn't get imageElement from imageSource!")},t.prepareVideoElement=function(e){var n=t.createVideoElement(e);return n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n},t.isImageLoaded=function(e){return!!e.complete&&e.naturalWidth!==0},t.createBinaryBitmapFromCanvas=function(e){var n=new tj(e),r=new hA(n);return new dA(r)},t.drawImageOnCanvas=function(e,n){e.drawImage(n,0,0)},t.getMediaElementDimensions=function(e){if(e instanceof HTMLVideoElement)return{height:e.videoHeight,width:e.videoWidth};if(e instanceof HTMLImageElement)return{height:e.naturalHeight||e.height,width:e.naturalWidth||e.width};throw new Error("Couldn't find the Source's dimentions!")},t.createCaptureCanvas=function(e){if(!e)throw new lt("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error(`The page "Document" is undefined, make sure you're running in a browser.`);var n=document.createElement("canvas"),r=t.getMediaElementDimensions(e),o=r.width,i=r.height;return n.style.width=o+"px",n.style.height=i+"px",n.width=o,n.height=i,n},t.tryPlayVideo=function(e){return at(this,void 0,void 0,function(){var n;return ut(this,function(r){switch(r.label){case 0:if(e!=null&&e.ended)return console.error("Trying to play video that has ended."),[2,!1];if(t.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2,!0];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[2,!0];case 3:return n=r.sent(),console.warn("It was not possible to play the video.",n),[2,!1];case 4:return[2]}})})},t.createCanvasFromMediaElement=function(e){var n=t.createCaptureCanvas(e),r=n.getContext("2d");if(!r)throw new Error("Couldn't find Canvas 2D Context.");return t.drawImageOnCanvas(r,e),n},t.createBinaryBitmapFromMediaElem=function(e){var n=t.createCanvasFromMediaElement(e);return t.createBinaryBitmapFromCanvas(n)},t.destroyImageElement=function(e){e.src="",e.removeAttribute("src"),e=void 0},t.listVideoInputDevices=function(){return at(this,void 0,void 0,function(){var e,n,r,o,i,s,a,u,l,c,f,d;return ut(this,function(p){switch(p.label){case 0:if(!TA())throw new Error("Can't enumerate devices, navigator is not present.");if(!nj())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=p.sent(),n=[];try{for(r=Jc(e),o=r.next();!o.done;o=r.next())i=o.value,(s=i.kind==="video"?"videoinput":i.kind)==="videoinput"&&(a=i.deviceId||i.id,u=i.label||"Video device "+(n.length+1),l=i.groupId,c={deviceId:a,label:u,kind:s,groupId:l},n.push(c))}catch(m){f={error:m}}finally{try{o&&!o.done&&(d=r.return)&&d.call(r)}finally{if(f)throw f.error}}return[2,n]}})})},t.findDeviceById=function(e){return at(this,void 0,void 0,function(){var n;return ut(this,function(r){switch(r.label){case 0:return[4,t.listVideoInputDevices()];case 1:return(n=r.sent())?[2,n.find(function(o){return o.deviceId===e})]:[2]}})})},t.cleanVideoSource=function(e){if(e){try{e.srcObject=null}catch{e.src=""}e&&e.removeAttribute("src")}},t.playVideoOnLoadAsync=function(e,n){return at(this,void 0,void 0,function(){return ut(this,function(r){switch(r.label){case 0:return[4,t.tryPlayVideo(e)];case 1:return r.sent()?[2,!0]:[2,new Promise(function(o,i){var s=setTimeout(function(){t.isVideoPlaying(e)||(i(!1),e.removeEventListener("canplay",a))},n),a=function(){t.tryPlayVideo(e).then(function(u){clearTimeout(s),e.removeEventListener("canplay",a),o(u)})};e.addEventListener("canplay",a)})]}})})},t.attachStreamToVideo=function(e,n,r){return r===void 0&&(r=5e3),at(this,void 0,void 0,function(){var o;return ut(this,function(i){switch(i.label){case 0:return o=t.prepareVideoElement(n),t.addVideoSource(o,e),[4,t.playVideoOnLoadAsync(o,r)];case 1:return i.sent(),[2,o]}})})},t._waitImageLoad=function(e){return new Promise(function(n,r){var o=setTimeout(function(){t.isImageLoaded(e)||(e.removeEventListener("load",i),r())},1e4),i=function(){clearTimeout(o),e.removeEventListener("load",i),n()};e.addEventListener("load",i)})},t.checkCallbackFnOrThrow=function(e){if(!e)throw new lt("`callbackFn` is a required parameter, you cannot capture results without it.")},t.disposeMediaStream=function(e){e.getVideoTracks().forEach(function(n){return n.stop()}),e=void 0},t.prototype.decode=function(e){var n=t.createCanvasFromMediaElement(e);return this.decodeFromCanvas(n)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this.hints)},t.prototype.decodeFromCanvas=function(e){var n=t.createBinaryBitmapFromCanvas(e);return this.decodeBitmap(n)},t.prototype.decodeFromImageElement=function(e){return at(this,void 0,void 0,function(){var n;return ut(this,function(r){switch(r.label){case 0:if(!e)throw new lt("An image element must be provided.");return n=t.prepareImageElement(e),[4,this._decodeOnLoadImage(n)];case 1:return[2,r.sent()]}})})},t.prototype.decodeFromImageUrl=function(e){return at(this,void 0,void 0,function(){var n;return ut(this,function(r){switch(r.label){case 0:if(!e)throw new lt("An URL must be provided.");(n=t.prepareImageElement()).src=e,r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.decodeFromImageElement(n)];case 2:return[2,r.sent()];case 3:return t.destroyImageElement(n),[7];case 4:return[2]}})})},t.prototype.decodeFromConstraints=function(e,n,r){return at(this,void 0,void 0,function(){var o,i;return ut(this,function(s){switch(s.label){case 0:return t.checkCallbackFnOrThrow(r),[4,navigator.mediaDevices.getUserMedia(e)];case 1:o=s.sent(),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.decodeFromStream(o,n,r)];case 3:return[2,s.sent()];case 4:throw i=s.sent(),t.disposeMediaStream(o),i;case 5:return[2]}})})},t.prototype.decodeFromStream=function(e,n,r){return at(this,void 0,void 0,function(){var o,i,s,a,u,l,c,f,d,p,m=this;return ut(this,function(y){switch(y.label){case 0:return t.checkCallbackFnOrThrow(r),o=this.options.tryPlayVideoTimeout,[4,t.attachStreamToVideo(e,n,o)];case 1:return i=y.sent(),s=function(){var _,v;try{for(var g=Jc(e.getVideoTracks()),E=g.next();!E.done;E=g.next())E.value.stop()}catch(x){_={error:x}}finally{try{E&&!E.done&&(v=g.return)&&v.call(g)}finally{if(_)throw _.error}}e=void 0},a=function(){s(),t.cleanVideoSource(i)},u=this.scan(i,r,a),l=e.getVideoTracks(),c=Gs(Gs({},u),{stop:function(){u.stop()},streamVideoConstraintsApply:function(_,v){return at(this,void 0,void 0,function(){var g,E,x,P,N,I;return ut(this,function(C){switch(C.label){case 0:g=v?l.filter(v):l,C.label=1;case 1:C.trys.push([1,6,7,8]),E=Jc(g),x=E.next(),C.label=2;case 2:return x.done?[3,5]:[4,x.value.applyConstraints(_)];case 3:C.sent(),C.label=4;case 4:return x=E.next(),[3,2];case 5:return[3,8];case 6:return P=C.sent(),N={error:P},[3,8];case 7:try{x&&!x.done&&(I=E.return)&&I.call(E)}finally{if(N)throw N.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(_){return l.find(_).getConstraints()},streamVideoSettingsGet:function(_){return l.find(_).getSettings()},streamVideoCapabilitiesGet:function(_){return l.find(_).getCapabilities()}}),t.mediaStreamIsTorchCompatible(e)&&(f=l==null?void 0:l.find(function(_){return t.mediaStreamIsTorchCompatibleTrack(_)}),d=function(_){return at(m,void 0,void 0,function(){return ut(this,function(v){switch(v.label){case 0:return[4,t.mediaStreamSetTorch(f,_)];case 1:return v.sent(),[2]}})})},c.switchTorch=d,p=function(){u.stop(),d(!1)},c.stop=p),[2,c]}})})},t.prototype.decodeFromVideoDevice=function(e,n,r){return at(this,void 0,void 0,function(){var o;return ut(this,function(i){switch(i.label){case 0:return t.checkCallbackFnOrThrow(r),o={video:e?{deviceId:{exact:e}}:{facingMode:"environment"}},[4,this.decodeFromConstraints(o,n,r)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromVideoElement=function(e,n){return at(this,void 0,void 0,function(){var r,o;return ut(this,function(i){switch(i.label){case 0:if(t.checkCallbackFnOrThrow(n),!e)throw new lt("A video element must be provided.");return r=t.prepareVideoElement(e),o=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(r,o)];case 1:return i.sent(),[2,this.scan(r,n)]}})})},t.prototype.decodeFromVideoUrl=function(e,n){return at(this,void 0,void 0,function(){var r,o,i;return ut(this,function(s){switch(s.label){case 0:if(t.checkCallbackFnOrThrow(n),!e)throw new lt("An URL must be provided.");return(r=t.prepareVideoElement()).src=e,o=function(){t.cleanVideoSource(r)},i=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(r,i)];case 1:return s.sent(),[2,this.scan(r,n,o)]}})})},t.prototype.decodeOnceFromConstraints=function(e,n){return at(this,void 0,void 0,function(){var r;return ut(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=o.sent(),[4,this.decodeOnceFromStream(r,n)];case 2:return[2,o.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,n){return at(this,void 0,void 0,function(){var r,o;return ut(this,function(i){switch(i.label){case 0:return r=!!n,[4,t.attachStreamToVideo(e,n)];case 1:o=i.sent(),i.label=2;case 2:return i.trys.push([2,,4,5]),[4,this.scanOneResult(o)];case 3:return[2,i.sent()];case 4:return r||t.cleanVideoSource(o),[7];case 5:return[2]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,n){return at(this,void 0,void 0,function(){var r;return ut(this,function(o){switch(o.label){case 0:return r={video:e?{deviceId:{exact:e}}:{facingMode:"environment"}},[4,this.decodeOnceFromConstraints(r,n)];case 1:return[2,o.sent()]}})})},t.prototype.decodeOnceFromVideoElement=function(e){return at(this,void 0,void 0,function(){var n,r;return ut(this,function(o){switch(o.label){case 0:if(!e)throw new lt("A video element must be provided.");return n=t.prepareVideoElement(e),r=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(n,r)];case 1:return o.sent(),[4,this.scanOneResult(n)];case 2:return[2,o.sent()]}})})},t.prototype.decodeOnceFromVideoUrl=function(e){return at(this,void 0,void 0,function(){var n,r;return ut(this,function(o){switch(o.label){case 0:if(!e)throw new lt("An URL must be provided.");(n=t.prepareVideoElement()).src=e,r=this.decodeOnceFromVideoElement(n),o.label=1;case 1:return o.trys.push([1,,3,4]),[4,r];case 2:return[2,o.sent()];case 3:return t.cleanVideoSource(n),[7];case 4:return[2]}})})},t.prototype.scanOneResult=function(e,n,r,o){var i=this;return n===void 0&&(n=!0),r===void 0&&(r=!0),o===void 0&&(o=!0),new Promise(function(s,a){i.scan(e,function(u,l,c){if(u)return s(u),void c.stop();if(l){if(l instanceof z&&n||l instanceof wt&&r||l instanceof J&&o)return;c.stop(),a(l)}})})},t.prototype.scan=function(e,n,r){var o=this;t.checkCallbackFnOrThrow(n);var i=t.createCaptureCanvas(e),s=i.getContext("2d");if(!s)throw new Error("Couldn't create canvas for visual element scan.");var a,u=function(){s=void 0,i=void 0},l=!1,c={stop:function(){l=!0,clearTimeout(a),u(),r&&r()}},f=function(){if(!l)try{t.drawImageOnCanvas(s,e);var d=o.decodeFromCanvas(i);n(d,void 0,c),a=setTimeout(f,o.options.delayBetweenScanSuccess)}catch(p){if(n(void 0,p,c),p instanceof wt||p instanceof J||p instanceof z)return void(a=setTimeout(f,o.options.delayBetweenScanAttempts));u(),r&&r(p)}};return f(),c},t.prototype._decodeOnLoadImage=function(e){return at(this,void 0,void 0,function(){return ut(this,function(n){switch(n.label){case 0:return t.isImageLoaded(e)?[3,2]:[4,t._waitImageLoad(e)];case 1:n.sent(),n.label=2;case 2:return[2,this.decode(e)]}})})},t}(),oj=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){function e(n,r){return t.call(this,new Pf,n,r)||this}oj(e,t)})(Ha);var ij=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){function e(n,r){return t.call(this,new zs(n),n,r)||this}ij(e,t)})(Ha);var sj=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){function e(n,r){return t.call(this,new Nf,n,r)||this}sj(e,t)})(Ha);var aj=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){function e(n,r){var o=this,i=new AA;return i.setHints(n),(o=t.call(this,i,n,r)||this).reader=i,o}aj(e,t),Object.defineProperty(e.prototype,"possibleFormats",{set:function(n){this.hints.set(Ke.POSSIBLE_FORMATS,n),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),e.prototype.decodeBitmap=function(n){return this.reader.decodeWithState(n)},e.prototype.setHints=function(n){this.hints=n,this.reader.setHints(this.hints)}})(Ha);var uj=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){function e(n,r){return t.call(this,new kf,n,r)||this}uj(e,t)})(Ha);var lj=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),cj=function(t){function e(n,r){return t.call(this,new Of,n,r)||this}return lj(e,t),e}(Ha),e0=function(t,e,n){var r=typeof t===n;return r||console.warn('[ReactQrReader]: Expected "'.concat(e,'" to be a of type "').concat(n,'".')),r},fj=function(t){var e=t.scanDelay,n=t.constraints,r=t.onResult,o=t.videoId,i=B.useRef(null);B.useEffect(function(){var s=new cj(null,{delayBetweenScanAttempts:e});return!function(){var a=typeof navigator<"u"&&!!navigator.mediaDevices;return a||console.warn('[ReactQrReader]: MediaDevices API has no support for your browser. You can fix this by running "npm i webrtc-adapter"'),a}()&&e0(r,"onResult","function")&&r(null,new Error('MediaDevices API has no support for your browser. You can fix this by running "npm i webrtc-adapter"'),s),e0(n,"constraints","object")&&s.decodeFromConstraints({video:n},o,function(a,u){e0(r,"onResult","function")&&r(a,u,s)}).then(function(a){return i.current=a}).catch(function(a){e0(r,"onResult","function")&&r(null,a,s)}),function(){var a;(a=i.current)===null||a===void 0||a.stop()}},[])},ji=function(){return ji=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},ji.apply(this,arguments)},yE={container:{width:"100%",paddingTop:"100%",overflow:"hidden",position:"relative"},video:{top:0,left:0,width:"100%",height:"100%",display:"block",overflow:"hidden",position:"absolute",transform:void 0}},q2=function(t){var e=t.videoContainerStyle,n=t.containerStyle,r=t.videoStyle,o=t.constraints,i=t.ViewFinder,s=t.scanDelay,a=t.className,u=t.onResult,l=t.videoId;return fj({constraints:o,scanDelay:s,onResult:u,videoId:l}),B.createElement("section",{className:a,style:n},B.createElement("div",{style:ji(ji({},yE.container),e)},!!i&&B.createElement(i,null),B.createElement("video",{muted:!0,id:l,style:ji(ji(ji({},yE.video),r),{transform:(o==null?void 0:o.facingMode)==="user"&&"scaleX(-1)"})})))};q2.displayName="QrReader",q2.defaultProps={constraints:{facingMode:"user"},videoId:"video",scanDelay:500};function dj(){const[t,e]=B.useState("No result"),n=Ul(),r=B.useRef(null),o=()=>{if(r.current){const s=r.current.videoRef;s&&s.srcObject&&(s.srcObject.getTracks().forEach(l=>{l.stop()}),s.srcObject=null)}},i=s=>{e(s),o(),setTimeout(()=>{n(`/orderinfo/${s}`)},2e3)};return B.useEffect(()=>()=>{o()},[]),S.jsx(hs,{children:S.jsx("section",{className:"text-gray-600 body-font mt-10 mb-10",children:S.jsx("div",{className:"container px-5 mx-auto mb-10",children:S.jsxs("div",{style:{textAlign:"center"},children:[S.jsx(q2,{ref:r,onResult:(s,a)=>{s!=null&&s.text&&i(s.text),a&&console.error(a)},style:{width:"100%"}}),S.jsx("p",{children:t})]})})})})}function hj(){const t=B.useContext(gn),{mode:e,product:n,edithandle:r,deleteProduct:o,order:i,user:s}=t,a=Ul(),u=f=>{const d=sA(f);a(`/orderinfo/${d}`)},l=()=>{a("/dashboard/scan")};B.useState(!1);const c=()=>{window.location.href="/addproduct"};return S.jsx(S.Fragment,{children:S.jsx("div",{className:"container mx-auto",children:S.jsx("div",{className:"tab container mx-auto ",children:S.jsxs(dy,{defaultIndex:0,className:" ",children:[S.jsxs(hy,{className:"md:flex md:space-x-8 bg-  grid grid-cols-2 text-center gap-4   md:justify-center mb-10 ",children:[S.jsx(Ju,{children:S.jsxs("button",{type:"button",className:"font-medium border-b-2 hover:shadow-purple-700 border-purple-500 text-purple-500 rounded-lg text-xl shadow-[inset_0_0_8px_rgba(0,0,0,0.6)]  px-5 py-1.5 text-center bg-[#605d5d12] ",children:[S.jsxs("div",{className:"flex gap-2 items-center",children:[S.jsx(lF,{}),"Products"]})," "]})}),S.jsx(Ju,{children:S.jsx("button",{type:"button",className:"font-medium border-b-2 border-pink-500 bg-[#605d5d12] text-pink-500  hover:shadow-pink-700  rounded-lg text-xl shadow-[inset_0_0_8px_rgba(0,0,0,0.6)]    px-5 py-1.5 text-center ",children:S.jsxs("div",{className:"flex gap-2 items-center",children:[S.jsx(cF,{})," Orders"]})})}),S.jsx(Ju,{children:S.jsx("button",{type:"button",className:"font-medium border-b-2 border-green-500 bg-[#605d5d12] text-green-500 rounded-lg text-xl  hover:shadow-green-700 shadow-[inset_0_0_8px_rgba(0,0,0,0.6)]   px-5 py-1.5 text-center ",children:S.jsxs("div",{className:"flex gap-2 items-center",children:[S.jsx(JM,{})," Users"]})})}),S.jsx("button",{onClick:l,type:"button",className:"font-medium border-b-2 border-blue-500 bg-[#605d5d12] text-blue-500 rounded-lg text-xl  hover:shadow-green-700 shadow-[inset_0_0_8px_rgba(0,0,0,0.6)]   px-5 py-1.5 text-center ",children:S.jsxs("div",{className:"flex gap-2 items-center",children:[S.jsx(ZM,{})," Scan & Serve"]})})]}),S.jsx(el,{children:S.jsxs("div",{className:"  px-4 md:px-0 mb-16",children:[S.jsx("h1",{className:" text-center mb-5 text-3xl font-semibold underline",style:{color:e==="dark"?"white":""},children:"Product Details"}),S.jsx("div",{className:" flex justify-end",children:S.jsxs("button",{onClick:c,type:"button",className:"focus:outline-none text-white bg-pink-600 shadow-[inset_0_0_10px_rgba(0,0,0,0.6)] border hover:bg-pink-700 outline-0 font-medium rounded-lg text-sm px-5 py-2.5 mb-2",style:{backgroundColor:e==="dark"?"rgb(46 49 55)":"",color:e==="dark"?"white":""},children:[" ",S.jsxs("div",{className:"flex gap-2 items-center",children:["Add Product ",S.jsx(QM,{size:20})]})]})}),S.jsx("div",{className:"relative overflow-x-auto ",children:S.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400  ",children:[S.jsx("thead",{className:"text-xs border border-gray-600 text-black uppercase bg-gray-200 shadow-[inset_0_0_8px_rgba(0,0,0,0.6)]",style:{backgroundColor:e==="dark"?"rgb(46 49 55)":"",color:e==="dark"?"white":""},children:S.jsxs("tr",{children:[S.jsx("th",{scope:"col",className:"px-6 py-3",children:"S.No"}),S.jsx("th",{scope:"col",className:"px-6 py-3",children:"Image"}),S.jsx("th",{scope:"col",className:"px-6 py-3",children:"Title"}),S.jsx("th",{scope:"col",className:"px-6 py-3",children:"Price"}),S.jsx("th",{scope:"col",className:"px-6 py-3",children:"Category"}),S.jsx("th",{scope:"col",className:"px-6 py-3",children:"Date"}),S.jsx("th",{scope:"col",className:"px-6 py-3",children:"In Stock"}),S.jsx("th",{scope:"col",className:"px-6 py-3",children:"Action"})]})}),n.map((f,d)=>{const{title:p,price:m,imageUrl:y,category:_,inStock:v,date:g}=f;return S.jsx("tbody",{className:"",children:S.jsxs("tr",{className:"bg-gray-50 border-b  dark:border-gray-700",style:{backgroundColor:e==="dark"?"rgb(46 49 55)":"",color:e==="dark"?"white":""},children:[S.jsxs("td",{className:"px-6 py-4 text-black ",style:{color:e==="dark"?"white":""},children:[d+1,"."]}),S.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-black whitespace-nowrap",children:S.jsx("img",{className:"w-16",src:y,alt:"img"})}),S.jsx("td",{className:"px-6 py-4 text-black ",style:{color:e==="dark"?"white":""},children:p}),S.jsxs("td",{className:"px-6 py-4 text-black ",style:{color:e==="dark"?"white":""},children:["",m]}),S.jsx("td",{className:"px-6 py-4 text-black ",style:{color:e==="dark"?"white":""},children:_}),S.jsx("td",{className:"px-6 py-4 text-black ",style:{color:e==="dark"?"white":""},children:g}),S.jsx("td",{className:"px-6 py-4",style:{color:e==="dark"?"white":""},children:v==1?"":""}),S.jsx("td",{className:"px-6 py-4",children:S.jsx("div",{className:" flex gap-2",children:S.jsxs("div",{className:" flex gap-2 cursor-pointer text-black ",style:{color:e==="dark"?"white":""},children:[S.jsx("div",{onClick:()=>o(f),children:S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),S.jsx(Wn,{to:"/updateproduct",children:S.jsx("div",{onClick:()=>r(f),children:S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})})})})]})})})]})})})]})})]})}),S.jsx(el,{children:S.jsxs("div",{className:"relative overflow-x-auto mb-16",children:[S.jsx("h1",{className:" text-center mb-5 text-3xl font-semibold underline",style:{color:e==="dark"?"white":""},children:"Order Details"}),i.map((f,d)=>S.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[S.jsx("thead",{className:"text-xs text-black uppercase bg-gray-200 ",style:{backgroundColor:e==="dark"?"rgb(46 49 55)":"",color:e==="dark"?"white":""},children:S.jsxs("tr",{children:[S.jsx("th",{scope:"col",className:"px-6 py-3",children:"Payment Id"}),S.jsx("th",{scope:"col",className:"px-6 py-3",children:"Image"}),S.jsx("th",{scope:"col",className:"px-6 py-3",children:"Title"}),S.jsx("th",{scope:"col",className:"px-6 py-3",children:"Price"}),S.jsx("th",{scope:"col",className:"px-6 py-3",children:"Category"}),S.jsx("th",{scope:"col",className:"px-6 py-3",children:"Name"}),S.jsx("th",{scope:"col",className:"px-6 py-3",children:"Phone Number"}),S.jsx("th",{scope:"col",className:"px-6 py-3",children:"Date"}),S.jsx("th",{scope:"col",className:"px-6 py-3",children:"Served"}),S.jsx("th",{scope:"col",className:"px-6 py-3",children:"Update Order"})]})}),f.cartItems.map(p=>{const{title:m,inStock:y,category:_,imageUrl:v,price:g}=p;return S.jsx("tbody",{children:S.jsxs("tr",{className:"bg-gray-50 border-b  dark:border-gray-700",style:{backgroundColor:e==="dark"?"rgb(46 49 55)":"",color:e==="dark"?"white":""},children:[S.jsx("td",{className:"px-6 py-4 text-black ",style:{color:e==="dark"?"white":""},children:f.paymentId}),S.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-black whitespace-nowrap",children:S.jsx("img",{className:"w-16",src:v,alt:"img"})}),S.jsx("td",{className:"px-6 py-4 text-black ",style:{color:e==="dark"?"white":""},children:m}),S.jsxs("td",{className:"px-6 py-4 text-black ",style:{color:e==="dark"?"white":""},children:["",g]}),S.jsx("td",{className:"px-6 py-4 text-black ",style:{color:e==="dark"?"white":""},children:_}),S.jsx("td",{className:"px-6 py-4 text-black ",style:{color:e==="dark"?"white":""},children:f.addressInfo.name}),S.jsx("td",{className:"px-6 py-4 text-black ",style:{color:e==="dark"?"white":""},children:f.addressInfo.phoneNumber}),S.jsx("td",{className:"px-6 py-4 text-black ",style:{color:e==="dark"?"white":""},children:f.date}),S.jsx("td",{className:"px-6 py-4 text-black ",style:{color:e==="dark"?"white":""},children:f.isServed==1?"":""}),S.jsx("td",{className:"px-6 py-4 text-black ",style:{color:e==="dark"?"white":""},children:S.jsx("button",{onClick:()=>u(f.paymentId),className:"font-medium border-b-2 border-red-500 bg-[#605d5d12] text-red-500 rounded-lg text-xl  hover:shadow-green-700 shadow-[inset_0_0_8px_rgba(0,0,0,0.6)]   px-5 py-1.5 text-center mx-auto",children:"Update"})})]})})})]}))]})}),S.jsx(el,{children:S.jsxs("div",{className:"relative overflow-x-auto mb-10",children:[S.jsx("h1",{className:" text-center mb-5 text-3xl font-semibold underline",style:{color:e==="dark"?"white":""},children:"User Details"}),S.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[S.jsx("thead",{className:"text-xs text-black uppercase bg-gray-200 ",style:{backgroundColor:e==="dark"?"rgb(46 49 55)":"",color:e==="dark"?"white":""},children:S.jsxs("tr",{children:[S.jsx("th",{scope:"col",className:"px-6 py-3",children:"S.No"}),S.jsx("th",{scope:"col",className:"px-6 py-3",children:"Name"}),S.jsx("th",{scope:"col",className:"px-6 py-3",children:"Email"}),S.jsx("th",{scope:"col",className:"px-6 py-3",children:"Uid"})]})}),s.map((f,d)=>{const{name:p,uid:m,email:y,date:_}=f;return S.jsx("tbody",{children:S.jsxs("tr",{className:"bg-gray-50 border-b  dark:border-gray-700",style:{backgroundColor:e==="dark"?"rgb(46 49 55)":"",color:e==="dark"?"white":""},children:[S.jsxs("td",{className:"px-6 py-4 text-black ",style:{color:e==="dark"?"white":""},children:[d+1,"."]}),S.jsx("td",{className:"px-6 py-4 text-black ",style:{color:e==="dark"?"white":""},children:p}),S.jsx("td",{className:"px-6 py-4 text-black ",style:{color:e==="dark"?"white":""},children:y}),S.jsx("td",{className:"px-6 py-4 text-black ",style:{color:e==="dark"?"white":""},children:m})]})})})]})]})})]})})})})}function pj(){return B.useContext(gn),S.jsx(hs,{children:S.jsxs("section",{className:"text-gray-600 body-font mt-10 mb-10",children:[S.jsx("div",{className:"container px-5 mx-auto mb-10"}),S.jsx(hj,{})]})})}function mj(){return S.jsx("div",{children:"NoPage"})}function gj(t){const[e,n]=B.useState("light"),r=()=>{e==="light"?(n("dark"),document.body.style.backgroundColor="rgb(17, 24, 39)"):(n("light"),document.body.style.backgroundColor="white")},[o,i]=B.useState(!1),[s,a]=B.useState({title:null,price:null,imageUrl:null,category:null,inStock:null,time:gt.now(),date:new Date().toLocaleString("en-US",{month:"short",day:"2-digit",year:"numeric"})}),u=async()=>{if(s.title==null||s.price==null||s.imageUrl==null||s.category==null||s.inStock==null)return Se.error("all fields are required");i(!0);try{const R=Gi(Lr,"products");await _C(R,s),Se.success("Add product successfully"),setTimeout(()=>{window.location.href="/dashboard"},800),f(),i(!1)}catch(R){console.log(R),i(!1)}},[l,c]=B.useState([]),f=async()=>{i(!0);try{const R=k2(Gi(Lr,"products"),$O("time")),k=KO(R,b=>{let U=[];b.forEach(K=>{U.push({...K.data(),id:K.id})}),c(U),i(!1)});return()=>k}catch(R){console.log(R),i(!1)}};B.useEffect(()=>{f()},[]);const d=R=>{a(R)},p=async()=>{i(!0);try{await WO(N2(Lr,"products",s.id),s),Se.success("Product Updated successfully"),setTimeout(()=>{window.location.href="/dashboard"},800),f(),i(!1)}catch(R){console.log(R),i(!1)}},m=async R=>{i(!0);try{await qO(N2(Lr,"products",R.id)),Se.success("Product Deleted successfully"),f(),i(!1)}catch(k){console.log(k),i(!1)}},[y,_]=B.useState([]),v=async()=>{i(!0);try{const R=await Cf(Gi(Lr,"order")),k=[];R.forEach(b=>{k.push(b.data()),i(!1)}),_(k),console.log(k),i(!1)}catch(R){console.log(R),i(!1)}},[g,E]=B.useState([]),x=async()=>{i(!0);try{const R=await Cf(Gi(Lr,"users")),k=[];R.forEach(b=>{k.push(b.data()),i(!1)}),E(k),console.log(k),i(!1)}catch(R){console.log(R),i(!1)}};B.useEffect(()=>{v(),x()},[]);const[P,N]=B.useState(""),[I,C]=B.useState(""),[D,T]=B.useState("");return S.jsx(gn.Provider,{value:{mode:e,toggleMode:r,loading:o,setLoading:i,products:s,setProducts:a,addProduct:u,product:l,edithandle:d,updateProduct:p,deleteProduct:m,order:y,user:g,searchkey:P,setSearchkey:N,filterType:I,setFilterType:C,filterPrice:D,setFilterPrice:T},children:t.children})}function yj(){const t=B.useContext(gn),{loading:e,setLoading:n}=t,[r,o]=B.useState(""),[i,s]=B.useState(""),a=Ul(),u=async()=>{n(!0);try{const l=await qk(lM,r,i);Se.success("Login successful",{position:"top-right",autoClose:2e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}),localStorage.setItem("user",JSON.stringify(l)),a("/"),n(!1)}catch(l){console.log(l),n(e)}};return S.jsxs("div",{className:" flex justify-center items-center h-screen",children:[e&&S.jsx(k6,{}),S.jsxs("div",{className:" bg-gray-800 px-10 py-10 rounded-xl ",children:[S.jsx("div",{className:"",children:S.jsx("h1",{className:"text-center text-white text-xl mb-4 font-bold",children:"Login"})}),S.jsx("div",{children:S.jsx("input",{type:"email",value:r,onChange:l=>o(l.target.value),name:"email",className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Email"})}),S.jsx("div",{children:S.jsx("input",{type:"password",value:i,onChange:l=>s(l.target.value),className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Password"})}),S.jsx("div",{className:" flex justify-center mb-3",children:S.jsx("button",{onClick:u,className:" bg-yellow-500 w-full text-black font-bold  px-2 py-2 rounded-lg",children:"Login"})}),S.jsx("div",{children:S.jsxs("h2",{className:"text-white",children:["Don't have an account ",S.jsx(Wn,{className:" text-yellow-500 font-bold",to:"/signup",children:"Signup"})]})})]})]})}const vj=()=>{const[t,e]=B.useState(null),n=X9(),r=KM(n.id),o=B.useContext(gn),{mode:i,loading:s}=o;B.useEffect(()=>{(async()=>{try{const f=Gi(Lr,"order"),d=k2(f,Uw("paymentId","==",r)),p=await Cf(d);if(p.empty)console.log("Order not found");else{const m=p.docs[0].data();e(m)}}catch(f){console.error("Error fetching order:",f)}})()},[r]);const a=async(c,f)=>{try{console.log("Searching for payment ID:",c);const d=Gi(Lr,"order"),p=k2(d,Uw("paymentId","==",c)),m=await Cf(p);if(m.empty)console.log("No order found with this payment ID");else{const y=m.docs[0].ref;await GO(y,f),console.log("Order updated successfully"),window.location.reload()}}catch(d){console.error("Error updating order:",d)}},u=()=>{a(r,{isServed:"1"})},l=()=>{a(r,{isServed:"0"})};return t?S.jsx(hs,{children:S.jsxs("div",{className:" bg-gray-100 pt-5 pb-20",style:{backgroundColor:i==="dark"?"#282c34":"",color:i==="dark"?"white":""},children:[S.jsx("div",{className:"text-center mb-5 flex justify-center",children:S.jsx("h1",{className:"text-3xl font-semibold",style:{color:Number(t.isServed)===1?i==="dark"?"lightgreen":"green":i==="dark"?"lightcoral":"red"},children:Number(t.isServed)===1?"This order has been Served":"This order has Not been Served"})}),S.jsxs("div",{className:"relative overflow-x-auto mb-16 mx-20",children:[S.jsx("h1",{className:"text-center mb-5 text-3xl font-semibold underline",style:{color:i==="dark"?"white":""},children:"Order Details"}),S.jsxs("table",{className:" w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[S.jsx("thead",{className:"text-xs text-black uppercase bg-gray-200",style:{backgroundColor:i==="dark"?"rgb(46 49 55)":"",color:i==="dark"?"white":""},children:S.jsxs("tr",{children:[S.jsx("th",{className:"px-6 py-3",children:"Title"}),S.jsx("th",{className:"px-6 py-3",children:"Image"}),S.jsx("th",{className:"px-6 py-3",children:"Price"}),S.jsx("th",{className:"px-6 py-3",children:"Category"}),S.jsx("th",{className:"px-6 py-3",children:"Name"}),S.jsx("th",{className:"px-6 py-3",children:"Phone Number"}),S.jsx("th",{className:"px-6 py-3",children:"Date"}),S.jsx("th",{className:"px-6 py-3",children:"Served"})]})}),S.jsx("tbody",{children:t.cartItems&&t.cartItems.map((c,f)=>{const{title:d,category:p,imageUrl:m,price:y}=c;return S.jsxs("tr",{className:"bg-gray-50 border-b dark:border-gray-700",style:{backgroundColor:i==="dark"?"rgb(46 49 55)":"",color:i==="dark"?"white":""},children:[S.jsx("td",{className:"px-6 py-4",style:{color:i==="dark"?"white":""},children:d}),S.jsx("td",{className:"px-6 py-4",children:S.jsx("img",{className:"w-16",src:m,alt:"img"})}),S.jsxs("td",{className:"px-6 py-4",style:{color:i==="dark"?"white":""},children:["",y]}),S.jsx("td",{className:"px-6 py-4",style:{color:i==="dark"?"white":""},children:p}),S.jsx("td",{className:"px-6 py-4",style:{color:i==="dark"?"white":""},children:t.addressInfo.name}),S.jsx("td",{className:"px-6 py-4",style:{color:i==="dark"?"white":""},children:t.addressInfo.phoneNumber}),S.jsx("td",{className:"px-6 py-4",style:{color:i==="dark"?"white":""},children:t.date}),S.jsx("td",{className:"px-6 py-4",style:{color:i==="dark"?"white":""},children:t.isServed==1?"":""})]},f)})})]})]}),S.jsxs("div",{className:"flex justify-evenly",children:[S.jsx("button",{onClick:u,className:"font-medium border-b-2 border-blue-500 bg-[#605d5d12] text-blue-500 rounded-lg text-xl  hover:shadow-green-700 shadow-[inset_0_0_8px_rgba(0,0,0,0.6)]   px-5 py-1.5 text-center mx-auto",children:"Mark as Served"}),S.jsx("button",{onClick:l,className:"font-medium border-b-2 border-red-500 bg-[#605d5d12] text-red-500 rounded-lg text-xl  hover:shadow-green-700 shadow-[inset_0_0_8px_rgba(0,0,0,0.6)]   px-5 py-1.5 text-center mx-auto",children:"Mark as Not Served"})]})]})}):S.jsx("div",{children:"Loading order..."})};function _j(){const t=B.useContext(gn),{products:e,setProducts:n,addProduct:r}=t;return S.jsx("div",{children:S.jsx("div",{className:"flex justify-center items-center h-screen",children:S.jsxs("div",{className:" bg-gray-800 px-10 py-10 rounded-xl ",children:[S.jsx("div",{className:"",children:S.jsx("h1",{className:"text-center text-white text-xl mb-4 font-bold",children:"Add Product"})}),S.jsx("div",{children:S.jsx("input",{type:"text",value:e.title,onChange:o=>n({...e,title:o.target.value}),name:"title",className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Product title"})}),S.jsx("div",{children:S.jsx("input",{type:"text",value:e.price,onChange:o=>n({...e,price:o.target.value}),name:"price",className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Product price"})}),S.jsx("div",{children:S.jsx("input",{type:"text",value:e.imageUrl,onChange:o=>n({...e,imageUrl:o.target.value}),name:"imageurl",className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Product imageUrl"})}),S.jsx("div",{children:S.jsx("input",{type:"text",value:e.category,onChange:o=>n({...e,category:o.target.value}),name:"category",className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Product category"})}),S.jsx("div",{children:S.jsx("input",{type:"text",name:"title",value:e.inStock,onChange:o=>n({...e,inStock:o.target.value}),className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Enter 1 if in stock else 0."})}),S.jsx("div",{className:" flex justify-center mb-3",children:S.jsx("button",{onClick:r,className:" bg-yellow-500 w-full text-black font-bold  px-2 py-2 rounded-lg",children:"Add Product"})})]})})})}function wj(){const t=B.useContext(gn),{products:e,setProducts:n,updateProduct:r}=t;return S.jsx("div",{children:S.jsx("div",{className:" flex justify-center items-center h-screen",children:S.jsxs("div",{className:" bg-gray-800 px-10 py-10 rounded-xl ",children:[S.jsx("div",{className:"",children:S.jsx("h1",{className:"text-center text-white text-xl mb-4 font-bold",children:"Update Product"})}),S.jsx("div",{children:S.jsx("input",{type:"text",value:e.title,onChange:o=>n({...e,title:o.target.value}),name:"title",className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Product title"})}),S.jsx("div",{children:S.jsx("input",{type:"text",value:e.price,onChange:o=>n({...e,price:o.target.value}),name:"price",className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Product price"})}),S.jsx("div",{children:S.jsx("input",{type:"text",value:e.imageUrl,onChange:o=>n({...e,imageUrl:o.target.value}),name:"imageurl",className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Product imageUrl"})}),S.jsx("div",{children:S.jsx("input",{type:"text",value:e.category,onChange:o=>n({...e,category:o.target.value}),name:"category",className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Product category"})}),S.jsx("div",{children:S.jsx("input",{type:"text",name:"title",value:e.inStock,onChange:o=>n({...e,inStock:o.target.value}),className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Enter 1 if in stock else 0."})}),S.jsx("div",{className:" flex justify-center mb-3",children:S.jsx("button",{onClick:r,className:" bg-yellow-500 w-full text-black font-bold  px-2 py-2 rounded-lg",children:"Update Product"})})]})})})}function Ej(){const t=B.useContext(gn),{mode:e,product:n,searchkey:r,setSearchkey:o,filterType:i,setFilterType:s,filterPrice:a,setFilterPrice:u}=t,l=sg(),c=rd(d=>d.cart);console.log(c);const f=d=>{l(P6(d)),toast.success("add to cart")};return B.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(c))},[c]),B.useEffect(()=>{window.scrollTo(0,0)},[]),S.jsx(hs,{children:S.jsx("section",{className:"text-gray-600 body-font",children:S.jsxs("div",{className:"container px-5 py-8 md:py-16 mx-auto",children:[S.jsxs("div",{class:"lg:w-1/2 w-full mb-6 lg:mb-10",children:[S.jsx("h1",{class:"sm:text-3xl text-2xl font-medium title-font mb-2 text-gray-900",style:{color:e==="dark"?"white":""},children:"Our Menu"}),S.jsx("div",{class:"h-1 w-20 bg-pink-600 rounded"})]}),S.jsx("div",{className:"flex flex-wrap -m-4",children:n.filter(d=>d.title.toLowerCase().includes(r)).filter(d=>d.category.toLowerCase().includes(i)).filter(d=>d.price.includes(a)).map((d,p)=>{const{title:m,price:y,inStock:_,imageUrl:v,id:g}=d;return S.jsx("div",{className:"p-4 md:w-1/4 drop-shadow-lg",children:S.jsxs("div",{className:"h-full border-2 hover:shadow-gray-100 hover:shadow-2xl transition-shadow duration-300 ease-in-out border-gray-200 border-opacity-60 rounded-2xl overflow-hidden",style:{backgroundColor:e==="dark"?"rgb(46 49 55)":"",color:e==="dark"?"white":""},children:[S.jsx("div",{className:"flex justify-center cursor-pointer",children:S.jsx("img",{className:"rounded-2xl w-full h-80 object-cover p-2 hover:scale-110 transition-transform duration-300 ease-in-out",src:v,alt:"product"})}),S.jsxs("div",{className:"p-5 border-t-2",children:[S.jsx("h2",{className:"tracking-widest text-xs title-font font-medium text-gray-400 mb-1",style:{color:e==="dark"?"white":""},children:"JIIT Cafeteria"}),S.jsxs("h1",{className:"title-font text-lg font-medium text-gray-900 mb-3",style:{color:e==="dark"?"white":""},children:[m," ",S.jsx("span",{className:_==="1"?"":"border-4 border-red-500 font-bold ",style:{color:e==="dark"?"white":""},children:_==="1"?"":"Out of Stock"})]}),S.jsxs("p",{className:"leading-relaxed mb-3",style:{color:e==="dark"?"white":""},children:["",y]}),S.jsx("div",{className:"flex justify-center",children:S.jsx("button",{type:"button",onClick:()=>{_==="1"&&f(d)},className:"focus:outline-none text-white bg-pink-600 hover:bg-pink-700 focus:ring-4 focus:ring-purple-300 font-medium rounded-lg text-sm w-full py-2",children:_==="1"?"Add To Cart":"Out of Stock"})})]})]})},p)})})]})})})}function xj(){return S.jsx(gj,{children:S.jsxs(mT,{children:[S.jsxs(lT,{children:[S.jsx(Dn,{path:"/",element:S.jsx(hR,{})}),S.jsx(Dn,{path:"/allproducts",element:S.jsx(Ej,{})}),S.jsx(Dn,{path:"/order",element:S.jsx(Cj,{children:S.jsx(pR,{})})}),S.jsx(Dn,{path:"/cart",element:S.jsx(YM,{})}),S.jsx(Dn,{path:"/dashboard",element:S.jsx(Eu,{children:S.jsx(pj,{})})}),S.jsx(Dn,{path:"/dashboard/scan",element:S.jsxs(Eu,{children:[S.jsx(dj,{}),"a\\"]})}),S.jsx(Dn,{path:"/login",element:S.jsx(yj,{})}),S.jsx(Dn,{path:"/orderinfo/:id",element:S.jsx(Eu,{children:S.jsx(vj,{})})}),S.jsx(Dn,{path:"/dashboard/orderinfo/",element:S.jsx(Km,{to:"/dashboard"})}),S.jsx(Dn,{path:"/addproduct",element:S.jsx(Eu,{children:S.jsx(_j,{})})}),S.jsx(Dn,{path:"/updateproduct",element:S.jsx(Eu,{children:S.jsx(wj,{})})}),S.jsx(Dn,{path:"/*",element:S.jsx(mj,{})})]}),S.jsx(f2,{position:"top-center"})]})})}const Cj=({children:t})=>localStorage.getItem("user")?t:S.jsx(Km,{to:"/login"}),Eu=({children:t})=>JSON.parse(localStorage.getItem("user")).user.email==="123@gmail.com"?t:S.jsx(Km,{to:"/login"});const Aj=$b({reducer:{cart:tR},devTools:!0});tp.createRoot(document.getElementById("root")).render(S.jsx(ne.StrictMode,{children:S.jsx(ob,{store:Aj,children:S.jsx(xj,{})})}));
